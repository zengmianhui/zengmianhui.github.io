{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/blog_head.jpg","path":"blog_head.jpg","modified":0,"renderable":0},{"_id":"source/favicon.ico","path":"favicon.ico","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/bower.json","path":"vendors/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/LICENSE","path":"vendors/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/README.md","path":"vendors/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/bower.json","path":"vendors/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","path":"vendors/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","path":"vendors/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","path":"vendors/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","path":"vendors/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","path":"vendors/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","path":"vendors/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/bower.json","path":"vendors/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","path":"vendors/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","path":"vendors/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","path":"vendors/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery/index.js","path":"vendors/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","path":"vendors/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","path":"vendors/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","path":"vendors/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","path":"vendors/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","path":"vendors/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","path":"vendors/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","path":"vendors/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","path":"vendors/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","path":"vendors/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","path":"vendors/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","path":"vendors/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","path":"vendors/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","path":"vendors/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","path":"vendors/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","path":"vendors/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","path":"vendors/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","path":"vendors/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","path":"vendors/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.js","path":"vendors/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","path":"vendors/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","path":"vendors/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","path":"vendors/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/blog_head.jpg","hash":"46f3f6dcc3278f3b995a489c0e41f88842cbe2b6","modified":1493205459627},{"_id":"source/favicon.ico","hash":"f674a0dad4d06dd5416e7b8d1b3fa24d34c4bb43","modified":1493998230466},{"_id":"themes/next/.bowerrc","hash":"80e096fdc1cf912ee85dd9f7e6e77fd40cf60f10","modified":1462448087000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1462448087000},{"_id":"themes/next/.gitignore","hash":"efec790f5b7a0256763e1cc08f12c4f0aff509f6","modified":1462448087000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1462448087000},{"_id":"themes/next/.javascript_ignore","hash":"d619ee13031908cd72666e4ff652d2ea3483b1c3","modified":1462448087000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1462448087000},{"_id":"themes/next/README.en.md","hash":"565ba52b3825b85a9f05b41183caca7f18b741d4","modified":1462448087000},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1462448087000},{"_id":"themes/next/_config.yml","hash":"32bad93f2624e3267da6cc6fd34c3dd732c761a7","modified":1524382721580},{"_id":"themes/next/bower.json","hash":"f89c6700a11d81e067cc97273ca6bf96cb88c8f9","modified":1462448087000},{"_id":"themes/next/gulpfile.coffee","hash":"26e5b1b945704c8bc78b928feede895c4c111c95","modified":1462448087000},{"_id":"themes/next/package.json","hash":"63e9c0f1dd9e5d7f51b4ae383981ef939a2ed45d","modified":1462448087000},{"_id":"source/_posts/AlarmManager详解.md","hash":"311d0356dd006a08acfae6b180ba0fa50efd8429","modified":1492522010398},{"_id":"source/_posts/Android-Service总结.md","hash":"36f5caa29611d1702aa698edc07d74cbd72c6313","modified":1492522573794},{"_id":"source/_posts/Android中传递对象的三种方法.md","hash":"cb1ee25141dbbd68ec9d93e472f0f1123f8733af","modified":1493568045051},{"_id":"source/_posts/GreenDao的使用以及一些细节的总结.md","hash":"706de5e2aa5f3db8e0e82d7a35be13258417d8b6","modified":1487535389629},{"_id":"source/_posts/Javascript之AMD模块化规范.md","hash":"a1e8eba61fdcf43467e74515bcb2bac1a9189ef9","modified":1494388764877},{"_id":"source/_posts/Java面试宝典.md","hash":"7c69ed0523775342630d9099439d982064b293df","modified":1487555111990},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手.md","hash":"4e880335c10263cffb35388a9215528a1f171b36","modified":1494516567281},{"_id":"source/_posts/android-Material-Design-底部导航栏.autosave.md","hash":"18c06ceca46edeb64d285917a1fc7355eb970d89","modified":1503722656912},{"_id":"source/_posts/android-Material-Design-底部导航栏.md","hash":"0a5e6937f52de1133d4dccbdf2f5cef49bfedb58","modified":1503722682993},{"_id":"source/_posts/android-Toolbar的使用.md","hash":"27efd2d88adf2e60cde83e066906e57255b5f843","modified":1486576510663},{"_id":"source/_posts/android-studio配置git.md","hash":"93ebea9a273895014384269547631b0fb12ed123","modified":1485663439403},{"_id":"source/_posts/broadcast与broadcast-receiver.md","hash":"5809fb54d1556f9053bca46f84aa8e8c2cde11b4","modified":1492522653369},{"_id":"source/_posts/github博客如何增加评论？.md","hash":"ae91b4e6c56d3fb5dfe9c03044a018f4b186e92b","modified":1493704038132},{"_id":"source/_posts/github博客没有category和tags？.md","hash":"f2ec1a7188da879a24e3097d1495c60e740fe72c","modified":1493704029564},{"_id":"source/_posts/git之head-detached-from-xxx.md","hash":"22520ac57197d25928ce3bfe9b9d7baef1d4bfbf","modified":1497277755268},{"_id":"source/_posts/git经验之更改远程仓库地址.md","hash":"7eadba7440a0dff95aead4cc9705aa14874881f6","modified":1493704047564},{"_id":"source/_posts/hexo个人博客-如何在markdown上引用本地图片的地址？.md","hash":"1ff5e234c5249ab8be93f2bd67c2849d6d34e695","modified":1493704055724},{"_id":"source/_posts/hexo之如何强制访问https.md","hash":"133154f47de899da6f97f646abf1b6c8fcf57e61","modified":1541261627401},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论.md","hash":"bbfccb15b5d93bdcbcb9f3fd8b654910ced5fc60","modified":1526483677057},{"_id":"source/_posts/hexo如何为github博客设置一个域名？.md","hash":"a541a7da90a8ae33939d8c58071e4fddc9823ba1","modified":1493704076259},{"_id":"source/_posts/hexo如何更换github博客主题.md","hash":"128c8b5f8fefcf0049e0fd3e23afc2a2c0ea9214","modified":1493704062332},{"_id":"source/_posts/javascript之模块化.md","hash":"18efa6a22d95e79e3fa82b6087c7f35bd2840bce","modified":1494388698703},{"_id":"source/_posts/javascript之模拟ajax.md","hash":"6b2ad7cb86de1a402befeac8770b25aa4c0616ea","modified":1497109019981},{"_id":"source/_posts/javascript之闭包-closure.md","hash":"8609f6561976c52a4e5d4ad94cd89149bc40cbb3","modified":1493997843070},{"_id":"source/_posts/javatoexe之exe4j和innosetup打包jar.md","hash":"e92e9c4a6724fded0cbae515c1d6827b9690b5e3","modified":1516720234420},{"_id":"source/_posts/oracle之partition-by与group-by的区别.md","hash":"722b2364ddcab35ad7e79f139640743c05f009db","modified":1515597049980},{"_id":"source/_posts/tomcat之如何让tomcat运行在指定JDK环境上.md","hash":"839f556dc850bc8221e949dd17782e855976d5e5","modified":1526943847783},{"_id":"source/_posts/viewpager在最后一页滑动之后，跳转到主页面.md","hash":"f66f87a7819ac1989915690d343d8285c4459d64","modified":1527346572529},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网.md","hash":"988befe5851409ba42f61b67748a4000bcd7a5e6","modified":1502598523302},{"_id":"source/_posts/再总结一下activity的生命周期吧.md","hash":"e09d8ddef787c9ba0ac60f17eb92346479bc1fae","modified":1492522737881},{"_id":"source/_posts/如何在github上创建个人博客？.md","hash":"569e3d6184a3a797b5b846c87c6cfdaa06586837","modified":1493704083155},{"_id":"source/_posts/我的第一篇博客.md","hash":"d8cc50cfdba1195207d8f5ab38ff5b67db2da8f9","modified":1493704116498},{"_id":"source/_posts/正则表达式之环视-lookaround.md","hash":"c7697ae702194ed32d9dce296734e149181c3f7d","modified":1492758711607},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）.md","hash":"6f02d32f466c056d92e44c6341913d327a46e8a5","modified":1492522744048},{"_id":"source/_posts/算法：二分查找法.md","hash":"e949e88ab28a02d46c9623bd362f4dc4dbcd9fda","modified":1526944983939},{"_id":"source/_posts/算法：冒泡排序.md","hash":"5ea6c3d30ef4f5e7eb4dd4bca1fc9303870c77c2","modified":1526482457122},{"_id":"source/_posts/设计模式之mvp设计模式.md","hash":"878b4ab06cb3f24f83fa0c19b80403f98fa3fbd5","modified":1493567810374},{"_id":"source/_posts/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式.md","hash":"852bbe9840ed91097515b6028923a426e5cf1162","modified":1526997343912},{"_id":"source/_posts/设计模式：适配器模式.md","hash":"e9523a3398c74a288a7c17d34359fb597d7be8be","modified":1526481781205},{"_id":"source/_posts/运行我的第一个php程序.md","hash":"d8bfb086a59f0c63d6238a750c7a53ef9815cd88","modified":1486232231036},{"_id":"source/_posts/运行我的第一个python程序.md","hash":"c43fc0518ff427ea2fc4cbbabc848037c7f3f504","modified":1486312509928},{"_id":"source/about/index.md","hash":"b8945cfe6c1fcd8ab41b8828040717cafd01f28e","modified":1485446452672},{"_id":"source/categories/index.md","hash":"28c03727e47eafc77e907291a426aaedfedc39f5","modified":1485505295441},{"_id":"source/tags/index.md","hash":"495b91f8980d123c77d12fb41dd4169693d0502b","modified":1485505213418},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"5ab257af816986cd0e53f9527a92d5934ac70ae9","modified":1462448087000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"c2024ded82143807c28a299c5fe6b927ef3525ff","modified":1462448087000},{"_id":"themes/next/languages/de.yml","hash":"786afba25cfc98845a20d9901823ebeebcd1cbbf","modified":1462448087000},{"_id":"themes/next/languages/en.yml","hash":"f03799cbdb5a33064ead080bcac4baca1f6bc5f9","modified":1462448087000},{"_id":"themes/next/languages/default.yml","hash":"9db835c0543ade5a89bc80ec5a898203227cf3d8","modified":1462448087000},{"_id":"themes/next/languages/fr-FR.yml","hash":"1a084623c39de74301f3e92f9388a3a815a542ca","modified":1462448087000},{"_id":"themes/next/languages/ja.yml","hash":"a2c7b6301b5474aab798946fb700289df237c3cf","modified":1462448087000},{"_id":"themes/next/languages/id.yml","hash":"147c01e41b931085ad14250fa900c2249dcbbdd7","modified":1462448087000},{"_id":"themes/next/languages/pt.yml","hash":"ca239b39bf65c9462e59d51b12f0fe566d453197","modified":1462448087000},{"_id":"themes/next/languages/ru.yml","hash":"cc7b964a46587aea0e57b0a5269d8fd25570858e","modified":1462448087000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"51903e9e9a00a7265eb8c9f563f1de577c0d4a1b","modified":1486497618441},{"_id":"themes/next/languages/zh-hk.yml","hash":"519ab3d817ec3bc5bfc91159c494b6b3c170bea7","modified":1462448087000},{"_id":"themes/next/languages/zh-tw.yml","hash":"6b1f345aaefc13e6723dc8a6741b59ac05c20dfd","modified":1462448087000},{"_id":"themes/next/layout/_layout.swig","hash":"2163a4d4d00c144bfd5d86d59326efe8ad53cb68","modified":1541326456214},{"_id":"themes/next/layout/archive.swig","hash":"b5b59d70fc1563f482fa07afd435752774ad5981","modified":1462448087000},{"_id":"themes/next/layout/category.swig","hash":"6422d196ceaff4220d54b8af770e7e957f3364ad","modified":1462448087000},{"_id":"themes/next/layout/index.swig","hash":"427d0b95b854e311ae363088ab39a393bf8fdc8b","modified":1462448087000},{"_id":"themes/next/layout/page.swig","hash":"8019d02232a6dd1a665b6a4d2daef8e5dd2f0049","modified":1462448087000},{"_id":"themes/next/layout/post.swig","hash":"e2e512142961ddfe77eba29eaa88f4a2ee43ae18","modified":1462448087000},{"_id":"themes/next/layout/tag.swig","hash":"07cf49c49c39a14dfbe9ce8e7d7eea3d4d0a4911","modified":1462448087000},{"_id":"themes/next/scripts/merge-configs.js","hash":"0c56be2e85c694247cfa327ea6d627b99ca265e8","modified":1462448087000},{"_id":"themes/next/test/.jshintrc","hash":"096ed6df627373edd820f24d46b8baf528dee61d","modified":1462448087000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1462448087000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1462448087000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"source/_posts/Android-Service总结/1.jpg","hash":"f9a59b3ffbe5237e8bc0fe79c3d1b1196a25b4b1","modified":1492332586326},{"_id":"source/_posts/Android中传递对象的三种方法/1.png","hash":"e3ed188bb7ac6f711cd4f7609cdfc8171e5ce61a","modified":1493548200288},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/1.gif","hash":"52328e00c06a03d9cd25ed51de41ee70075b5b97","modified":1494511984993},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/3.gif","hash":"95a5df6edf4c7ceab7a3390de3f0bc67d4d9f82f","modified":1494514112794},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_154037.png","hash":"3460140e4415d42f56b9291c94f0e2073e7c08d4","modified":1497253274691},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_162203.png","hash":"f00e8dc87fc2da6bf59c8f66f0178b12a2707e00","modified":1497255727723},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_181756.png","hash":"e0f3e41212a3fd358df0456f9627af629a4908ac","modified":1497262765352},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_181946.png","hash":"6d6dd5f79a6ad12ca4955a813ba7adc3a63ad3d3","modified":1497278113357},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_182814.png","hash":"414add041f10230f3aa045f9ad28662c111447b2","modified":1497263298661},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_183817.png","hash":"821ea3b174c209658d16aae996131f595fc29aa4","modified":1497264011048},{"_id":"source/_posts/hexo个人博客-如何在markdown上引用本地图片的地址？/1.png","hash":"1e9e3e50abf129976e1af5e3605b9057ca79d3df","modified":1488371054827},{"_id":"source/_posts/hexo之如何强制访问https/1.png","hash":"7b8532b7ab961218e1b79a2d84f250643858d4a3","modified":1541260520020},{"_id":"source/_posts/hexo之如何强制访问https/2.png","hash":"67c16a98c11ef84a60e9db842c9ad4148b66de68","modified":1541260991152},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg","hash":"9f97b7e2bd98a6122772f5528562e83288fba72a","modified":1493701359250},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg","hash":"c698a884e996f296525b13ece2dd79db640e8f09","modified":1493701537918},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg","hash":"7c411fb8f56020ca655718a8cd50cddee19408d2","modified":1493701629513},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg","hash":"6cb962e034bf6b1bf7eb354f478fc737292642ea","modified":1493701724397},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg","hash":"41ea273b211155690bab0dc280293975dcab9e64","modified":1493702410200},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg","hash":"c9afd292030dbb7d2cb4c50708c358e62faf106e","modified":1493703789330},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png","hash":"6bd21c01d0e60cf8d893c314ce09164372901943","modified":1501343221944},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_150715.png","hash":"ab399b7f61b1be0ae90e77c0b50145f218ca662e","modified":1493708945553},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png","hash":"f7289d334793461b8222cc7c9869db4be9c028e6","modified":1501343324970},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png","hash":"026aad7126a876a90819c49a5b4d9fbb7c3103c1","modified":1501344155088},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png","hash":"8f5087a45331cfa55675349ca292f8df22ce7396","modified":1501345501130},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png","hash":"bb4575c551df0d8a04a7a4a1c7fccac0e890e45e","modified":1501345682596},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png","hash":"294cacb54f0d25722b9cfb349bcdaf6b85b59499","modified":1501345259393},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/diagram_backstack.png","hash":"f9aa03c60f35fed0cc13f7225e1ef2cc04a1baeb","modified":1490196496040},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleInstance.png","hash":"016681e6630958e1acdb8a67944055fad2274d42","modified":1490254729722},{"_id":"source/_posts/算法：冒泡排序/来自算法爱好者.png","hash":"ca38515cfd64ef12ffebfd7394fcd661a14435d7","modified":1526482196442},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/2017-03-23_105452.png","hash":"3be16f7f68ef1241a3790abf12d609587628fc0c","modified":1490237734870},{"_id":"source/_posts/设计模式之mvp设计模式/1.jpg","hash":"369eff6788520d0891cfa4d1573302dbb4b1c89f","modified":1492761554548},{"_id":"source/_posts/设计模式之mvp设计模式/2.jpg","hash":"3655317e92d5b31f60cf3968d157f708aed9f348","modified":1492762562832},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"43c3433155ccd9abcbe7dce2e6bfa1f3a66af18b","modified":1462448087000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"37e5b7c42ec17b9b6b786c5512bcc481a21c974e","modified":1462448087000},{"_id":"themes/next/layout/_macro/post.swig","hash":"1ca03011bed92614832b1343b65be92183957dc5","modified":1462448087000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"85327c2174d09c6d69c9033592e6c8f7eb7ac3ba","modified":1462448087000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"049fe1e39a556088f1971e95ead67b718c80cdfa","modified":1493691658955},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1462448087000},{"_id":"source/_posts/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg","hash":"fe0063637a48575c6512770f4b30409ad28178b5","modified":1526997137620},{"_id":"themes/next/layout/_partials/comments.swig","hash":"7e517488c810af18bf7c93f8bf9fc7baec97d578","modified":1493707827799},{"_id":"themes/next/layout/_partials/header.swig","hash":"963a765dc00e6ac43cfc53ffaf5725eb854cf95e","modified":1462448087000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1462448087000},{"_id":"themes/next/layout/_partials/search.swig","hash":"011b9d6c9f0a2f4654908ea20b9391f9b7981271","modified":1462448087000},{"_id":"themes/next/layout/_partials/head.swig","hash":"f83b1c55bedd2c1a3eb734c72c6997795a4e5f99","modified":1462448087000},{"_id":"themes/next/layout/_scripts/baidu-push.swig","hash":"82d060fe055d6e423bbc9199f82dfe5c68e74779","modified":1462448087000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1462448087000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"fa39f2ce5b6d18faa043d330a7cb4c6703f31f73","modified":1493692890491},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1462448087000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"3acce36db0feb11a982c6c799aa6b6b47df2827c","modified":1462448087000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1462448087000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"0b91cadecead8e0b5211cc42b085998d94af503a","modified":1462448087000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1462448087000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1462448087000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"ecc90043beb1695c3f62b62b2ec4814a9f91b97c","modified":1524389273861},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1462448087000},{"_id":"themes/next/source/images/avatar.jpg","hash":"e80edf9b35fcc75c31a46d53b984706dc731db2d","modified":1485444283953},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1462448087000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1462448087000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1462448087000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1462448087000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1462448087000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1462448087000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1462448087000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1462448087000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1462448087000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1462448087000},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg","hash":"b06a24cabec2ed4c611adb61f47aeb9810560235","modified":1493703869234},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_132947.jpg","hash":"2ad910b94ed5f4ce6bd339dfca72a965b23a9c7d","modified":1493703090261},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png","hash":"95bb86c6e54a9edbb55926dafa8f33b96e58b659","modified":1501343885640},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png","hash":"bf2c2676074e28c508cad26afafd5f024012a628","modified":1501344903494},{"_id":"source/_posts/再总结一下activity的生命周期吧/1生命周期中文.png","hash":"adf6cf8a6bc7cb578c0603b2bab2ca2151ebf55a","modified":1490581782450},{"_id":"source/_posts/再总结一下activity的生命周期吧/2生命周期英文.png","hash":"eaa05bf64aa061d1d7de4193c0a31cdc46e317c8","modified":1490581861943},{"_id":"source/_posts/设计模式之mvp设计模式/3.jpg","hash":"c49f6445dd14b85cfa8110a31a74738b1261f116","modified":1493566602196},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1462448087000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1462448087000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"ff5523d5dacaa77a55a24e50e6e6530c3b98bfad","modified":1462448087000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1462448087000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1462448087000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"c07f7b2f264e5215b8ed42d67e8cef2477558364","modified":1462448087000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"7ca5cb4daa58b3504e17f3e02975e794bc634658","modified":1462448087000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1462448087000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1462448087000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1462448087000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","hash":"0a89c04055bade7baa5962f1d5aefe438d83a244","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","hash":"66f65fada576bf64694d08fad680b47b0b38ff23","modified":1493707838196},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","hash":"069bb17fb1db3bc7c85c88efa3ed94ab6becbe2c","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/localsearch.swig","hash":"1561bd0c107d725252c6d746e9ac177fc18f93bf","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","hash":"5bafc33f57508d1d04a9930165240f6e9efa8d6d","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1462448087000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1462448087000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"715d5b40dc52f319fe4bff0325beb874774d9bd9","modified":1462448087000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1462448087000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"78a83c38f69a8747bb74e420e6c9eeef1ea76525","modified":1462448087000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"3ead77befa064d6327dc7afd0a5af7be59a5f196","modified":1462448087000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"17624186f7a1f28daddea258d044f8e03b2f4bea","modified":1462448087000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1462448087000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1462448087000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"39bf93769d9080fa01a9a875183b43198f79bc19","modified":1462448087000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1462448087000},{"_id":"themes/next/source/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1462448087000},{"_id":"themes/next/source/js/src/post-details.js","hash":"2038f54e289b6da5def09689e69f623187147be5","modified":1462448087000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1462448087000},{"_id":"themes/next/source/js/src/utils.js","hash":"e5cb720894c4bc28ca8f10b33df127fb394018d9","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/.bower.json","hash":"7da985a99674e54f514d4fd9fcd3bcea6e7e41d5","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","hash":"69a4c537d167b68a0ccf1c6febd138aeffca60d6","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1462448087000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1462448087000},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/2.png","hash":"446b22ae02abc25c0466ee5be782d0dcd89d9245","modified":1494513684705},{"_id":"themes/next/source/vendors/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","hash":"7c43d66da93cde65b473a7d6db2a86f9a42647d6","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/busuanzi-counter.swig","hash":"4fcbf57c4918528ab51d3d042cff92cf5aefb599","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/cnzz-analytics.swig","hash":"44e761721e8ad787ef571a3cc57bbc12d318a2a3","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","hash":"30a23fa7e816496fdec0e932aa42e2d13098a9c2","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","hash":"3491d3cebabc8a28857200db28a1be65aad6adc2","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","hash":"8c7af79407d223486fba72b8150fe045a553bf70","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","hash":"334176d838ee528e58468d8bc74ff3a6d3f25b2b","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"b49efc66bd055a2d0be7deabfcb02ee72a9a28c8","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"10994990d6e0b4d965a728a22cf7f6ee29cae9f6","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1462448087000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1462448087000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"5304f99581da3a31de3ecec959b7adf9002fde83","modified":1462448087000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"54c90cf7bdbf5c596179d8dae6e671bad1292662","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/comments/laibili.swig","hash":"fb56f86fd535ccaaa80784ea171dd5bf66ec7890","modified":1525837199357},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"013619c472c7e4b08311c464fcbe9fcf5edde603","modified":1462448087000},{"_id":"themes/next/layout/_scripts/third-party/comments/youyan.swig","hash":"4b0f7bb117790dd1a7afdf5fcbb48526e476ceb8","modified":1493694348079},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1462448087000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1462448087000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"6ed60cc621bac096c0ed7534fa25b1a52dc571d4","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"c2c6c4f6434b4f94aac2af5861cd769427f0ee10","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"be22ad34f546a07f6d56b424338cdd898683eea4","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_full-image.styl","hash":"938d39eedc6e3d33918c1145a5bf1e79991d3fcf","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"4303776991ef28f5742ca51c7dffe6f12f0acf34","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"1b10ba2d3ad0c063c418dc94a0b7e0db4b342c53","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"8d7cecde4933900c7df2db9d0a98f5f82f88dc93","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"d09280e5b79f3b573edb30f30c7a5f03ac640986","modified":1462448087000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"7506e7490c69a200831393c38d25e91c156bd471","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"d4b7bd610ca03dbb2f5b66631c0e84a79fb4660b","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1462448087000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","hash":"3b87c2560832748cd06f9bfd2fd6ea8edbdae8c7","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","hash":"05ea25bc9b3ac48993e1fee322d3bc94b49a6e22","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","hash":"574ea2698c03ae9477db2ea3baf460ee32f1a7ea","modified":1462448087000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1462448087000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","hash":"0112e96f327d413938d37c1693806f468ffdbace","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","hash":"b3c2f08e73320135b69c23a3908b87a12053a2f6","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","hash":"507970402e328b2baeb05bde73bf9ded4e2c3a2d","modified":1462448087000},{"_id":"themes/next/source/vendors/velocity/velocity.js","hash":"e63dc7cea055ca60a95d286f32349d88b10c5a4d","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"c890ce7fe933abad7baf39764a01894924854e92","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"4da051c7f3924fa2db1e73c55b2baf1c2c150255","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"90f8f9706cd7fe829cf06e9959a65fd3f8b994fa","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-more-link.styl","hash":"15063d79b5befc21820baf05d6f20cc1c1787477","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"cbca4842a54950e2934b3b8f3cd940f122111aef","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"b25132fe6a7ad67059a2c3afc60feabb479bdd75","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"8fae54591877a73dff0b29b2be2e8935e3c63575","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"d543d1377c1f61b70e3adb6da0eb12797552e5f2","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"e792c8dc41561c96d128e9b421187f1c3dc978a0","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"7778920dd105fa4de3a7ab206eeba30b1a7bac45","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"963105a531403d7aad6d9e5e23e3bfabb8ec065a","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"3c46efd6601e268093ce6d7b1471d18501878f0d","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"618f73450cf541f88a4fddc3d22898aee49d105d","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"4eb18b12fa0ea6c35925d9a64f64e2a7dae8c7fd","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"2e7ec9aaa3293941106b1bdd09055246aa3c3dc6","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"8e66c2635d48e11de616bb29c4b1323698eebc0a","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"c44f6a553ec7ea5508f2054a13be33a62a15d3a9","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"2d3abbc85b979a648e0e579e45f16a6eba49d1e7","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"7690b9596ec3a49befbe529a5a2649abec0faf76","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"3afc459442c132c480d1d832f1a872f1070bb048","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"8b8e8cbce98a9296c8fd77f512ae85d945f65d40","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"795d94561888d31cb7a6ff4a125596809ea69b7d","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"234facd038f144bd0fe09a31ed1357c5d74c517f","modified":1462448087000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"b03f891883446f3a5548b7cc90d29c77e62f1053","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1462448087000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"8b8e8cbce98a9296c8fd77f512ae85d945f65d40","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1462448087000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","hash":"27cf1f2ec59aece6938c7bb2feb0e287ea778ff9","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1462448087000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1462448087000},{"_id":"source/_posts/broadcast与broadcast-receiver/01.gif","hash":"fbff750a3eccddd134b3666e1d2e2bdfa515656c","modified":1491661431827},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","hash":"2b3c8ba7008cc014d8fb37abc6f9f49aeda83824","modified":1462448087000},{"_id":"source/_posts/viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif","hash":"db8d1b552f31862bcc48a3a790b7c85e59d37d07","modified":1527345283446},{"_id":"source/_posts/AlarmManager详解/01.gif","hash":"b51f76a2928b5f50aac3b6aa67e6daf0ef688940","modified":1491746226257},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleTask.gif","hash":"eacde4cfb94b7b17950ce3583b662edf14327f78","modified":1490251548768},{"_id":"public/about/index.html","hash":"9e33e1c457604ff110ff3570fec5189f523b333f","modified":1547374959182},{"_id":"public/tags/index.html","hash":"9c16dbb64fe8f8f9efecfc31ee0d908e815a594c","modified":1547374959182},{"_id":"public/archives/page/5/index.html","hash":"852f3a970fdd782590ad99d412c142f363bb8a5c","modified":1547374959183},{"_id":"public/archives/2017/page/4/index.html","hash":"5ebc777622ef6425f1adc48b1826603687dbda4b","modified":1547374959183},{"_id":"public/archives/2017/03/index.html","hash":"1cd5112e8f5d0d1e7c0770f74beccfb98965944f","modified":1547374959183},{"_id":"public/archives/2017/05/index.html","hash":"8c60923e0f54f7d69c89d6e611c98c4fb1f44f47","modified":1547374959184},{"_id":"public/archives/2017/06/index.html","hash":"57cdcd037bec221892c55a5f8e0a2f16bb847d4e","modified":1547374959184},{"_id":"public/archives/2017/07/index.html","hash":"44c6bdb54e585546cc415bc23f24d17b7a0b1e7d","modified":1547374959184},{"_id":"public/archives/2018/01/index.html","hash":"6f3eb1de348634e33b9b27604238dcb4b628a971","modified":1547374959184},{"_id":"public/archives/2018/11/index.html","hash":"e450ff1579c6948bfb3e7a210d7073f467365bd2","modified":1547374959185},{"_id":"public/categories/android/page/2/index.html","hash":"93d824af1faa1e1a436ef80303c38076e143ade3","modified":1547374959188},{"_id":"public/categories/android/通讯/index.html","hash":"481c4fca213f40ad72e414dfd4834a03256120c7","modified":1547374959189},{"_id":"public/categories/android/android各种manager/index.html","hash":"252708f8ee7e3b9992dd7e6944d9e111fc02477c","modified":1547374959189},{"_id":"public/categories/javascript/index.html","hash":"37ec729c183db6eabd53f89de3dada6cfc4e7b83","modified":1547374959189},{"_id":"public/categories/TCP-IP/index.html","hash":"30196d45d58ff10344273438fab575d72d736cc0","modified":1547374959189},{"_id":"public/categories/android/四大组件/index.html","hash":"d11efa171ef69daf95dfa52fad1bce0a466a2de7","modified":1547374959189},{"_id":"public/categories/面试/index.html","hash":"4ef0c5627e17131a2788d5d66deef38c99add8fd","modified":1547374959189},{"_id":"public/categories/android/android-studio/index.html","hash":"77b0e91cc0f09aa2cfe20ad7212808f5bfa71aa5","modified":1547374959189},{"_id":"public/categories/android/框架/index.html","hash":"d1cb637d438f11422930698d8800f0e483813e18","modified":1547374959189},{"_id":"public/categories/android/Material-Design/index.html","hash":"f5106e0126817cd9d1685648fb1aba309da7c3a1","modified":1547374959189},{"_id":"public/categories/android/通讯/对象传递/index.html","hash":"ca2a057716a7a8eb0f4b05a437a5b5c776afcd86","modified":1547374959190},{"_id":"public/categories/git/page/2/index.html","hash":"2e36c014d2633cededee68afcf0067da55dc8549","modified":1547374959190},{"_id":"public/categories/javascript/模块化/index.html","hash":"ae37a15e27b338ac4defd9f9fd4d291ee641dacb","modified":1547374959209},{"_id":"public/categories/TCP-IP/TCP/index.html","hash":"4275bea573ea33659e1427e059125e964d9d97e8","modified":1547374959209},{"_id":"public/categories/android/四大组件/service/index.html","hash":"4680ab7bf3e5206620a5b74f4ae2349b027b0c38","modified":1547374959209},{"_id":"public/categories/面试/java/index.html","hash":"eb31463ce4cf6b41e9a349ef518701b45ca14708","modified":1547374959209},{"_id":"public/categories/javascript/ajax/index.html","hash":"c3b0f818d558251a8e5d6cf432bbe1c099e00a6a","modified":1547374959209},{"_id":"public/categories/java/index.html","hash":"3e2ce8250e74bc62f4c3145054c598a03adbb9a0","modified":1547374959210},{"_id":"public/categories/server/index.html","hash":"bdac85355928cd28f0f8170ed0aae6001ceb99f7","modified":1547374959210},{"_id":"public/categories/oralce/index.html","hash":"23322cbfef684b4e4de447e2907d7e728cb93250","modified":1547374959210},{"_id":"public/categories/android/widget/index.html","hash":"2ae15e4c08693a09703f7ccb086e086dfdfca4c2","modified":1547374959210},{"_id":"public/categories/vmware/index.html","hash":"bab8cc359ff19fca00502f982aa8ed0f90b5d710","modified":1547374959210},{"_id":"public/categories/android/四大组件/activity/index.html","hash":"4de2d34f937ccb379e1027e5ead81720d8b7676a","modified":1547374959210},{"_id":"public/categories/regex/index.html","hash":"93b2ff8939788b9f95883128e3a8cd95174129bc","modified":1547374959211},{"_id":"public/categories/算法/index.html","hash":"59051dcafd615f77ef4437c02fe04915f71b74af","modified":1547374959211},{"_id":"public/categories/php/index.html","hash":"925a45f2f5eb6b36b3b7a61ba5b378af7c2c0af1","modified":1547374959211},{"_id":"public/categories/android/设计模式/index.html","hash":"f15977a48cf79db588a098da5c2fd732a2a71e7e","modified":1547374959211},{"_id":"public/categories/设计模式/index.html","hash":"aa7479a989be329a0667ec588deae59793b852ec","modified":1547374959211},{"_id":"public/categories/git/git/index.html","hash":"197281db3fa24c14f3cedb020f8ffd7caf957b14","modified":1547374959211},{"_id":"public/categories/python/index.html","hash":"4f53c50c9c82214792fb6351442e8a381bc65f93","modified":1547374959211},{"_id":"public/categories/android/四大组件/broadcast/index.html","hash":"cc645599ab49f1a1c8b7f8332b29afeee6199b5e","modified":1547374959211},{"_id":"public/categories/java/javatoexe/index.html","hash":"115c87d4a2e95a4550d70a55d5b51b2849040401","modified":1547374959212},{"_id":"public/categories/server/tomcat/index.html","hash":"ea62084323c950ef9a171a8246b69686e85c3a2f","modified":1547374959212},{"_id":"public/categories/oralce/sql/index.html","hash":"4168e523c03e531783923a49b7d86e3b4b909474","modified":1547374959212},{"_id":"public/categories/算法/二分查找法/index.html","hash":"0ccd649465a98215f6b0812e21dab25b0d0fe711","modified":1547374959212},{"_id":"public/categories/设计模式/适配器模式/index.html","hash":"f7ccdf559247c9c587f68c5cd01eb48c6089e04c","modified":1547374959212},{"_id":"public/categories/算法/冒泡排序/index.html","hash":"d586a65ba0d96217e54b0cf75e9a09d78f4a1340","modified":1547374959212},{"_id":"public/categories/设计模式/工厂模式/index.html","hash":"eab05d1ed4a93d86783df60b46f811c95f0f13b3","modified":1547374959212},{"_id":"public/page/5/index.html","hash":"9ba68289e358d184bdaabeb7c9451673cfb654f3","modified":1547374959212},{"_id":"public/tags/android/page/2/index.html","hash":"22ba0a904a0731fecda8c2ba3917717ed214857c","modified":1547374959212},{"_id":"public/tags/android各种manager/index.html","hash":"471978d61bc339032026d91ef7fed50552a75169","modified":1547374959212},{"_id":"public/tags/android-service/index.html","hash":"04c6b56771b9b704690fc865c3d2e3a670651721","modified":1547374959213},{"_id":"public/tags/GreenDao/index.html","hash":"dd6dcf01a958d9e80ac9bc651fcb61e7b526ed1c","modified":1547374959213},{"_id":"public/tags/sqlite/index.html","hash":"29e232810e0c2cfc66dd5d50078c9305dad00974","modified":1547374959214},{"_id":"public/tags/框架/index.html","hash":"2a6d6c808d63f9750880f894a6a7b6277691c648","modified":1547374959214},{"_id":"public/tags/对象传递/index.html","hash":"253c4f081df2ee5cfb3bb4faace294332ef8d31e","modified":1547374959215},{"_id":"public/tags/javascript模块化/index.html","hash":"7869f310ee2e3b7ef943081dcc8ef1ef5f403d0c","modified":1547374959215},{"_id":"public/tags/TCP/index.html","hash":"3cf9815160588e970845ed9c10b9986cefb26676","modified":1547374959215},{"_id":"public/tags/面试/index.html","hash":"e6f2cef7836bea08ca5212551bcc5d78e09edd4b","modified":1547374959215},{"_id":"public/tags/java/index.html","hash":"54ef49f2726efd0c5748f230b21fc7e049218418","modified":1547374959215},{"_id":"public/tags/android-studio/index.html","hash":"16316a20958cc3fc92d9d32a80c2cf9d8b9068b7","modified":1547374959215},{"_id":"public/tags/git/index.html","hash":"b0b7bf5c7afc740cb4a097a9d188f2ae0c19843d","modified":1547374959215},{"_id":"public/tags/Material-Design/index.html","hash":"8324ac39567ac8de45aff79d45d8b55838f8f8b1","modified":1547374959215},{"_id":"public/tags/android-broadcast/index.html","hash":"70282e8f9bde909f8b51595a4a3cdd778bdece73","modified":1547374959216},{"_id":"public/tags/javascript闭包/index.html","hash":"917b6f8e278b11ea7b3439afbd0f0d77bcce6183","modified":1547374959216},{"_id":"public/tags/javascript-ajax/index.html","hash":"3d7c1668833f1f5b6e0c4069c858a71a58ff0c25","modified":1547374959216},{"_id":"public/tags/javatoexe/index.html","hash":"f18798b7a3425da0387f7811f0fca577cdbebb17","modified":1547374959216},{"_id":"public/tags/tomcat/index.html","hash":"493d69359bd13fa45a5226d7ed2c144f8ebabf3c","modified":1547374959216},{"_id":"public/tags/oralce/index.html","hash":"41f249159cfd07eb3dc95d4b32e44815dcd0952d","modified":1547374959216},{"_id":"public/tags/sql/index.html","hash":"3e2edbd18c7b6020df8846ddb8c1b9ad79ae6606","modified":1547374959217},{"_id":"public/tags/widget/index.html","hash":"b835e129a505c87b8271c241cfaf1c8d9fab078a","modified":1547374959217},{"_id":"public/tags/vmware/index.html","hash":"9f2b7eda0563a457817a1afd3646934ce4c98a66","modified":1547374959217},{"_id":"public/tags/activity-lifetime/index.html","hash":"0ea83d3d6e7e2c135b897b402ac48aa4c1d50a03","modified":1547374959217},{"_id":"public/tags/activity-launchMode/index.html","hash":"816cf20050dc92046264882aab1552f7f86acb8d","modified":1547374959217},{"_id":"public/tags/regex/index.html","hash":"c94adfeda6bd1b4f7f004f240059945551b66473","modified":1547374959218},{"_id":"public/tags/二分查找法/index.html","hash":"a5f18837a1b5ca2a82fd2c46cd62cdfdc3d06497","modified":1547374959218},{"_id":"public/tags/php/index.html","hash":"c7da928b7c9d6a553555ad14101d10fa3434b329","modified":1547374959218},{"_id":"public/tags/设计模式/index.html","hash":"caab8f2d21203bbfdc31e80144e71d43e9781eeb","modified":1547374959218},{"_id":"public/tags/适配器模式/index.html","hash":"2b1026b82325e2cb110094b595af63570568c4e4","modified":1547374959218},{"_id":"public/tags/冒泡排序/index.html","hash":"79f35db1b178e587e2f22bcbe623f717f2a21914","modified":1547374959218},{"_id":"public/tags/工厂模式/index.html","hash":"7d06b0efe4811d82d8ae246982eec916b64e4062","modified":1547374959218},{"_id":"public/tags/python/index.html","hash":"0f0ff587c0ca86b870fe0ba015df9e4e85d965c9","modified":1547374959218},{"_id":"public/categories/index.html","hash":"906628241015d202833c99bef7fdf769b0bbcf66","modified":1547374959218},{"_id":"public/2018/11/03/hexo之如何强制访问https/index.html","hash":"8e8c17eb15096e9087cdd10757cc4e20069a0d82","modified":1547374959218},{"_id":"public/2018/05/26/viewpager在最后一页滑动之后，跳转到主页面/index.html","hash":"88fba1610f7309d2b21bdb70b53b020217531810","modified":1547374959219},{"_id":"public/2018/05/22/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/index.html","hash":"4609720d0fef7d2815bdf5b71cced459e6c48a42","modified":1547374959219},{"_id":"public/2018/05/22/算法：二分查找法/index.html","hash":"5b7d42e441b6fb3e4ea54e074a7948071cd1007c","modified":1547374959219},{"_id":"public/2018/05/22/tomcat之如何让tomcat运行在指定JDK环境上/index.html","hash":"8f53e957ec473a7f05bc0820ca33dabb6e36feab","modified":1547374959219},{"_id":"public/2018/05/16/设计模式：适配器模式/index.html","hash":"a3306db570c70be4e56b20c65cc450c4b68e2afb","modified":1547374959219},{"_id":"public/2018/05/16/算法：冒泡排序/index.html","hash":"03ccb3a689d85efb9507059adc6cdcb0b313f381","modified":1547374959219},{"_id":"public/2018/01/23/javatoexe之exe4j和innosetup打包jar/index.html","hash":"eca8b2f815fe0bbd891e1a62a8a108412941b6e7","modified":1547374959219},{"_id":"public/2018/01/10/oracle之partition-by与group-by的区别/index.html","hash":"992093297df55fe889505cb37513eb29298b093a","modified":1547374959219},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/index.html","hash":"7ae6a378acff024cd547b93732919e9c67760a5b","modified":1547374959219},{"_id":"public/2017/06/12/git之head-detached-from-xxx/index.html","hash":"83c4762c168c45b3d21322b3182cfed6c9b8f690","modified":1547374959219},{"_id":"public/2017/06/10/javascript之模拟ajax/index.html","hash":"83d923ed7679dc9c858f9620ec1e40f51245b7de","modified":1547374959220},{"_id":"public/2017/05/11/TCP协议中的三次握手和四次挥手/index.html","hash":"d6bb16fd7719279c10981e4b1a847fce0d962ccd","modified":1547374959220},{"_id":"public/2017/05/10/Javascript之AMD模块化规范/index.html","hash":"f04c6c908e34387c4769319fedee46a3dd14c69f","modified":1547374959220},{"_id":"public/2017/05/10/javascript之模块化/index.html","hash":"beb0ef2fefd7c3463c25bf38e36080475ad115e2","modified":1547374959220},{"_id":"public/2017/05/05/javascript之闭包-closure/index.html","hash":"42f5d56e4041a492869ae5c98496ac7de8017b46","modified":1547374959220},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/index.html","hash":"6baa9025525d12c0234051edfa4bc9ec99e617ce","modified":1547374959220},{"_id":"public/2017/04/30/Android中传递对象的三种方法/index.html","hash":"25d43ce2f7215e0272cd27e691c56e8634dc3fb6","modified":1547374959220},{"_id":"public/2017/04/21/设计模式之mvp设计模式/index.html","hash":"689eb4425793a046198e9a7081a494c1fa54f658","modified":1547374959220},{"_id":"public/2017/04/21/正则表达式之环视-lookaround/index.html","hash":"e4c3d0ea67a0ff0bc30967a7e88cae07bac39262","modified":1547374959220},{"_id":"public/2017/04/18/git经验之更改远程仓库地址/index.html","hash":"825d33f0b38b0bfca8c4a32214014e3571864ab8","modified":1547374959220},{"_id":"public/2017/04/16/Android-Service总结/index.html","hash":"c244a8272b7ed55fdb53840b82707673db90b97d","modified":1547374959220},{"_id":"public/2017/04/09/AlarmManager详解/index.html","hash":"78a8bcff60be8d8cc3115c6db809ef507f6ff716","modified":1547374959221},{"_id":"public/2017/04/08/broadcast与broadcast-receiver/index.html","hash":"352a96168755e98e4455ff5873d182be332d68a0","modified":1547374959221},{"_id":"public/2017/03/27/再总结一下activity的生命周期吧/index.html","hash":"ea9749ca3b5bdfa04377d0c1970fbd4f6e33e4a5","modified":1547374959221},{"_id":"public/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/index.html","hash":"d3d210a65c28034141ac9c0e748895df296876fb","modified":1547374959221},{"_id":"public/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？/index.html","hash":"abf51e05a39ecc9ac091f7672688867d8d1e78ef","modified":1547374959221},{"_id":"public/2017/02/20/Java面试宝典/index.html","hash":"56dc1df1ca63c24ff18a5973fe8715e98ddf718a","modified":1547374959221},{"_id":"public/2017/02/20/GreenDao的使用以及一些细节的总结/index.html","hash":"1042002fc219d11ecab656bfb5ab312db0d4b78c","modified":1547374959221},{"_id":"public/2017/02/09/android-Toolbar的使用/index.html","hash":"3d82212a2382171ff9d5b02afcda73d8584cc838","modified":1547374959221},{"_id":"public/2017/02/08/android-Material-Design-底部导航栏.autosave/index.html","hash":"f091ec28f4db34bfa57d37f27c52654123fd8fb8","modified":1547374959221},{"_id":"public/2017/02/08/android-Material-Design-底部导航栏/index.html","hash":"169205944887f0f5bee3e7904b453fe9be3f5517","modified":1547374959222},{"_id":"public/2017/02/06/运行我的第一个python程序/index.html","hash":"f7779dc39371c45aaf52b40de2e95b9ab3f01987","modified":1547374959222},{"_id":"public/2017/02/05/运行我的第一个php程序/index.html","hash":"16a615da0009d01aba74b2857b794dd1ca8ff191","modified":1547374959222},{"_id":"public/2017/01/29/hexo如何为github博客设置一个域名？/index.html","hash":"49aec9f520eac42c44430b09a35585e458b564bf","modified":1547374959222},{"_id":"public/2017/01/28/github博客如何增加评论？/index.html","hash":"6d0b3d797a2631a98153a6804adae9a62f849dfa","modified":1547374959222},{"_id":"public/2017/01/28/github博客没有category和tags？/index.html","hash":"7eec196016ce5685e1dcfc69178869b6e9a94f8c","modified":1547374959222},{"_id":"public/2017/01/28/hexo如何更换github博客主题/index.html","hash":"64d93a8e72181d101b2a72cf1f463116f07dc0b0","modified":1547374959222},{"_id":"public/2017/01/27/android-studio配置git/index.html","hash":"785bcd39d3e6951c2f9328b91644f4d8ad74c641","modified":1547374959222},{"_id":"public/2017/01/27/如何在github上创建个人博客？/index.html","hash":"6cbfaac3af056a91414bea3cede981b52ec0fe9f","modified":1547374959222},{"_id":"public/2017/01/26/我的第一篇博客/index.html","hash":"9cece50c2ee9605d55065001f3819d6ab65ec764","modified":1547374959223},{"_id":"public/archives/index.html","hash":"9ece22f40c2cb3f9102983c800ab6ed9c8adcfff","modified":1547374959223},{"_id":"public/archives/page/2/index.html","hash":"40856114c8186a51158c8df7ddea8510092b2653","modified":1547374959223},{"_id":"public/archives/page/3/index.html","hash":"4a940b5491b85f02dcd463ca067dde34eba6ef45","modified":1547374959223},{"_id":"public/archives/page/4/index.html","hash":"75d491dc43a8a87a2dcced30c5618e04be615f25","modified":1547374959223},{"_id":"public/archives/2017/index.html","hash":"108c7e11c062b1b2408ee8848d70716e9ff29b51","modified":1547374959223},{"_id":"public/archives/2017/page/3/index.html","hash":"e693479d02b82b260768ec4e67ccc4b22c6015d6","modified":1547374959223},{"_id":"public/archives/2017/page/2/index.html","hash":"13f876b49cc595b1f82a4a0423299866b8d5d16c","modified":1547374959223},{"_id":"public/archives/2017/01/index.html","hash":"558fc06b1faa6155ce3d881c30f97f2e0b05a878","modified":1547374959223},{"_id":"public/archives/2017/02/index.html","hash":"2cee6be707c154181869972e07fe7242db81fabc","modified":1547374959224},{"_id":"public/archives/2017/04/index.html","hash":"1143808a73a924ad3b1a4cec86e57b522345b3ce","modified":1547374959225},{"_id":"public/archives/2018/index.html","hash":"5bf9eefc571f3578a6871347b78f532e6589cebb","modified":1547374959225},{"_id":"public/archives/2018/05/index.html","hash":"ba7ee1070b7e1cf0c488b4d568ad6bfaadf3254d","modified":1547374959225},{"_id":"public/categories/android/index.html","hash":"0c176b2849f107e6291e3742c909234e09043b75","modified":1547374959226},{"_id":"public/categories/git/index.html","hash":"7bba6390ec4bf8e1b2ffae8ee4ce664af6cb5376","modified":1547374959226},{"_id":"public/categories/git/hexo/index.html","hash":"94d8958ff0da5506e2479aecbc22e41ae527ba96","modified":1547374959226},{"_id":"public/index.html","hash":"4ec51bbcc6e78de0d741d9a1a7a7f5be924238c4","modified":1547374959226},{"_id":"public/page/2/index.html","hash":"5743e4d1e515366e421ed20855bb4aaacabea647","modified":1547374959226},{"_id":"public/page/3/index.html","hash":"96a1ff99dd18db031eb416a9892962c812ff9482","modified":1547374959226},{"_id":"public/page/4/index.html","hash":"1028c06b7e85330a9960773fb408eecc9c174731","modified":1547374959226},{"_id":"public/tags/android/index.html","hash":"308f4743bb2500a6c01758e3c43fd4152f8edfd1","modified":1547374959226},{"_id":"public/tags/个人主页/index.html","hash":"581b1b0691fa40b3bee15657d53f5cfda4d07c6c","modified":1547374959226},{"_id":"public/blog_head.jpg","hash":"46f3f6dcc3278f3b995a489c0e41f88842cbe2b6","modified":1547374959287},{"_id":"public/favicon.ico","hash":"f674a0dad4d06dd5416e7b8d1b3fa24d34c4bb43","modified":1547374959287},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1547374959287},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1547374959287},{"_id":"public/images/avatar.jpg","hash":"e80edf9b35fcc75c31a46d53b984706dc731db2d","modified":1547374959288},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1547374959288},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1547374959288},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1547374959288},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1547374959288},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1547374959288},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1547374959288},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1547374959288},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1547374959289},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1547374959289},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1547374959289},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1547374959289},{"_id":"public/vendors/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1547374959289},{"_id":"public/vendors/font-awesome/HELP-US-OUT.txt","hash":"69a4c537d167b68a0ccf1c6febd138aeffca60d6","modified":1547374959289},{"_id":"public/vendors/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1547374959289},{"_id":"public/vendors/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1547374959289},{"_id":"public/vendors/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1547374959289},{"_id":"public/vendors/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1547374959289},{"_id":"public/vendors/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1547374959289},{"_id":"public/vendors/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1547374959289},{"_id":"public/vendors/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1547374959290},{"_id":"public/vendors/font-awesome/fonts/fontawesome-webfont.woff2","hash":"574ea2698c03ae9477db2ea3baf460ee32f1a7ea","modified":1547374959290},{"_id":"public/vendors/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1547374959290},{"_id":"public/2017/04/16/Android-Service总结/1.jpg","hash":"f9a59b3ffbe5237e8bc0fe79c3d1b1196a25b4b1","modified":1547374959290},{"_id":"public/2017/04/30/Android中传递对象的三种方法/1.png","hash":"e3ed188bb7ac6f711cd4f7609cdfc8171e5ce61a","modified":1547374959290},{"_id":"public/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？/1.png","hash":"1e9e3e50abf129976e1af5e3605b9057ca79d3df","modified":1547374959290},{"_id":"public/2018/05/16/算法：冒泡排序/来自算法爱好者.png","hash":"ca38515cfd64ef12ffebfd7394fcd661a14435d7","modified":1547374959290},{"_id":"public/2018/05/22/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg","hash":"fe0063637a48575c6512770f4b30409ad28178b5","modified":1547374959290},{"_id":"public/2018/11/03/hexo之如何强制访问https/1.png","hash":"7b8532b7ab961218e1b79a2d84f250643858d4a3","modified":1547374959291},{"_id":"public/2018/11/03/hexo之如何强制访问https/2.png","hash":"67c16a98c11ef84a60e9db842c9ad4148b66de68","modified":1547374959291},{"_id":"public/2017/05/11/TCP协议中的三次握手和四次挥手/1.gif","hash":"52328e00c06a03d9cd25ed51de41ee70075b5b97","modified":1547374959291},{"_id":"public/2017/05/11/TCP协议中的三次握手和四次挥手/3.gif","hash":"95a5df6edf4c7ceab7a3390de3f0bc67d4d9f82f","modified":1547374959291},{"_id":"public/2017/04/21/设计模式之mvp设计模式/1.jpg","hash":"369eff6788520d0891cfa4d1573302dbb4b1c89f","modified":1547374959291},{"_id":"public/2017/04/21/设计模式之mvp设计模式/2.jpg","hash":"3655317e92d5b31f60cf3968d157f708aed9f348","modified":1547374959291},{"_id":"public/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/2017-03-23_105452.png","hash":"3be16f7f68ef1241a3790abf12d609587628fc0c","modified":1547374959292},{"_id":"public/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/diagram_backstack.png","hash":"f9aa03c60f35fed0cc13f7225e1ef2cc04a1baeb","modified":1547374959292},{"_id":"public/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleInstance.png","hash":"016681e6630958e1acdb8a67944055fad2274d42","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_154037.png","hash":"3460140e4415d42f56b9291c94f0e2073e7c08d4","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_162203.png","hash":"f00e8dc87fc2da6bf59c8f66f0178b12a2707e00","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_181756.png","hash":"e0f3e41212a3fd358df0456f9627af629a4908ac","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_181946.png","hash":"6d6dd5f79a6ad12ca4955a813ba7adc3a63ad3d3","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_182814.png","hash":"414add041f10230f3aa045f9ad28662c111447b2","modified":1547374959292},{"_id":"public/2017/06/12/git之head-detached-from-xxx/2017-06-12_183817.png","hash":"821ea3b174c209658d16aae996131f595fc29aa4","modified":1547374959292},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png","hash":"6bd21c01d0e60cf8d893c314ce09164372901943","modified":1547374959292},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png","hash":"f7289d334793461b8222cc7c9869db4be9c028e6","modified":1547374959293},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png","hash":"026aad7126a876a90819c49a5b4d9fbb7c3103c1","modified":1547374959293},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png","hash":"294cacb54f0d25722b9cfb349bcdaf6b85b59499","modified":1547374959293},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png","hash":"8f5087a45331cfa55675349ca292f8df22ce7396","modified":1547374959293},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png","hash":"bb4575c551df0d8a04a7a4a1c7fccac0e890e45e","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg","hash":"9f97b7e2bd98a6122772f5528562e83288fba72a","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg","hash":"c698a884e996f296525b13ece2dd79db640e8f09","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg","hash":"7c411fb8f56020ca655718a8cd50cddee19408d2","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg","hash":"6cb962e034bf6b1bf7eb354f478fc737292642ea","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg","hash":"41ea273b211155690bab0dc280293975dcab9e64","modified":1547374959293},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg","hash":"c9afd292030dbb7d2cb4c50708c358e62faf106e","modified":1547374959295},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_150715.png","hash":"ab399b7f61b1be0ae90e77c0b50145f218ca662e","modified":1547374959295},{"_id":"public/vendors/font-awesome/fonts/FontAwesome.otf","hash":"0112e96f327d413938d37c1693806f468ffdbace","modified":1547374961349},{"_id":"public/vendors/font-awesome/fonts/fontawesome-webfont.eot","hash":"b3c2f08e73320135b69c23a3908b87a12053a2f6","modified":1547374961372},{"_id":"public/vendors/font-awesome/fonts/fontawesome-webfont.woff","hash":"507970402e328b2baeb05bde73bf9ded4e2c3a2d","modified":1547374961376},{"_id":"public/2017/03/27/再总结一下activity的生命周期吧/1生命周期中文.png","hash":"adf6cf8a6bc7cb578c0603b2bab2ca2151ebf55a","modified":1547374961377},{"_id":"public/2017/03/27/再总结一下activity的生命周期吧/2生命周期英文.png","hash":"eaa05bf64aa061d1d7de4193c0a31cdc46e317c8","modified":1547374961377},{"_id":"public/2017/04/21/设计模式之mvp设计模式/3.jpg","hash":"c49f6445dd14b85cfa8110a31a74738b1261f116","modified":1547374961377},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png","hash":"95bb86c6e54a9edbb55926dafa8f33b96e58b659","modified":1547374961377},{"_id":"public/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png","hash":"bf2c2676074e28c508cad26afafd5f024012a628","modified":1547374961377},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg","hash":"b06a24cabec2ed4c611adb61f47aeb9810560235","modified":1547374961377},{"_id":"public/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_132947.jpg","hash":"2ad910b94ed5f4ce6bd339dfca72a965b23a9c7d","modified":1547374961378},{"_id":"public/js/src/bootstrap.js","hash":"39bf93769d9080fa01a9a875183b43198f79bc19","modified":1547374961384},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1547374961384},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1547374961384},{"_id":"public/js/src/motion.js","hash":"269414e84df544a4ccb88519f6abae4943db3c67","modified":1547374961384},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1547374961384},{"_id":"public/js/src/post-details.js","hash":"2038f54e289b6da5def09689e69f623187147be5","modified":1547374961385},{"_id":"public/js/src/utils.js","hash":"e5cb720894c4bc28ca8f10b33df127fb394018d9","modified":1547374961385},{"_id":"public/vendors/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1547374961385},{"_id":"public/vendors/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1547374961385},{"_id":"public/vendors/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1547374961385},{"_id":"public/vendors/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1547374961385},{"_id":"public/vendors/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1547374961385},{"_id":"public/vendors/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1547374961386},{"_id":"public/vendors/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1547374961386},{"_id":"public/vendors/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1547374961386},{"_id":"public/vendors/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1547374961386},{"_id":"public/vendors/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1547374961386},{"_id":"public/js/src/schemes/pisces.js","hash":"7506e7490c69a200831393c38d25e91c156bd471","modified":1547374961386},{"_id":"public/vendors/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1547374961387},{"_id":"public/vendors/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1547374961387},{"_id":"public/vendors/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1547374961387},{"_id":"public/vendors/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1547374961387},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1547374961387},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1547374961388},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1547374961388},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1547374961388},{"_id":"public/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1547374961388},{"_id":"public/css/main.css","hash":"c92beee5d985c0f87f973aee49fd1a23fb1f2538","modified":1547374961388},{"_id":"public/vendors/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1547374961388},{"_id":"public/vendors/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1547374961389},{"_id":"public/vendors/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1547374961389},{"_id":"public/vendors/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1547374961389},{"_id":"public/vendors/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1547374961389},{"_id":"public/vendors/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1547374961389},{"_id":"public/vendors/font-awesome/css/font-awesome.css","hash":"3b87c2560832748cd06f9bfd2fd6ea8edbdae8c7","modified":1547374961389},{"_id":"public/vendors/font-awesome/css/font-awesome.min.css","hash":"05ea25bc9b3ac48993e1fee322d3bc94b49a6e22","modified":1547374961390},{"_id":"public/vendors/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1547374961390},{"_id":"public/vendors/font-awesome/fonts/fontawesome-webfont.ttf","hash":"27cf1f2ec59aece6938c7bb2feb0e287ea778ff9","modified":1547374961417},{"_id":"public/2017/05/11/TCP协议中的三次握手和四次挥手/2.png","hash":"446b22ae02abc25c0466ee5be782d0dcd89d9245","modified":1547374961554},{"_id":"public/vendors/font-awesome/fonts/fontawesome-webfont.svg","hash":"2b3c8ba7008cc014d8fb37abc6f9f49aeda83824","modified":1547374961657},{"_id":"public/2017/04/08/broadcast与broadcast-receiver/01.gif","hash":"fbff750a3eccddd134b3666e1d2e2bdfa515656c","modified":1547374961894},{"_id":"public/2018/05/26/viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif","hash":"db8d1b552f31862bcc48a3a790b7c85e59d37d07","modified":1547374961921},{"_id":"public/2017/04/09/AlarmManager详解/01.gif","hash":"b51f76a2928b5f50aac3b6aa67e6daf0ef688940","modified":1547374961955},{"_id":"public/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleTask.gif","hash":"eacde4cfb94b7b17950ce3583b662edf14327f78","modified":1547374961958}],"Category":[{"name":"android","_id":"cjqur3aig0004a0us490fskdq"},{"name":"通讯","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3aka000ja0usvnoe0816"},{"name":"android各种manager","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3akk000oa0us9cx3fv0w"},{"name":"javascript","_id":"cjqur3al2000ua0usn29iq6yw"},{"name":"TCP/IP","_id":"cjqur3alc000za0usubsv3hf3"},{"name":"四大组件","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3alp0015a0uszwtusiw4"},{"name":"面试","_id":"cjqur3am00019a0usn3yguvw1"},{"name":"android studio","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3amd001fa0usa483upyc"},{"name":"框架","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3amm001ma0usm0zbjfqm"},{"name":"Material Design","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3amw001ua0us7lz6aobx"},{"name":"对象传递","parent":"cjqur3aka000ja0usvnoe0816","_id":"cjqur3anh0029a0usiiwqog1c"},{"name":"git","_id":"cjqur3anx002na0uswxlrryxw"},{"name":"模块化","parent":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3aor0038a0us5o5dn8hg"},{"name":"TCP","parent":"cjqur3alc000za0usubsv3hf3","_id":"cjqur3apj003pa0us7dfxb69o"},{"name":"service","parent":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3apt0041a0us4uiiscx9"},{"name":"java","parent":"cjqur3am00019a0usn3yguvw1","_id":"cjqur3aq9004da0usg3wsqgi6"},{"name":"ajax","parent":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3aqf004ka0uskq0h2hx3"},{"name":"java","_id":"cjqur3aqi004pa0us7l1vjqzn"},{"name":"server","_id":"cjqur3aqn004ua0usn9urnga1"},{"name":"oralce","_id":"cjqur3aqp004ya0usa1onr1ix"},{"name":"widget","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3aqq0050a0usbvqungrw"},{"name":"vmware","_id":"cjqur3aqu0053a0us5qkaq0hx"},{"name":"activity","parent":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3ar2005ea0usk3kttddh"},{"name":"regex","_id":"cjqur3ara005la0ushpzzfusi"},{"name":"算法","_id":"cjqur3arh005xa0usfe2ow39w"},{"name":"php","_id":"cjqur3ark0062a0usau34gdxy"},{"name":"hexo","parent":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3arm0065a0usqrx2rwt3"},{"name":"设计模式","parent":"cjqur3aig0004a0us490fskdq","_id":"cjqur3aro0069a0usml1ar0cn"},{"name":"设计模式","_id":"cjqur3ars006da0usx22vjde7"},{"name":"git","parent":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3ary006na0usy6glalj6"},{"name":"python","_id":"cjqur3as5006ta0usu12bt764"},{"name":"broadcast","parent":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3as8006xa0usxw4nq48h"},{"name":"javatoexe","parent":"cjqur3aqi004pa0us7l1vjqzn","_id":"cjqur3ast007ha0usi92kigvk"},{"name":"tomcat","parent":"cjqur3aqn004ua0usn9urnga1","_id":"cjqur3asv007ka0us7l3xo7cp"},{"name":"sql","parent":"cjqur3aqp004ya0usa1onr1ix","_id":"cjqur3asx007na0usc5n63evj"},{"name":"二分查找法","parent":"cjqur3arh005xa0usfe2ow39w","_id":"cjqur3at8007wa0us261bmoru"},{"name":"适配器模式","parent":"cjqur3ars006da0usx22vjde7","_id":"cjqur3ata0080a0us9hv8lwn9"},{"name":"冒泡排序","parent":"cjqur3arh005xa0usfe2ow39w","_id":"cjqur3atd0083a0usbwe3xnyn"},{"name":"工厂模式","parent":"cjqur3ars006da0usx22vjde7","_id":"cjqur3atf0086a0us33zx8ib2"}],"Data":[],"Page":[{"title":"categories","date":"2017-01-26T16:00:36.000Z","type":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2017-01-27 00:00:36\ntype: \"categories\"\n---\n","updated":"2017-01-27T08:21:35.441Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cjqur3ai70001a0usatyo1vxa","content":"","excerpt":"","more":""},{"title":"about","date":"2017-01-26T16:00:52.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2017-01-27 00:00:52\n---\n","updated":"2017-01-26T16:00:52.672Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjqur3aid0003a0usrvhcjm6v","content":"","excerpt":"","more":""},{"title":"tags","date":"2017-01-26T15:59:59.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2017-01-26 23:59:59\ntype: \"tags\"\n---\n","updated":"2017-01-27T08:20:13.418Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cjqur3aiv0007a0us5mqtath4","content":"","excerpt":"","more":""}],"Post":[{"title":"AlarmManager详解","date":"2017-04-09T13:48:25.000Z","_content":"# 参考链接\n[Android闹钟设置的解决方案——HanWen](http://www.jianshu.com/p/1f919c6eeff6)  \n\n[Android AlarmManager 定时会 “失效” 的问题——开源中国社区的问答](http://www.oschina.net/question/261246_140677) \n\n[保证Android后台不被杀死的几种方法——不吃早饭好不好](http://www.cnblogs.com/dixonyy/p/5163880.html)  \n\n[Android中运用AlarmManager需注意设置进程属性——choujs](http://www.myexception.cn/android/917358.html)  \n\n[AlarmManager 怎样在进程被干掉的情况下触发回调——百度知道](https://zhidao.baidu.com/question/1178427619022141179.html)\n# AlarmManager详解\nAlarmManager通常用途是用来开发手机闹钟，但是AlarmManager的用处并只是这个。AlarmManager其实是一个全局定时器，它可以在指定时间或指定周期启动其他组件（`Activity`、`Service`、`BroadcastReceiver`）\n## 主要遇到一些问题\n* 华为手机上kill应用后，无法唤醒Alarm  \n    参考了一些社区问答，大部分原因都是手机为Alarm设置了**统一的唤醒时间**\n* 不能精确启动闹钟服务  \n    API19以上是无法精确时间的，可以调用`setExact()`和`setWindow()`\n* 华为手机上休眠无法启动闹钟服务\n\n<!--more-->\n\n##  主要方法\n### set(int type,long triggerAtTime,PendingIntent operation)\n设置指定triggerAtTime时间启动由operation参数指定组件。其中第一个参数指定定时服务的类型，该参数可接受如下值。\n* `ElAPSED_REALTIME`：  \n指定从现在开始过了一定时间后启动operation所对应的组件。\n\n* `ELASPED_REALTIME_WAKEUP`：  \n指定从现在开始时间过了一定时间operation所对应的组件。即使系统处于休眠状态也会执行也会执行operation所对应的组件。\n\n* `RTC`：  \n指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation所对应的组件。\n\n* `RTC_WAKEUP`:指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation对应的组件，即使系统休眠状态也会执行operation所对应的组件。\n\n### setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\n设置非精确的周期性任务。例如，我们设置Alarm每个小时启动一次，但是系统不一定总在每个小时的开始启动Alarm服务。\n\n### setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\n设置一个周期性执行的定时服务。\n### cancel(PendingIntent operation)\n取消AlarmManager的定时服务。\n### 注意\n* API 19(Android4.4)开始，AlarmManager的机制是非准确激发的，操作系统会偏移(shift)闹钟来最小化唤醒和电池消耗。不过AlarManager新增了如下两个方法来支持精确激发。\n    * `setExact(int type long triggerAtMillis,PendingIntent operation)`\n    设置闹钟闹钟将在精确的时间被激发。\n\n    * `setWindow(int type,long windowStartMillis,long windowLengthMillis,PendingIntent operation)`\n    设置闹钟将在精确的时间段内被激发。\n* 很显示API19以后无法使用`setInexactRepeating()`和`setRepeating()`，也就是无法设置重复闹钟，**唯一解决的方式，也只有启动闹钟的时候再设置一次闹钟，也就变相地实现了重复闹钟了。**\n* API19以下使用`setExact()`和`setWindow()`将会报没有匹配的方法  \n```\njava.lang.NoSuchMethodError: android.app.AlarmManager.setExact  \n```\n\n解决办法是判断SDK版本，根据SDK版本来定义不同的方法。\n```\nint sdkVersion = Integer.valueOf(Build.VERSION.SDK_INT);\n```\n## 使用AlarmManager做demo示例\n### 使用AlarmManager\n### 闹钟服务\n代码结构：  \nmain/com.app.demo  \n└──MainActivity.java——>用户设置闹钟时间  \n└──AlarmActivity.java——>闹钟启动时，将启动的Activity  \n└──AudioPlayer.java———>封装的，用来播放音频  \n\n> MainActivity.java\n\n```\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        findViewById(R.id.setDate).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Calendar currentTime = Calendar.getInstance();\n                new TimePickerDialog(MainActivity.this, new TimePickerDialog.OnTimeSetListener() {\n\n                    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n                    @Override\n                    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                        Intent i=new Intent(MainActivity.this,AlarmActivity.class);\n                        //创建PendingIntent对象\n                        PendingIntent pi=PendingIntent.getActivity(MainActivity.this,0,i,0);\n                        Calendar c=Calendar.getInstance();\n                        c.setTimeInMillis(System.currentTimeMillis());\n                        \n                        //Calendar.HOUR这是12小时制因为无论你的TimePickerDialog设置的是12还是24，hourOfDay默认获取的是24小时制的  \n                        //根据用户的选择的时间来设置Calendar对象 c.set(Calendar.HOUR_OF_DAY,hourOfDay);\n                        c.set(Calendar.MINUTE,minute);\n                        //获取AlarmManager\n                        AlarmManager am= (AlarmManager) getSystemService(ALARM_SERVICE);\n                        Log.i(TAG, \"onTimeSet: \"+SystemInfoUtil.getSDKVersionNumber());\n                        if (SystemInfoUtil.getSDKVersionNumber()>=19){\n                        //API19以上使用\n                            am.setExact(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);\n                        }else {\n                            am.set(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);\n                        }\n                        Toast.makeText(MainActivity.this,\"设置闹钟成功\", Toast.LENGTH_LONG).show();\n                    }\n                },currentTime.get(Calendar.HOUR_OF_DAY),currentTime.get(Calendar.MINUTE),false).show();\n            }\n        });\n    }\n```\n\n> AlarmActivity.java\n\n```\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_alarm);\n    // 加载音乐\n    try {\n//            String path = RingtoneManager.getActualDefaultRingtoneUri(this, RingtoneManager.TYPE_RINGTONE).getPath();\n        AssetFileDescriptor openFd=getAssets().openFd(\"music.mp3\");\n        AudioPlayer.getInstance().play(openFd);\n        AudioPlayer.getInstance().setLooping(true);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    new AlertDialog.Builder(this)\n            .setTitle(\"闹钟\")\n            .setTitle(\"时间到！！！！！ \")\n            .setPositiveButton(\"确定\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    AudioPlayer.getInstance().stop();\n                }\n            })\n            .create().show();\n}\n\n```\n\n","source":"_posts/AlarmManager详解.md","raw":"---\ntitle: AlarmManager详解\ndate: 2017-04-09 21:48:25\ncategories:\n  - android\n  - android各种manager\ntags:\n  - android\n  - android各种manager\n---\n# 参考链接\n[Android闹钟设置的解决方案——HanWen](http://www.jianshu.com/p/1f919c6eeff6)  \n\n[Android AlarmManager 定时会 “失效” 的问题——开源中国社区的问答](http://www.oschina.net/question/261246_140677) \n\n[保证Android后台不被杀死的几种方法——不吃早饭好不好](http://www.cnblogs.com/dixonyy/p/5163880.html)  \n\n[Android中运用AlarmManager需注意设置进程属性——choujs](http://www.myexception.cn/android/917358.html)  \n\n[AlarmManager 怎样在进程被干掉的情况下触发回调——百度知道](https://zhidao.baidu.com/question/1178427619022141179.html)\n# AlarmManager详解\nAlarmManager通常用途是用来开发手机闹钟，但是AlarmManager的用处并只是这个。AlarmManager其实是一个全局定时器，它可以在指定时间或指定周期启动其他组件（`Activity`、`Service`、`BroadcastReceiver`）\n## 主要遇到一些问题\n* 华为手机上kill应用后，无法唤醒Alarm  \n    参考了一些社区问答，大部分原因都是手机为Alarm设置了**统一的唤醒时间**\n* 不能精确启动闹钟服务  \n    API19以上是无法精确时间的，可以调用`setExact()`和`setWindow()`\n* 华为手机上休眠无法启动闹钟服务\n\n<!--more-->\n\n##  主要方法\n### set(int type,long triggerAtTime,PendingIntent operation)\n设置指定triggerAtTime时间启动由operation参数指定组件。其中第一个参数指定定时服务的类型，该参数可接受如下值。\n* `ElAPSED_REALTIME`：  \n指定从现在开始过了一定时间后启动operation所对应的组件。\n\n* `ELASPED_REALTIME_WAKEUP`：  \n指定从现在开始时间过了一定时间operation所对应的组件。即使系统处于休眠状态也会执行也会执行operation所对应的组件。\n\n* `RTC`：  \n指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation所对应的组件。\n\n* `RTC_WAKEUP`:指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation对应的组件，即使系统休眠状态也会执行operation所对应的组件。\n\n### setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\n设置非精确的周期性任务。例如，我们设置Alarm每个小时启动一次，但是系统不一定总在每个小时的开始启动Alarm服务。\n\n### setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\n设置一个周期性执行的定时服务。\n### cancel(PendingIntent operation)\n取消AlarmManager的定时服务。\n### 注意\n* API 19(Android4.4)开始，AlarmManager的机制是非准确激发的，操作系统会偏移(shift)闹钟来最小化唤醒和电池消耗。不过AlarManager新增了如下两个方法来支持精确激发。\n    * `setExact(int type long triggerAtMillis,PendingIntent operation)`\n    设置闹钟闹钟将在精确的时间被激发。\n\n    * `setWindow(int type,long windowStartMillis,long windowLengthMillis,PendingIntent operation)`\n    设置闹钟将在精确的时间段内被激发。\n* 很显示API19以后无法使用`setInexactRepeating()`和`setRepeating()`，也就是无法设置重复闹钟，**唯一解决的方式，也只有启动闹钟的时候再设置一次闹钟，也就变相地实现了重复闹钟了。**\n* API19以下使用`setExact()`和`setWindow()`将会报没有匹配的方法  \n```\njava.lang.NoSuchMethodError: android.app.AlarmManager.setExact  \n```\n\n解决办法是判断SDK版本，根据SDK版本来定义不同的方法。\n```\nint sdkVersion = Integer.valueOf(Build.VERSION.SDK_INT);\n```\n## 使用AlarmManager做demo示例\n### 使用AlarmManager\n### 闹钟服务\n代码结构：  \nmain/com.app.demo  \n└──MainActivity.java——>用户设置闹钟时间  \n└──AlarmActivity.java——>闹钟启动时，将启动的Activity  \n└──AudioPlayer.java———>封装的，用来播放音频  \n\n> MainActivity.java\n\n```\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        findViewById(R.id.setDate).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Calendar currentTime = Calendar.getInstance();\n                new TimePickerDialog(MainActivity.this, new TimePickerDialog.OnTimeSetListener() {\n\n                    @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n                    @Override\n                    public void onTimeSet(TimePicker view, int hourOfDay, int minute) {\n                        Intent i=new Intent(MainActivity.this,AlarmActivity.class);\n                        //创建PendingIntent对象\n                        PendingIntent pi=PendingIntent.getActivity(MainActivity.this,0,i,0);\n                        Calendar c=Calendar.getInstance();\n                        c.setTimeInMillis(System.currentTimeMillis());\n                        \n                        //Calendar.HOUR这是12小时制因为无论你的TimePickerDialog设置的是12还是24，hourOfDay默认获取的是24小时制的  \n                        //根据用户的选择的时间来设置Calendar对象 c.set(Calendar.HOUR_OF_DAY,hourOfDay);\n                        c.set(Calendar.MINUTE,minute);\n                        //获取AlarmManager\n                        AlarmManager am= (AlarmManager) getSystemService(ALARM_SERVICE);\n                        Log.i(TAG, \"onTimeSet: \"+SystemInfoUtil.getSDKVersionNumber());\n                        if (SystemInfoUtil.getSDKVersionNumber()>=19){\n                        //API19以上使用\n                            am.setExact(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);\n                        }else {\n                            am.set(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);\n                        }\n                        Toast.makeText(MainActivity.this,\"设置闹钟成功\", Toast.LENGTH_LONG).show();\n                    }\n                },currentTime.get(Calendar.HOUR_OF_DAY),currentTime.get(Calendar.MINUTE),false).show();\n            }\n        });\n    }\n```\n\n> AlarmActivity.java\n\n```\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_alarm);\n    // 加载音乐\n    try {\n//            String path = RingtoneManager.getActualDefaultRingtoneUri(this, RingtoneManager.TYPE_RINGTONE).getPath();\n        AssetFileDescriptor openFd=getAssets().openFd(\"music.mp3\");\n        AudioPlayer.getInstance().play(openFd);\n        AudioPlayer.getInstance().setLooping(true);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    new AlertDialog.Builder(this)\n            .setTitle(\"闹钟\")\n            .setTitle(\"时间到！！！！！ \")\n            .setPositiveButton(\"确定\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    AudioPlayer.getInstance().stop();\n                }\n            })\n            .create().show();\n}\n\n```\n\n","slug":"AlarmManager详解","published":1,"updated":"2017-04-18T13:26:50.398Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ah70000a0uspcvxm280","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jianshu.com/p/1f919c6eeff6\" target=\"_blank\" rel=\"external\">Android闹钟设置的解决方案——HanWen</a>  </p>\n<p><a href=\"http://www.oschina.net/question/261246_140677\" target=\"_blank\" rel=\"external\">Android AlarmManager 定时会 “失效” 的问题——开源中国社区的问答</a> </p>\n<p><a href=\"http://www.cnblogs.com/dixonyy/p/5163880.html\" target=\"_blank\" rel=\"external\">保证Android后台不被杀死的几种方法——不吃早饭好不好</a>  </p>\n<p><a href=\"http://www.myexception.cn/android/917358.html\" target=\"_blank\" rel=\"external\">Android中运用AlarmManager需注意设置进程属性——choujs</a>  </p>\n<p><a href=\"https://zhidao.baidu.com/question/1178427619022141179.html\" target=\"_blank\" rel=\"external\">AlarmManager 怎样在进程被干掉的情况下触发回调——百度知道</a></p>\n<h1 id=\"AlarmManager详解\"><a href=\"#AlarmManager详解\" class=\"headerlink\" title=\"AlarmManager详解\"></a>AlarmManager详解</h1><p>AlarmManager通常用途是用来开发手机闹钟，但是AlarmManager的用处并只是这个。AlarmManager其实是一个全局定时器，它可以在指定时间或指定周期启动其他组件（<code>Activity</code>、<code>Service</code>、<code>BroadcastReceiver</code>）</p>\n<h2 id=\"主要遇到一些问题\"><a href=\"#主要遇到一些问题\" class=\"headerlink\" title=\"主要遇到一些问题\"></a>主要遇到一些问题</h2><ul>\n<li>华为手机上kill应用后，无法唤醒Alarm<br>  参考了一些社区问答，大部分原因都是手机为Alarm设置了<strong>统一的唤醒时间</strong></li>\n<li>不能精确启动闹钟服务<br>  API19以上是无法精确时间的，可以调用<code>setExact()</code>和<code>setWindow()</code></li>\n<li>华为手机上休眠无法启动闹钟服务</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"主要方法\"><a href=\"#主要方法\" class=\"headerlink\" title=\"主要方法\"></a>主要方法</h2><h3 id=\"set-int-type-long-triggerAtTime-PendingIntent-operation\"><a href=\"#set-int-type-long-triggerAtTime-PendingIntent-operation\" class=\"headerlink\" title=\"set(int type,long triggerAtTime,PendingIntent operation)\"></a>set(int type,long triggerAtTime,PendingIntent operation)</h3><p>设置指定triggerAtTime时间启动由operation参数指定组件。其中第一个参数指定定时服务的类型，该参数可接受如下值。</p>\n<ul>\n<li><p><code>ElAPSED_REALTIME</code>：<br>指定从现在开始过了一定时间后启动operation所对应的组件。</p>\n</li>\n<li><p><code>ELASPED_REALTIME_WAKEUP</code>：<br>指定从现在开始时间过了一定时间operation所对应的组件。即使系统处于休眠状态也会执行也会执行operation所对应的组件。</p>\n</li>\n<li><p><code>RTC</code>：<br>指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation所对应的组件。</p>\n</li>\n<li><p><code>RTC_WAKEUP</code>:指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation对应的组件，即使系统休眠状态也会执行operation所对应的组件。</p>\n</li>\n</ul>\n<h3 id=\"setInexactRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\"><a href=\"#setInexactRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\" class=\"headerlink\" title=\"setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\"></a>setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)</h3><p>设置非精确的周期性任务。例如，我们设置Alarm每个小时启动一次，但是系统不一定总在每个小时的开始启动Alarm服务。</p>\n<h3 id=\"setRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\"><a href=\"#setRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\" class=\"headerlink\" title=\"setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\"></a>setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)</h3><p>设置一个周期性执行的定时服务。</p>\n<h3 id=\"cancel-PendingIntent-operation\"><a href=\"#cancel-PendingIntent-operation\" class=\"headerlink\" title=\"cancel(PendingIntent operation)\"></a>cancel(PendingIntent operation)</h3><p>取消AlarmManager的定时服务。</p>\n<h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><ul>\n<li><p>API 19(Android4.4)开始，AlarmManager的机制是非准确激发的，操作系统会偏移(shift)闹钟来最小化唤醒和电池消耗。不过AlarManager新增了如下两个方法来支持精确激发。</p>\n<ul>\n<li><p><code>setExact(int type long triggerAtMillis,PendingIntent operation)</code><br>设置闹钟闹钟将在精确的时间被激发。</p>\n</li>\n<li><p><code>setWindow(int type,long windowStartMillis,long windowLengthMillis,PendingIntent operation)</code><br>设置闹钟将在精确的时间段内被激发。</p>\n</li>\n</ul>\n</li>\n<li>很显示API19以后无法使用<code>setInexactRepeating()</code>和<code>setRepeating()</code>，也就是无法设置重复闹钟，<strong>唯一解决的方式，也只有启动闹钟的时候再设置一次闹钟，也就变相地实现了重复闹钟了。</strong></li>\n<li>API19以下使用<code>setExact()</code>和<code>setWindow()</code>将会报没有匹配的方法  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">java.lang.NoSuchMethodError: android.app.AlarmManager.setExact</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>解决办法是判断SDK版本，根据SDK版本来定义不同的方法。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">int sdkVersion = Integer.valueOf(Build.VERSION.SDK_INT);</div></pre></td></tr></table></figure></p>\n<h2 id=\"使用AlarmManager做demo示例\"><a href=\"#使用AlarmManager做demo示例\" class=\"headerlink\" title=\"使用AlarmManager做demo示例\"></a>使用AlarmManager做demo示例</h2><h3 id=\"使用AlarmManager\"><a href=\"#使用AlarmManager\" class=\"headerlink\" title=\"使用AlarmManager\"></a>使用AlarmManager</h3><h3 id=\"闹钟服务\"><a href=\"#闹钟服务\" class=\"headerlink\" title=\"闹钟服务\"></a>闹钟服务</h3><p>代码结构：<br>main/com.app.demo<br>└──MainActivity.java——&gt;用户设置闹钟时间<br>└──AlarmActivity.java——&gt;闹钟启动时，将启动的Activity<br>└──AudioPlayer.java———&gt;封装的，用来播放音频  </p>\n<blockquote>\n<p>MainActivity.java</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">   protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">       super.onCreate(savedInstanceState);</div><div class=\"line\">       setContentView(R.layout.activity_main);</div><div class=\"line\">       findViewById(R.id.setDate).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">           @Override</div><div class=\"line\">           public void onClick(View v) &#123;</div><div class=\"line\">               Calendar currentTime = Calendar.getInstance();</div><div class=\"line\">               new TimePickerDialog(MainActivity.this, new TimePickerDialog.OnTimeSetListener() &#123;</div><div class=\"line\"></div><div class=\"line\">                   @RequiresApi(api = Build.VERSION_CODES.KITKAT)</div><div class=\"line\">                   @Override</div><div class=\"line\">                   public void onTimeSet(TimePicker view, int hourOfDay, int minute) &#123;</div><div class=\"line\">                       Intent i=new Intent(MainActivity.this,AlarmActivity.class);</div><div class=\"line\">                       //创建PendingIntent对象</div><div class=\"line\">                       PendingIntent pi=PendingIntent.getActivity(MainActivity.this,0,i,0);</div><div class=\"line\">                       Calendar c=Calendar.getInstance();</div><div class=\"line\">                       c.setTimeInMillis(System.currentTimeMillis());</div><div class=\"line\">                       </div><div class=\"line\">                       //Calendar.HOUR这是12小时制因为无论你的TimePickerDialog设置的是12还是24，hourOfDay默认获取的是24小时制的  </div><div class=\"line\">                       //根据用户的选择的时间来设置Calendar对象 c.set(Calendar.HOUR_OF_DAY,hourOfDay);</div><div class=\"line\">                       c.set(Calendar.MINUTE,minute);</div><div class=\"line\">                       //获取AlarmManager</div><div class=\"line\">                       AlarmManager am= (AlarmManager) getSystemService(ALARM_SERVICE);</div><div class=\"line\">                       Log.i(TAG, &quot;onTimeSet: &quot;+SystemInfoUtil.getSDKVersionNumber());</div><div class=\"line\">                       if (SystemInfoUtil.getSDKVersionNumber()&gt;=19)&#123;</div><div class=\"line\">                       //API19以上使用</div><div class=\"line\">                           am.setExact(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);</div><div class=\"line\">                       &#125;else &#123;</div><div class=\"line\">                           am.set(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);</div><div class=\"line\">                       &#125;</div><div class=\"line\">                       Toast.makeText(MainActivity.this,&quot;设置闹钟成功&quot;, Toast.LENGTH_LONG).show();</div><div class=\"line\">                   &#125;</div><div class=\"line\">               &#125;,currentTime.get(Calendar.HOUR_OF_DAY),currentTime.get(Calendar.MINUTE),false).show();</div><div class=\"line\">           &#125;</div><div class=\"line\">       &#125;);</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>AlarmActivity.java</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">    super.onCreate(savedInstanceState);</div><div class=\"line\">    setContentView(R.layout.activity_alarm);</div><div class=\"line\">    // 加载音乐</div><div class=\"line\">    try &#123;</div><div class=\"line\">//            String path = RingtoneManager.getActualDefaultRingtoneUri(this, RingtoneManager.TYPE_RINGTONE).getPath();</div><div class=\"line\">        AssetFileDescriptor openFd=getAssets().openFd(&quot;music.mp3&quot;);</div><div class=\"line\">        AudioPlayer.getInstance().play(openFd);</div><div class=\"line\">        AudioPlayer.getInstance().setLooping(true);</div><div class=\"line\">    &#125; catch (IOException e) &#123;</div><div class=\"line\">        e.printStackTrace();</div><div class=\"line\">    &#125;</div><div class=\"line\">    new AlertDialog.Builder(this)</div><div class=\"line\">            .setTitle(&quot;闹钟&quot;)</div><div class=\"line\">            .setTitle(&quot;时间到！！！！！ &quot;)</div><div class=\"line\">            .setPositiveButton(&quot;确定&quot;, new DialogInterface.OnClickListener() &#123;</div><div class=\"line\">                @Override</div><div class=\"line\">                public void onClick(DialogInterface dialog, int which) &#123;</div><div class=\"line\">                    AudioPlayer.getInstance().stop();</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;)</div><div class=\"line\">            .create().show();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jianshu.com/p/1f919c6eeff6\">Android闹钟设置的解决方案——HanWen</a>  </p>\n<p><a href=\"http://www.oschina.net/question/261246_140677\">Android AlarmManager 定时会 “失效” 的问题——开源中国社区的问答</a> </p>\n<p><a href=\"http://www.cnblogs.com/dixonyy/p/5163880.html\">保证Android后台不被杀死的几种方法——不吃早饭好不好</a>  </p>\n<p><a href=\"http://www.myexception.cn/android/917358.html\">Android中运用AlarmManager需注意设置进程属性——choujs</a>  </p>\n<p><a href=\"https://zhidao.baidu.com/question/1178427619022141179.html\">AlarmManager 怎样在进程被干掉的情况下触发回调——百度知道</a></p>\n<h1 id=\"AlarmManager详解\"><a href=\"#AlarmManager详解\" class=\"headerlink\" title=\"AlarmManager详解\"></a>AlarmManager详解</h1><p>AlarmManager通常用途是用来开发手机闹钟，但是AlarmManager的用处并只是这个。AlarmManager其实是一个全局定时器，它可以在指定时间或指定周期启动其他组件（<code>Activity</code>、<code>Service</code>、<code>BroadcastReceiver</code>）</p>\n<h2 id=\"主要遇到一些问题\"><a href=\"#主要遇到一些问题\" class=\"headerlink\" title=\"主要遇到一些问题\"></a>主要遇到一些问题</h2><ul>\n<li>华为手机上kill应用后，无法唤醒Alarm<br>  参考了一些社区问答，大部分原因都是手机为Alarm设置了<strong>统一的唤醒时间</strong></li>\n<li>不能精确启动闹钟服务<br>  API19以上是无法精确时间的，可以调用<code>setExact()</code>和<code>setWindow()</code></li>\n<li>华为手机上休眠无法启动闹钟服务</li>\n</ul>","more":"<h2 id=\"主要方法\"><a href=\"#主要方法\" class=\"headerlink\" title=\"主要方法\"></a>主要方法</h2><h3 id=\"set-int-type-long-triggerAtTime-PendingIntent-operation\"><a href=\"#set-int-type-long-triggerAtTime-PendingIntent-operation\" class=\"headerlink\" title=\"set(int type,long triggerAtTime,PendingIntent operation)\"></a>set(int type,long triggerAtTime,PendingIntent operation)</h3><p>设置指定triggerAtTime时间启动由operation参数指定组件。其中第一个参数指定定时服务的类型，该参数可接受如下值。</p>\n<ul>\n<li><p><code>ElAPSED_REALTIME</code>：<br>指定从现在开始过了一定时间后启动operation所对应的组件。</p>\n</li>\n<li><p><code>ELASPED_REALTIME_WAKEUP</code>：<br>指定从现在开始时间过了一定时间operation所对应的组件。即使系统处于休眠状态也会执行也会执行operation所对应的组件。</p>\n</li>\n<li><p><code>RTC</code>：<br>指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation所对应的组件。</p>\n</li>\n<li><p><code>RTC_WAKEUP</code>:指定当系统调用System.currentTimeMillis()方法的返回值与triggerAtTime相等时启动operation对应的组件，即使系统休眠状态也会执行operation所对应的组件。</p>\n</li>\n</ul>\n<h3 id=\"setInexactRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\"><a href=\"#setInexactRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\" class=\"headerlink\" title=\"setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\"></a>setInexactRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)</h3><p>设置非精确的周期性任务。例如，我们设置Alarm每个小时启动一次，但是系统不一定总在每个小时的开始启动Alarm服务。</p>\n<h3 id=\"setRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\"><a href=\"#setRepeating-int-type-long-triggerAtTime-long-interval-PendingIntent-operation\" class=\"headerlink\" title=\"setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)\"></a>setRepeating(int type,long triggerAtTime,long interval,PendingIntent operation)</h3><p>设置一个周期性执行的定时服务。</p>\n<h3 id=\"cancel-PendingIntent-operation\"><a href=\"#cancel-PendingIntent-operation\" class=\"headerlink\" title=\"cancel(PendingIntent operation)\"></a>cancel(PendingIntent operation)</h3><p>取消AlarmManager的定时服务。</p>\n<h3 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h3><ul>\n<li><p>API 19(Android4.4)开始，AlarmManager的机制是非准确激发的，操作系统会偏移(shift)闹钟来最小化唤醒和电池消耗。不过AlarManager新增了如下两个方法来支持精确激发。</p>\n<ul>\n<li><p><code>setExact(int type long triggerAtMillis,PendingIntent operation)</code><br>设置闹钟闹钟将在精确的时间被激发。</p>\n</li>\n<li><p><code>setWindow(int type,long windowStartMillis,long windowLengthMillis,PendingIntent operation)</code><br>设置闹钟将在精确的时间段内被激发。</p>\n</li>\n</ul>\n</li>\n<li>很显示API19以后无法使用<code>setInexactRepeating()</code>和<code>setRepeating()</code>，也就是无法设置重复闹钟，<strong>唯一解决的方式，也只有启动闹钟的时候再设置一次闹钟，也就变相地实现了重复闹钟了。</strong></li>\n<li>API19以下使用<code>setExact()</code>和<code>setWindow()</code>将会报没有匹配的方法  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">java.lang.NoSuchMethodError: android.app.AlarmManager.setExact</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>解决办法是判断SDK版本，根据SDK版本来定义不同的方法。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">int sdkVersion = Integer.valueOf(Build.VERSION.SDK_INT);</div></pre></td></tr></table></figure></p>\n<h2 id=\"使用AlarmManager做demo示例\"><a href=\"#使用AlarmManager做demo示例\" class=\"headerlink\" title=\"使用AlarmManager做demo示例\"></a>使用AlarmManager做demo示例</h2><h3 id=\"使用AlarmManager\"><a href=\"#使用AlarmManager\" class=\"headerlink\" title=\"使用AlarmManager\"></a>使用AlarmManager</h3><h3 id=\"闹钟服务\"><a href=\"#闹钟服务\" class=\"headerlink\" title=\"闹钟服务\"></a>闹钟服务</h3><p>代码结构：<br>main/com.app.demo<br>└──MainActivity.java——&gt;用户设置闹钟时间<br>└──AlarmActivity.java——&gt;闹钟启动时，将启动的Activity<br>└──AudioPlayer.java———&gt;封装的，用来播放音频  </p>\n<blockquote>\n<p>MainActivity.java</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">   protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">       super.onCreate(savedInstanceState);</div><div class=\"line\">       setContentView(R.layout.activity_main);</div><div class=\"line\">       findViewById(R.id.setDate).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">           @Override</div><div class=\"line\">           public void onClick(View v) &#123;</div><div class=\"line\">               Calendar currentTime = Calendar.getInstance();</div><div class=\"line\">               new TimePickerDialog(MainActivity.this, new TimePickerDialog.OnTimeSetListener() &#123;</div><div class=\"line\"></div><div class=\"line\">                   @RequiresApi(api = Build.VERSION_CODES.KITKAT)</div><div class=\"line\">                   @Override</div><div class=\"line\">                   public void onTimeSet(TimePicker view, int hourOfDay, int minute) &#123;</div><div class=\"line\">                       Intent i=new Intent(MainActivity.this,AlarmActivity.class);</div><div class=\"line\">                       //创建PendingIntent对象</div><div class=\"line\">                       PendingIntent pi=PendingIntent.getActivity(MainActivity.this,0,i,0);</div><div class=\"line\">                       Calendar c=Calendar.getInstance();</div><div class=\"line\">                       c.setTimeInMillis(System.currentTimeMillis());</div><div class=\"line\">                       </div><div class=\"line\">                       //Calendar.HOUR这是12小时制因为无论你的TimePickerDialog设置的是12还是24，hourOfDay默认获取的是24小时制的  </div><div class=\"line\">                       //根据用户的选择的时间来设置Calendar对象 c.set(Calendar.HOUR_OF_DAY,hourOfDay);</div><div class=\"line\">                       c.set(Calendar.MINUTE,minute);</div><div class=\"line\">                       //获取AlarmManager</div><div class=\"line\">                       AlarmManager am= (AlarmManager) getSystemService(ALARM_SERVICE);</div><div class=\"line\">                       Log.i(TAG, &quot;onTimeSet: &quot;+SystemInfoUtil.getSDKVersionNumber());</div><div class=\"line\">                       if (SystemInfoUtil.getSDKVersionNumber()&gt;=19)&#123;</div><div class=\"line\">                       //API19以上使用</div><div class=\"line\">                           am.setExact(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);</div><div class=\"line\">                       &#125;else &#123;</div><div class=\"line\">                           am.set(AlarmManager.RTC_WAKEUP,c.getTimeInMillis(),pi);</div><div class=\"line\">                       &#125;</div><div class=\"line\">                       Toast.makeText(MainActivity.this,&quot;设置闹钟成功&quot;, Toast.LENGTH_LONG).show();</div><div class=\"line\">                   &#125;</div><div class=\"line\">               &#125;,currentTime.get(Calendar.HOUR_OF_DAY),currentTime.get(Calendar.MINUTE),false).show();</div><div class=\"line\">           &#125;</div><div class=\"line\">       &#125;);</div><div class=\"line\">   &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>AlarmActivity.java</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">    super.onCreate(savedInstanceState);</div><div class=\"line\">    setContentView(R.layout.activity_alarm);</div><div class=\"line\">    // 加载音乐</div><div class=\"line\">    try &#123;</div><div class=\"line\">//            String path = RingtoneManager.getActualDefaultRingtoneUri(this, RingtoneManager.TYPE_RINGTONE).getPath();</div><div class=\"line\">        AssetFileDescriptor openFd=getAssets().openFd(&quot;music.mp3&quot;);</div><div class=\"line\">        AudioPlayer.getInstance().play(openFd);</div><div class=\"line\">        AudioPlayer.getInstance().setLooping(true);</div><div class=\"line\">    &#125; catch (IOException e) &#123;</div><div class=\"line\">        e.printStackTrace();</div><div class=\"line\">    &#125;</div><div class=\"line\">    new AlertDialog.Builder(this)</div><div class=\"line\">            .setTitle(&quot;闹钟&quot;)</div><div class=\"line\">            .setTitle(&quot;时间到！！！！！ &quot;)</div><div class=\"line\">            .setPositiveButton(&quot;确定&quot;, new DialogInterface.OnClickListener() &#123;</div><div class=\"line\">                @Override</div><div class=\"line\">                public void onClick(DialogInterface dialog, int which) &#123;</div><div class=\"line\">                    AudioPlayer.getInstance().stop();</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;)</div><div class=\"line\">            .create().show();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"Android Service总结","date":"2017-04-16T08:49:13.000Z","_content":"# 参考链接\n[Service知识总结——某学姐](http://mouxuejie.com/blog/2016-04-16/service-intentservice-analysis/)\n# Service\n\n## service生命周期\nservice有两个生命周期，为什么会有两个生命周期呢，这是根据service的启动方式来进行区分的。\n* `Context.startService()`     \n    通过该方法启动service，访问者与service之间没有关联，即使访问者退出了，service也仍然运行。以下是打印结果\n\n```\ncom.app.demoservice I/MyService: onCreate: 开始创建Service\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\n```\n\n* `Context.bindService(Intent service,ServiceConnection conn,int flags)`  \n    使用该方法启动的service,访问者与service绑定在一起，访问者退出，service也就终止了。  \n![Android Service的两种生命周期](Android Service总结/1.jpg)  \n\n<!--more-->\n\n## service的主要回调方法\n* `IBinder onBind(Intent intent)`  \n该方法是Service子类必须实现的方法，该方法返回一个IBinder对象，应用程序可通过该对象与Service组件通信。\n\n* `void onCreate()`  \n在该Service第一次被创建后会立即回调该方法  \n\n* `void onDestroy`  \n在该Service被关闭之前会回调该方法  \n\n* `void onStartCommand(Intent intent,  int flags, int startId)`  \n该方法的早期版本是`onStart(Intent intent,int startId)`,每次客户端调用`startService(Intent)`方法启动Service，都会回调该方法  \n多次调用startService()，会多次调用onStartCommand()\n```\ncom.app.demoservice I/MyService: onCreate: 开始创建Service\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\n```\n* `void onUnBind(Intent intent)`  \n当Service与之绑定的客户端都断开连接时，会回调这个方法\n\n## 绑定本地Service并与之通信\n使用startService()启动的service，基本不会与访问者有太多的数据交互,所以访问者与service的数据交互最好是，用bindService()去启动这个service。\n* `Context.bindService(Intent service,ServiceConnection conn,int flags)`  \n    * `Intent service`  \n    启动的意图  \n    \n    * `ServiceConnection conn`  \n    ServiceConnection一个接口，该对象用于监听访问者与Service之间的状态，当访问者与Service建立连接时，会回调`onServiceConnected(ComponentName name, IBinder service)`，当Service发生异常或者其他原因中止时，会回调`onServiceDisconnected(ComponentName name)`，但是访问者主动调用unBindService()方法时并回调onServiceDisconnected();\n\n    * `int flag`  \n        此参考代表是否自动创建Service\n        * `0`  \n        指定为0时，不自动创建 \n        * `Context.BIND_AUTO_CREATE`  \n        指定为这个常量时，表示自动创建Service\n### 示例\n* MyService.java\n```\npublic class MyService extends Service {\n    private static final String TAG = MyService.class.getSimpleName();\n    private MyBinder myBinder=new MyBinder();\n    //模拟数据\n    private int serviceData =0;\n    //是否停止对数据处理\n    private boolean isStop=false;\n    public MyService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        Log.i(TAG, \"onBind: 开始绑定IBinder\");\n        return myBinder;\n    }\n    class MyBinder extends Binder {\n        public int  getDataState(){\n            return serviceData;\n        }\n        public void stop(boolean stop){\n            isStop=stop;\n        }\n    }\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Log.i(TAG, \"onCreate: 开始创建Service\");\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (!isStop){\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    if (serviceData>30){\n\n                    }\n                    serviceData++;\n                }\n                stopSelf();\n            }\n        }).start();\n    }\n\n    /**\n     * onStart()方法是Service的早期方法，onStartCommand()是新的推荐方法\n     * @param intent\n     * @param flags\n     * @param startId\n     * @return\n     */\n    @Override\n    public int onStartCommand(Intent intent,  int flags, int startId) {\n        Log.i(TAG, \"onStartCommand: 每次调用startService()或者 bindService()方法时，都会回调这个方法\");\n            return super.onStartCommand(intent, flags, startId);\n}\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Log.i(TAG, \"onDestroy: Service开始销毁之前会回调这个方法\");\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        Log.i(TAG, \"onUnbind: 当Service与之绑定的客户端都断开连接时，会回调这个方法\");\n        return super.onUnbind(intent);\n    }\n}\n```\n\n* MainActivity.java\n```\n//绑定并启动service\nfindViewById(bindService).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        startService(i);\n        bindService(i,MainActivity.this, BIND_AUTO_CREATE);\n    }\n});\nfindViewById(R.id.getServiceData).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        int dataState = myBinder.getDataState();\n        Toast.makeText(MainActivity.this,\"Service中数据为-->\"+dataState, Toast.LENGTH_SHORT).show();\n    }\n});\n```\n## IntentService\nIntentService是继承于Service的，跟Service一样也可以执行耗时任务，IntentService封装了线程和消息循环，IntentService中使用HandlerThread来处理，HandlerThread继承了Thread,内部实现使用了Looper和MessageQueue，用法也很简单。 \n\n* HandlerThread\n\n```\nHandlerThread myHandlerThread=new HandlerThread(\"myHandlerThread\");\nmyHandlerThread.start();\n//由于获取了HandlerThread中的Loooper，也就是handleMessage会HandlerThread的线程中执行。\nHandler myHandler=new Handler(myHandlerThread.getLooper()){\n    @Override\n    public void handleMessage(Message msg) {\n        super.handleMessage(msg);\n    }\n};\n```\n### IntentService的源码解析\nIntentService封装了HandlerThread，做一个简单分析就可以。\n\n> 这是IntentService中的一个内部，主要负责异步处理，`onHandleIntent((Intent)msg.obj);`是IntentService是抽象方法，也就是提供给我们实现异步处理的方法，onHandleIntent执行完成后会自动停止Service。\n\n```\nprivate final class ServiceHandler extends Handler {\n        public ServiceHandler(Looper looper) {\n            super(looper);\n        }\n\n        @Override\n        public void handleMessage(Message msg) {\n            onHandleIntent((Intent)msg.obj);\n            stopSelf(msg.arg1);\n        }\n    }\n```\n\n\n> 以下代码可以注意HandlerThread的实例化并start，这是service第一次创建时会立即启动一个线程。\n\n```\n@Override\npublic void onCreate() {\n    // TODO: It would be nice to have an option to hold a partial wakelock\n    // during processing, and to have a static startService(Context, Intent)\n    // method that would launch the service & hand off a wakelock.\n\n    super.onCreate();\n    HandlerThread thread = new HandlerThread(\"IntentService[\" + mName + \"]\");\n    thread.start();\n\n    mServiceLooper = thread.getLooper();\n    mServiceHandler = new ServiceHandler(mServiceLooper);\n}\n```\n\n> IntentService的排队处理  \n> 我们可以看每次启动Service都会发送一个消息，`mServiceHandler.sendMessage(msg);`，熟悉消息机制的我们知道，多余消息会处于等待状态。\n\n```\n//重点这个方法上\n@Override\npublic void onStart(@Nullable Intent intent, int startId) {\n    Message msg = mServiceHandler.obtainMessage();\n    msg.arg1 = startId;\n    msg.obj = intent;\n    mServiceHandler.sendMessage(msg);\n}\n\n/**\n * You should not override this method for your IntentService. Instead,\n * override {@link #onHandleIntent}, which the system calls when the IntentService\n * receives a start request.\n * @see android.app.Service#onStartCommand\n */\n@Override\npublic int onStartCommand(@Nullable Intent intent, int flags, int startId) {\n    onStart(intent, startId);\n    return mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;\n}\n```\n\n## 需要注意的地方\n* android5.0以上不允许使用隐式意图的方式启动Service \n\n* Service是在UI线程中的，所以Service也是不能执行耗时操作的，那么为什么不使用直接在Activity创建线程处理呢？因为如果在Activity退出的情况下，线程执行还未结束，此时所在的进程就变成空进程，系统可能需要内存会优先终止该进程，宿主进程被的终止的话，所在的子线程也会被中止。  ","source":"_posts/Android-Service总结.md","raw":"---\ntitle: Android Service总结\ndate: 2017-04-16 16:49:13\ncategories:\n  - android\n  - 四大组件\n  - service\ntags:\n  - android\n  - android service\n---\n# 参考链接\n[Service知识总结——某学姐](http://mouxuejie.com/blog/2016-04-16/service-intentservice-analysis/)\n# Service\n\n## service生命周期\nservice有两个生命周期，为什么会有两个生命周期呢，这是根据service的启动方式来进行区分的。\n* `Context.startService()`     \n    通过该方法启动service，访问者与service之间没有关联，即使访问者退出了，service也仍然运行。以下是打印结果\n\n```\ncom.app.demoservice I/MyService: onCreate: 开始创建Service\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\n```\n\n* `Context.bindService(Intent service,ServiceConnection conn,int flags)`  \n    使用该方法启动的service,访问者与service绑定在一起，访问者退出，service也就终止了。  \n![Android Service的两种生命周期](Android Service总结/1.jpg)  \n\n<!--more-->\n\n## service的主要回调方法\n* `IBinder onBind(Intent intent)`  \n该方法是Service子类必须实现的方法，该方法返回一个IBinder对象，应用程序可通过该对象与Service组件通信。\n\n* `void onCreate()`  \n在该Service第一次被创建后会立即回调该方法  \n\n* `void onDestroy`  \n在该Service被关闭之前会回调该方法  \n\n* `void onStartCommand(Intent intent,  int flags, int startId)`  \n该方法的早期版本是`onStart(Intent intent,int startId)`,每次客户端调用`startService(Intent)`方法启动Service，都会回调该方法  \n多次调用startService()，会多次调用onStartCommand()\n```\ncom.app.demoservice I/MyService: onCreate: 开始创建Service\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\ncom.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法\n```\n* `void onUnBind(Intent intent)`  \n当Service与之绑定的客户端都断开连接时，会回调这个方法\n\n## 绑定本地Service并与之通信\n使用startService()启动的service，基本不会与访问者有太多的数据交互,所以访问者与service的数据交互最好是，用bindService()去启动这个service。\n* `Context.bindService(Intent service,ServiceConnection conn,int flags)`  \n    * `Intent service`  \n    启动的意图  \n    \n    * `ServiceConnection conn`  \n    ServiceConnection一个接口，该对象用于监听访问者与Service之间的状态，当访问者与Service建立连接时，会回调`onServiceConnected(ComponentName name, IBinder service)`，当Service发生异常或者其他原因中止时，会回调`onServiceDisconnected(ComponentName name)`，但是访问者主动调用unBindService()方法时并回调onServiceDisconnected();\n\n    * `int flag`  \n        此参考代表是否自动创建Service\n        * `0`  \n        指定为0时，不自动创建 \n        * `Context.BIND_AUTO_CREATE`  \n        指定为这个常量时，表示自动创建Service\n### 示例\n* MyService.java\n```\npublic class MyService extends Service {\n    private static final String TAG = MyService.class.getSimpleName();\n    private MyBinder myBinder=new MyBinder();\n    //模拟数据\n    private int serviceData =0;\n    //是否停止对数据处理\n    private boolean isStop=false;\n    public MyService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        Log.i(TAG, \"onBind: 开始绑定IBinder\");\n        return myBinder;\n    }\n    class MyBinder extends Binder {\n        public int  getDataState(){\n            return serviceData;\n        }\n        public void stop(boolean stop){\n            isStop=stop;\n        }\n    }\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Log.i(TAG, \"onCreate: 开始创建Service\");\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while (!isStop){\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    if (serviceData>30){\n\n                    }\n                    serviceData++;\n                }\n                stopSelf();\n            }\n        }).start();\n    }\n\n    /**\n     * onStart()方法是Service的早期方法，onStartCommand()是新的推荐方法\n     * @param intent\n     * @param flags\n     * @param startId\n     * @return\n     */\n    @Override\n    public int onStartCommand(Intent intent,  int flags, int startId) {\n        Log.i(TAG, \"onStartCommand: 每次调用startService()或者 bindService()方法时，都会回调这个方法\");\n            return super.onStartCommand(intent, flags, startId);\n}\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Log.i(TAG, \"onDestroy: Service开始销毁之前会回调这个方法\");\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        Log.i(TAG, \"onUnbind: 当Service与之绑定的客户端都断开连接时，会回调这个方法\");\n        return super.onUnbind(intent);\n    }\n}\n```\n\n* MainActivity.java\n```\n//绑定并启动service\nfindViewById(bindService).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        startService(i);\n        bindService(i,MainActivity.this, BIND_AUTO_CREATE);\n    }\n});\nfindViewById(R.id.getServiceData).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        int dataState = myBinder.getDataState();\n        Toast.makeText(MainActivity.this,\"Service中数据为-->\"+dataState, Toast.LENGTH_SHORT).show();\n    }\n});\n```\n## IntentService\nIntentService是继承于Service的，跟Service一样也可以执行耗时任务，IntentService封装了线程和消息循环，IntentService中使用HandlerThread来处理，HandlerThread继承了Thread,内部实现使用了Looper和MessageQueue，用法也很简单。 \n\n* HandlerThread\n\n```\nHandlerThread myHandlerThread=new HandlerThread(\"myHandlerThread\");\nmyHandlerThread.start();\n//由于获取了HandlerThread中的Loooper，也就是handleMessage会HandlerThread的线程中执行。\nHandler myHandler=new Handler(myHandlerThread.getLooper()){\n    @Override\n    public void handleMessage(Message msg) {\n        super.handleMessage(msg);\n    }\n};\n```\n### IntentService的源码解析\nIntentService封装了HandlerThread，做一个简单分析就可以。\n\n> 这是IntentService中的一个内部，主要负责异步处理，`onHandleIntent((Intent)msg.obj);`是IntentService是抽象方法，也就是提供给我们实现异步处理的方法，onHandleIntent执行完成后会自动停止Service。\n\n```\nprivate final class ServiceHandler extends Handler {\n        public ServiceHandler(Looper looper) {\n            super(looper);\n        }\n\n        @Override\n        public void handleMessage(Message msg) {\n            onHandleIntent((Intent)msg.obj);\n            stopSelf(msg.arg1);\n        }\n    }\n```\n\n\n> 以下代码可以注意HandlerThread的实例化并start，这是service第一次创建时会立即启动一个线程。\n\n```\n@Override\npublic void onCreate() {\n    // TODO: It would be nice to have an option to hold a partial wakelock\n    // during processing, and to have a static startService(Context, Intent)\n    // method that would launch the service & hand off a wakelock.\n\n    super.onCreate();\n    HandlerThread thread = new HandlerThread(\"IntentService[\" + mName + \"]\");\n    thread.start();\n\n    mServiceLooper = thread.getLooper();\n    mServiceHandler = new ServiceHandler(mServiceLooper);\n}\n```\n\n> IntentService的排队处理  \n> 我们可以看每次启动Service都会发送一个消息，`mServiceHandler.sendMessage(msg);`，熟悉消息机制的我们知道，多余消息会处于等待状态。\n\n```\n//重点这个方法上\n@Override\npublic void onStart(@Nullable Intent intent, int startId) {\n    Message msg = mServiceHandler.obtainMessage();\n    msg.arg1 = startId;\n    msg.obj = intent;\n    mServiceHandler.sendMessage(msg);\n}\n\n/**\n * You should not override this method for your IntentService. Instead,\n * override {@link #onHandleIntent}, which the system calls when the IntentService\n * receives a start request.\n * @see android.app.Service#onStartCommand\n */\n@Override\npublic int onStartCommand(@Nullable Intent intent, int flags, int startId) {\n    onStart(intent, startId);\n    return mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;\n}\n```\n\n## 需要注意的地方\n* android5.0以上不允许使用隐式意图的方式启动Service \n\n* Service是在UI线程中的，所以Service也是不能执行耗时操作的，那么为什么不使用直接在Activity创建线程处理呢？因为如果在Activity退出的情况下，线程执行还未结束，此时所在的进程就变成空进程，系统可能需要内存会优先终止该进程，宿主进程被的终止的话，所在的子线程也会被中止。  ","slug":"Android-Service总结","published":1,"updated":"2017-04-18T13:36:13.794Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aia0002a0us099pvhwq","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://mouxuejie.com/blog/2016-04-16/service-intentservice-analysis/\" target=\"_blank\" rel=\"external\">Service知识总结——某学姐</a></p>\n<h1 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"Service\"></a>Service</h1><h2 id=\"service生命周期\"><a href=\"#service生命周期\" class=\"headerlink\" title=\"service生命周期\"></a>service生命周期</h2><p>service有两个生命周期，为什么会有两个生命周期呢，这是根据service的启动方式来进行区分的。</p>\n<ul>\n<li><code>Context.startService()</code><br>  通过该方法启动service，访问者与service之间没有关联，即使访问者退出了，service也仍然运行。以下是打印结果</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">com.app.demoservice I/MyService: onCreate: 开始创建Service</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div></pre></td></tr></table></figure>\n<ul>\n<li><code>Context.bindService(Intent service,ServiceConnection conn,int flags)</code><br>  使用该方法启动的service,访问者与service绑定在一起，访问者退出，service也就终止了。<br><img src=\"/2017/04/16/Android-Service总结/1.jpg\" alt=\"Android Service的两种生命周期\">  </li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"service的主要回调方法\"><a href=\"#service的主要回调方法\" class=\"headerlink\" title=\"service的主要回调方法\"></a>service的主要回调方法</h2><ul>\n<li><p><code>IBinder onBind(Intent intent)</code><br>该方法是Service子类必须实现的方法，该方法返回一个IBinder对象，应用程序可通过该对象与Service组件通信。</p>\n</li>\n<li><p><code>void onCreate()</code><br>在该Service第一次被创建后会立即回调该方法  </p>\n</li>\n<li><p><code>void onDestroy</code><br>在该Service被关闭之前会回调该方法  </p>\n</li>\n<li><p><code>void onStartCommand(Intent intent,  int flags, int startId)</code><br>该方法的早期版本是<code>onStart(Intent intent,int startId)</code>,每次客户端调用<code>startService(Intent)</code>方法启动Service，都会回调该方法<br>多次调用startService()，会多次调用onStartCommand()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">com.app.demoservice I/MyService: onCreate: 开始创建Service</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div></pre></td></tr></table></figure>\n</li>\n<li><p><code>void onUnBind(Intent intent)</code><br>当Service与之绑定的客户端都断开连接时，会回调这个方法</p>\n</li>\n</ul>\n<h2 id=\"绑定本地Service并与之通信\"><a href=\"#绑定本地Service并与之通信\" class=\"headerlink\" title=\"绑定本地Service并与之通信\"></a>绑定本地Service并与之通信</h2><p>使用startService()启动的service，基本不会与访问者有太多的数据交互,所以访问者与service的数据交互最好是，用bindService()去启动这个service。</p>\n<ul>\n<li><p><code>Context.bindService(Intent service,ServiceConnection conn,int flags)</code>  </p>\n<ul>\n<li><p><code>Intent service</code><br>启动的意图  </p>\n</li>\n<li><p><code>ServiceConnection conn</code><br>ServiceConnection一个接口，该对象用于监听访问者与Service之间的状态，当访问者与Service建立连接时，会回调<code>onServiceConnected(ComponentName name, IBinder service)</code>，当Service发生异常或者其他原因中止时，会回调<code>onServiceDisconnected(ComponentName name)</code>，但是访问者主动调用unBindService()方法时并回调onServiceDisconnected();</p>\n</li>\n<li><p><code>int flag</code><br>  此参考代表是否自动创建Service</p>\n<ul>\n<li><code>0</code><br>指定为0时，不自动创建 </li>\n<li><code>Context.BIND_AUTO_CREATE</code><br>指定为这个常量时，表示自动创建Service<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>MyService.java</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyService extends Service &#123;</div><div class=\"line\">    private static final String TAG = MyService.class.getSimpleName();</div><div class=\"line\">    private MyBinder myBinder=new MyBinder();</div><div class=\"line\">    //模拟数据</div><div class=\"line\">    private int serviceData =0;</div><div class=\"line\">    //是否停止对数据处理</div><div class=\"line\">    private boolean isStop=false;</div><div class=\"line\">    public MyService() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public IBinder onBind(Intent intent) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onBind: 开始绑定IBinder&quot;);</div><div class=\"line\">        return myBinder;</div><div class=\"line\">    &#125;</div><div class=\"line\">    class MyBinder extends Binder &#123;</div><div class=\"line\">        public int  getDataState()&#123;</div><div class=\"line\">            return serviceData;</div><div class=\"line\">        &#125;</div><div class=\"line\">        public void stop(boolean stop)&#123;</div><div class=\"line\">            isStop=stop;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onCreate() &#123;</div><div class=\"line\">        super.onCreate();</div><div class=\"line\">        Log.i(TAG, &quot;onCreate: 开始创建Service&quot;);</div><div class=\"line\"></div><div class=\"line\">        new Thread(new Runnable() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void run() &#123;</div><div class=\"line\">                while (!isStop)&#123;</div><div class=\"line\">                    try &#123;</div><div class=\"line\">                        Thread.sleep(1000);</div><div class=\"line\">                    &#125; catch (InterruptedException e) &#123;</div><div class=\"line\">                        e.printStackTrace();</div><div class=\"line\">                    &#125;</div><div class=\"line\">                    if (serviceData&gt;30)&#123;</div><div class=\"line\"></div><div class=\"line\">                    &#125;</div><div class=\"line\">                    serviceData++;</div><div class=\"line\">                &#125;</div><div class=\"line\">                stopSelf();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;).start();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * onStart()方法是Service的早期方法，onStartCommand()是新的推荐方法</div><div class=\"line\">     * @param intent</div><div class=\"line\">     * @param flags</div><div class=\"line\">     * @param startId</div><div class=\"line\">     * @return</div><div class=\"line\">     */</div><div class=\"line\">    @Override</div><div class=\"line\">    public int onStartCommand(Intent intent,  int flags, int startId) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onStartCommand: 每次调用startService()或者 bindService()方法时，都会回调这个方法&quot;);</div><div class=\"line\">            return super.onStartCommand(intent, flags, startId);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onDestroy() &#123;</div><div class=\"line\">        super.onDestroy();</div><div class=\"line\">        Log.i(TAG, &quot;onDestroy: Service开始销毁之前会回调这个方法&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public boolean onUnbind(Intent intent) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onUnbind: 当Service与之绑定的客户端都断开连接时，会回调这个方法&quot;);</div><div class=\"line\">        return super.onUnbind(intent);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>MainActivity.java</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">//绑定并启动service</div><div class=\"line\">findViewById(bindService).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onClick(View v) &#123;</div><div class=\"line\">        startService(i);</div><div class=\"line\">        bindService(i,MainActivity.this, BIND_AUTO_CREATE);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\">findViewById(R.id.getServiceData).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onClick(View v) &#123;</div><div class=\"line\">        int dataState = myBinder.getDataState();</div><div class=\"line\">        Toast.makeText(MainActivity.this,&quot;Service中数据为--&gt;&quot;+dataState, Toast.LENGTH_SHORT).show();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"IntentService\"><a href=\"#IntentService\" class=\"headerlink\" title=\"IntentService\"></a>IntentService</h2><p>IntentService是继承于Service的，跟Service一样也可以执行耗时任务，IntentService封装了线程和消息循环，IntentService中使用HandlerThread来处理，HandlerThread继承了Thread,内部实现使用了Looper和MessageQueue，用法也很简单。 </p>\n<ul>\n<li>HandlerThread</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">HandlerThread myHandlerThread=new HandlerThread(&quot;myHandlerThread&quot;);</div><div class=\"line\">myHandlerThread.start();</div><div class=\"line\">//由于获取了HandlerThread中的Loooper，也就是handleMessage会HandlerThread的线程中执行。</div><div class=\"line\">Handler myHandler=new Handler(myHandlerThread.getLooper())&#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void handleMessage(Message msg) &#123;</div><div class=\"line\">        super.handleMessage(msg);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"IntentService的源码解析\"><a href=\"#IntentService的源码解析\" class=\"headerlink\" title=\"IntentService的源码解析\"></a>IntentService的源码解析</h3><p>IntentService封装了HandlerThread，做一个简单分析就可以。</p>\n<blockquote>\n<p>这是IntentService中的一个内部，主要负责异步处理，<code>onHandleIntent((Intent)msg.obj);</code>是IntentService是抽象方法，也就是提供给我们实现异步处理的方法，onHandleIntent执行完成后会自动停止Service。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">private final class ServiceHandler extends Handler &#123;</div><div class=\"line\">        public ServiceHandler(Looper looper) &#123;</div><div class=\"line\">            super(looper);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public void handleMessage(Message msg) &#123;</div><div class=\"line\">            onHandleIntent((Intent)msg.obj);</div><div class=\"line\">            stopSelf(msg.arg1);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>以下代码可以注意HandlerThread的实例化并start，这是service第一次创建时会立即启动一个线程。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onCreate() &#123;</div><div class=\"line\">    // TODO: It would be nice to have an option to hold a partial wakelock</div><div class=\"line\">    // during processing, and to have a static startService(Context, Intent)</div><div class=\"line\">    // method that would launch the service &amp; hand off a wakelock.</div><div class=\"line\"></div><div class=\"line\">    super.onCreate();</div><div class=\"line\">    HandlerThread thread = new HandlerThread(&quot;IntentService[&quot; + mName + &quot;]&quot;);</div><div class=\"line\">    thread.start();</div><div class=\"line\"></div><div class=\"line\">    mServiceLooper = thread.getLooper();</div><div class=\"line\">    mServiceHandler = new ServiceHandler(mServiceLooper);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>IntentService的排队处理<br>我们可以看每次启动Service都会发送一个消息，<code>mServiceHandler.sendMessage(msg);</code>，熟悉消息机制的我们知道，多余消息会处于等待状态。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">//重点这个方法上</div><div class=\"line\">@Override</div><div class=\"line\">public void onStart(@Nullable Intent intent, int startId) &#123;</div><div class=\"line\">    Message msg = mServiceHandler.obtainMessage();</div><div class=\"line\">    msg.arg1 = startId;</div><div class=\"line\">    msg.obj = intent;</div><div class=\"line\">    mServiceHandler.sendMessage(msg);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * You should not override this method for your IntentService. Instead,</div><div class=\"line\"> * override &#123;@link #onHandleIntent&#125;, which the system calls when the IntentService</div><div class=\"line\"> * receives a start request.</div><div class=\"line\"> * @see android.app.Service#onStartCommand</div><div class=\"line\"> */</div><div class=\"line\">@Override</div><div class=\"line\">public int onStartCommand(@Nullable Intent intent, int flags, int startId) &#123;</div><div class=\"line\">    onStart(intent, startId);</div><div class=\"line\">    return mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"需要注意的地方\"><a href=\"#需要注意的地方\" class=\"headerlink\" title=\"需要注意的地方\"></a>需要注意的地方</h2><ul>\n<li><p>android5.0以上不允许使用隐式意图的方式启动Service </p>\n</li>\n<li><p>Service是在UI线程中的，所以Service也是不能执行耗时操作的，那么为什么不使用直接在Activity创建线程处理呢？因为如果在Activity退出的情况下，线程执行还未结束，此时所在的进程就变成空进程，系统可能需要内存会优先终止该进程，宿主进程被的终止的话，所在的子线程也会被中止。  </p>\n</li>\n</ul>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://mouxuejie.com/blog/2016-04-16/service-intentservice-analysis/\">Service知识总结——某学姐</a></p>\n<h1 id=\"Service\"><a href=\"#Service\" class=\"headerlink\" title=\"Service\"></a>Service</h1><h2 id=\"service生命周期\"><a href=\"#service生命周期\" class=\"headerlink\" title=\"service生命周期\"></a>service生命周期</h2><p>service有两个生命周期，为什么会有两个生命周期呢，这是根据service的启动方式来进行区分的。</p>\n<ul>\n<li><code>Context.startService()</code><br>  通过该方法启动service，访问者与service之间没有关联，即使访问者退出了，service也仍然运行。以下是打印结果</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">com.app.demoservice I/MyService: onCreate: 开始创建Service</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div></pre></td></tr></table></figure>\n<ul>\n<li><code>Context.bindService(Intent service,ServiceConnection conn,int flags)</code><br>  使用该方法启动的service,访问者与service绑定在一起，访问者退出，service也就终止了。<br><img src=\"/2017/04/16/Android-Service总结/1.jpg\" alt=\"Android Service的两种生命周期\">  </li>\n</ul>","more":"<h2 id=\"service的主要回调方法\"><a href=\"#service的主要回调方法\" class=\"headerlink\" title=\"service的主要回调方法\"></a>service的主要回调方法</h2><ul>\n<li><p><code>IBinder onBind(Intent intent)</code><br>该方法是Service子类必须实现的方法，该方法返回一个IBinder对象，应用程序可通过该对象与Service组件通信。</p>\n</li>\n<li><p><code>void onCreate()</code><br>在该Service第一次被创建后会立即回调该方法  </p>\n</li>\n<li><p><code>void onDestroy</code><br>在该Service被关闭之前会回调该方法  </p>\n</li>\n<li><p><code>void onStartCommand(Intent intent,  int flags, int startId)</code><br>该方法的早期版本是<code>onStart(Intent intent,int startId)</code>,每次客户端调用<code>startService(Intent)</code>方法启动Service，都会回调该方法<br>多次调用startService()，会多次调用onStartCommand()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">com.app.demoservice I/MyService: onCreate: 开始创建Service</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div><div class=\"line\">com.app.demoservice I/MyService: onStartCommand: 每次调用startService()方法时，都会回调这个方法</div></pre></td></tr></table></figure>\n</li>\n<li><p><code>void onUnBind(Intent intent)</code><br>当Service与之绑定的客户端都断开连接时，会回调这个方法</p>\n</li>\n</ul>\n<h2 id=\"绑定本地Service并与之通信\"><a href=\"#绑定本地Service并与之通信\" class=\"headerlink\" title=\"绑定本地Service并与之通信\"></a>绑定本地Service并与之通信</h2><p>使用startService()启动的service，基本不会与访问者有太多的数据交互,所以访问者与service的数据交互最好是，用bindService()去启动这个service。</p>\n<ul>\n<li><p><code>Context.bindService(Intent service,ServiceConnection conn,int flags)</code>  </p>\n<ul>\n<li><p><code>Intent service</code><br>启动的意图  </p>\n</li>\n<li><p><code>ServiceConnection conn</code><br>ServiceConnection一个接口，该对象用于监听访问者与Service之间的状态，当访问者与Service建立连接时，会回调<code>onServiceConnected(ComponentName name, IBinder service)</code>，当Service发生异常或者其他原因中止时，会回调<code>onServiceDisconnected(ComponentName name)</code>，但是访问者主动调用unBindService()方法时并回调onServiceDisconnected();</p>\n</li>\n<li><p><code>int flag</code><br>  此参考代表是否自动创建Service</p>\n<ul>\n<li><code>0</code><br>指定为0时，不自动创建 </li>\n<li><code>Context.BIND_AUTO_CREATE</code><br>指定为这个常量时，表示自动创建Service<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>MyService.java</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class MyService extends Service &#123;</div><div class=\"line\">    private static final String TAG = MyService.class.getSimpleName();</div><div class=\"line\">    private MyBinder myBinder=new MyBinder();</div><div class=\"line\">    //模拟数据</div><div class=\"line\">    private int serviceData =0;</div><div class=\"line\">    //是否停止对数据处理</div><div class=\"line\">    private boolean isStop=false;</div><div class=\"line\">    public MyService() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public IBinder onBind(Intent intent) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onBind: 开始绑定IBinder&quot;);</div><div class=\"line\">        return myBinder;</div><div class=\"line\">    &#125;</div><div class=\"line\">    class MyBinder extends Binder &#123;</div><div class=\"line\">        public int  getDataState()&#123;</div><div class=\"line\">            return serviceData;</div><div class=\"line\">        &#125;</div><div class=\"line\">        public void stop(boolean stop)&#123;</div><div class=\"line\">            isStop=stop;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onCreate() &#123;</div><div class=\"line\">        super.onCreate();</div><div class=\"line\">        Log.i(TAG, &quot;onCreate: 开始创建Service&quot;);</div><div class=\"line\"></div><div class=\"line\">        new Thread(new Runnable() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void run() &#123;</div><div class=\"line\">                while (!isStop)&#123;</div><div class=\"line\">                    try &#123;</div><div class=\"line\">                        Thread.sleep(1000);</div><div class=\"line\">                    &#125; catch (InterruptedException e) &#123;</div><div class=\"line\">                        e.printStackTrace();</div><div class=\"line\">                    &#125;</div><div class=\"line\">                    if (serviceData&gt;30)&#123;</div><div class=\"line\"></div><div class=\"line\">                    &#125;</div><div class=\"line\">                    serviceData++;</div><div class=\"line\">                &#125;</div><div class=\"line\">                stopSelf();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;).start();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * onStart()方法是Service的早期方法，onStartCommand()是新的推荐方法</div><div class=\"line\">     * @param intent</div><div class=\"line\">     * @param flags</div><div class=\"line\">     * @param startId</div><div class=\"line\">     * @return</div><div class=\"line\">     */</div><div class=\"line\">    @Override</div><div class=\"line\">    public int onStartCommand(Intent intent,  int flags, int startId) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onStartCommand: 每次调用startService()或者 bindService()方法时，都会回调这个方法&quot;);</div><div class=\"line\">            return super.onStartCommand(intent, flags, startId);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void onDestroy() &#123;</div><div class=\"line\">        super.onDestroy();</div><div class=\"line\">        Log.i(TAG, &quot;onDestroy: Service开始销毁之前会回调这个方法&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public boolean onUnbind(Intent intent) &#123;</div><div class=\"line\">        Log.i(TAG, &quot;onUnbind: 当Service与之绑定的客户端都断开连接时，会回调这个方法&quot;);</div><div class=\"line\">        return super.onUnbind(intent);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n</li>\n<li><p>MainActivity.java</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">//绑定并启动service</div><div class=\"line\">findViewById(bindService).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onClick(View v) &#123;</div><div class=\"line\">        startService(i);</div><div class=\"line\">        bindService(i,MainActivity.this, BIND_AUTO_CREATE);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\">findViewById(R.id.getServiceData).setOnClickListener(new View.OnClickListener() &#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void onClick(View v) &#123;</div><div class=\"line\">        int dataState = myBinder.getDataState();</div><div class=\"line\">        Toast.makeText(MainActivity.this,&quot;Service中数据为--&gt;&quot;+dataState, Toast.LENGTH_SHORT).show();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"IntentService\"><a href=\"#IntentService\" class=\"headerlink\" title=\"IntentService\"></a>IntentService</h2><p>IntentService是继承于Service的，跟Service一样也可以执行耗时任务，IntentService封装了线程和消息循环，IntentService中使用HandlerThread来处理，HandlerThread继承了Thread,内部实现使用了Looper和MessageQueue，用法也很简单。 </p>\n<ul>\n<li>HandlerThread</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">HandlerThread myHandlerThread=new HandlerThread(&quot;myHandlerThread&quot;);</div><div class=\"line\">myHandlerThread.start();</div><div class=\"line\">//由于获取了HandlerThread中的Loooper，也就是handleMessage会HandlerThread的线程中执行。</div><div class=\"line\">Handler myHandler=new Handler(myHandlerThread.getLooper())&#123;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void handleMessage(Message msg) &#123;</div><div class=\"line\">        super.handleMessage(msg);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"IntentService的源码解析\"><a href=\"#IntentService的源码解析\" class=\"headerlink\" title=\"IntentService的源码解析\"></a>IntentService的源码解析</h3><p>IntentService封装了HandlerThread，做一个简单分析就可以。</p>\n<blockquote>\n<p>这是IntentService中的一个内部，主要负责异步处理，<code>onHandleIntent((Intent)msg.obj);</code>是IntentService是抽象方法，也就是提供给我们实现异步处理的方法，onHandleIntent执行完成后会自动停止Service。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">private final class ServiceHandler extends Handler &#123;</div><div class=\"line\">        public ServiceHandler(Looper looper) &#123;</div><div class=\"line\">            super(looper);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public void handleMessage(Message msg) &#123;</div><div class=\"line\">            onHandleIntent((Intent)msg.obj);</div><div class=\"line\">            stopSelf(msg.arg1);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>以下代码可以注意HandlerThread的实例化并start，这是service第一次创建时会立即启动一个线程。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onCreate() &#123;</div><div class=\"line\">    // TODO: It would be nice to have an option to hold a partial wakelock</div><div class=\"line\">    // during processing, and to have a static startService(Context, Intent)</div><div class=\"line\">    // method that would launch the service &amp; hand off a wakelock.</div><div class=\"line\"></div><div class=\"line\">    super.onCreate();</div><div class=\"line\">    HandlerThread thread = new HandlerThread(&quot;IntentService[&quot; + mName + &quot;]&quot;);</div><div class=\"line\">    thread.start();</div><div class=\"line\"></div><div class=\"line\">    mServiceLooper = thread.getLooper();</div><div class=\"line\">    mServiceHandler = new ServiceHandler(mServiceLooper);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>IntentService的排队处理<br>我们可以看每次启动Service都会发送一个消息，<code>mServiceHandler.sendMessage(msg);</code>，熟悉消息机制的我们知道，多余消息会处于等待状态。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">//重点这个方法上</div><div class=\"line\">@Override</div><div class=\"line\">public void onStart(@Nullable Intent intent, int startId) &#123;</div><div class=\"line\">    Message msg = mServiceHandler.obtainMessage();</div><div class=\"line\">    msg.arg1 = startId;</div><div class=\"line\">    msg.obj = intent;</div><div class=\"line\">    mServiceHandler.sendMessage(msg);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * You should not override this method for your IntentService. Instead,</div><div class=\"line\"> * override &#123;@link #onHandleIntent&#125;, which the system calls when the IntentService</div><div class=\"line\"> * receives a start request.</div><div class=\"line\"> * @see android.app.Service#onStartCommand</div><div class=\"line\"> */</div><div class=\"line\">@Override</div><div class=\"line\">public int onStartCommand(@Nullable Intent intent, int flags, int startId) &#123;</div><div class=\"line\">    onStart(intent, startId);</div><div class=\"line\">    return mRedelivery ? START_REDELIVER_INTENT : START_NOT_STICKY;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h2 id=\"需要注意的地方\"><a href=\"#需要注意的地方\" class=\"headerlink\" title=\"需要注意的地方\"></a>需要注意的地方</h2><ul>\n<li><p>android5.0以上不允许使用隐式意图的方式启动Service </p>\n</li>\n<li><p>Service是在UI线程中的，所以Service也是不能执行耗时操作的，那么为什么不使用直接在Activity创建线程处理呢？因为如果在Activity退出的情况下，线程执行还未结束，此时所在的进程就变成空进程，系统可能需要内存会优先终止该进程，宿主进程被的终止的话，所在的子线程也会被中止。  </p>\n</li>\n</ul>"},{"title":"GreenDao的使用以及一些细节的总结","date":"2017-02-19T19:49:11.000Z","_content":"# GreenDao\n## 一、简介\nGreenDao是一个对象映射数据解决方案的快速开发框架，很多sql语句直接变换简单的代码。\n## 一、greenDao的配置\n### project/build.gradle\n```\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'org.greenrobot:greendao-gradle-plugin:3.2.1'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n```\n### app/build.gradle\n```\napply plugin: 'org.greenrobot.greendao'\nandroid {\n………………\n}\ndependencies {\n\n………………\n    //数据库操作\n    compile 'org.greenrobot:greendao-generator:3.2.0'\n    compile 'org.greenrobot:greendao:3.2.0'\n}\n```\n<!--more-->\n\n##二、使用\n### 配置注解映射实体类\ngreendao是插件化开发的，所以配置完注解，直接整个工程rebuild一下，就会自动生成Dao部分代码\n```\n@Entity(nameInDb = \"t_book\")\npublic class Book {\n    @Id(autoincrement = true)\n    @Property(nameInDb = \"id\")\n    private Long id;\n    @Property(nameInDb = \"f_book\")\n    private String book;\n    @ToMany(referencedJoinProperty = \"bookId\")\n    private List<Unit> units;\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getBook() {\n        return book;\n    }\n\n    public void setBook(String book) {\n        this.book = book;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public List<Unit> getUnits() {\n    return units;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public void setUnits(List<Unit> units) {\n        this.units = null;\n    }\n}\n```\n\n```\n@Id(autoincrement = true)\n    @Property(nameInDb = \"id\")\n    private long id;\n    @Property(nameInDb = \"f_book_id\")\n    private long bookId;//书籍id\n    @ToOne(joinProperty = \"bookId\")//请注意：joinProperty这是变量名，不是数据库字段\n    private Book book;\n    @Property(nameInDb = \"f_unit\")\n    private String unit;//单元\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public long getBookId() {\n        return bookId;\n    }\n\n    public void setBookId(long bookId) {\n        this.bookId = bookId;\n    }\n    @Generated(hash = 8805314)//一定要标识这个@Generated，不要标识@Keep\n    public Book getBook() {\n\t    return book;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public void setBook( Book book) {\n\t    this.book=book;\n    }\n```\n@Entity：标识这是一个数据库映射类\n@Id(autoincrement = true)：标识主键，autoincrement = true设置主键自增\n@Property(nameInDb = \"id\")：标识为数据库字段，nameInDb = \"id\"表示对应数据库的字段名。如果不使用nameInDb，将默认采用变量名作为数据库的字段名。\n@ToMany(referencedJoinProperty = \"bookId\")：表示一对多的关系，referencedJoinProperty = \"bookId\"，表示引用关联实体的属性“bookId”，此属性名对应引用实体类的变量名。\n@ToOne(joinProperty = \"bookId\")：表示一对一，或者多对一的关系，joinProperty = \"bookId\"，表示分享属性“bookId”，此属性名对应本类的变量名。\n### 获取DaoSession对数据进行操作\n\n```\nDaoMaster.DevOpenHelper mHelper =new DaoMaster.DevOpenHelper(App.getInstance(), DB_NAME, null);//DB_NAME，可以设置为已经存在的外部数据库，如果没有，会自动创建\nSQLiteDatabase db = mHelper.getWritableDatabase();\nDaoSession mDaoSession = mDaoMaster.newSession();//同步操作时，需要使用DaoSession\nAsyncSession mAsyncSession= mDaoSession.startAsyncSession();//异步处理时，需要使用AsyncSession \n```\n查询数据\n\n```\n//直接查询全部\nUnitDao unitDao = GreenDaoHelper.getDaoSession().getUnitDao();\n        unitDao.loadAll();\n//根据条件查询\nUnitDao unitDao = mDaoSession .getUnitDao();\n        WhereCondition eq = unitDao.Properties.Id.eq(1);\n        WhereCondition eq5 = unitDao.Properties.BookId.eq(1);\n        List<Unit> list = unitDao.queryBuilder().where(eq1, eq2, eq3, eq4).build().list();\n```\n\n```\n//异步数据查询\nStudyWordScoreDao studyWordScoreDao = GreenDaoHelper.getDaoSession().getStudyWordScoreDao();\n        WhereCondition eq1 = StudyWordScoreDao.Properties.BookId.eq(bookId);\n        WhereCondition eq2 = StudyWordScoreDao.Properties.UnitId.eq(unitId);\n        WhereCondition eq3 = StudyWordScoreDao.Properties.UnitId.eq(userId);\n        WhereCondition eq4 = StudyWordScoreDao.Properties.UnitId.eq(recordId);\n        Query<StudyWordScore> build = studyWordScoreDao.queryBuilder().where(eq1, eq2, eq3, eq4).build();\n//        WhereCondition and = wordDao.queryBuilder().and(eq, eq1);\n        asyncSession.queryList(build);\n        asyncSession.setListenerMainThread(asyncOperationListener);\n```\n\n## \n##细节问题\n### 凡是涉及ID的一定要使用Long类型的包装类\n 凡是涉及ID的一定要使用Long类型的包装类，不然，autoincrement = true会失效，我之前就是这样，插入的数据会直接赋为“0”\n```\n//根据官网的方法，说主键赋值为空，主键就会自增，但是编译器不通过，报错，因为初始为0，不是null，所以我就直接不设置主键值，果然就可以了\nnew Book(null,\"必修一\");\n```\n### 关联实体的类的get/set方法一定要使用@Generate\n\n```\n//只有使用了Generated，greenDao的插件才会将getset修改成以下代码，如果使用@keep那就保留getset代码，也就没有关联效果了\n@Generated(hash = 835179934)\n    public List<Unit> getUnits() {\n        if (units == null) {\n            final DaoSession daoSession = this.daoSession;\n            if (daoSession == null) {\n                throw new DaoException(\"Entity is detached from DAO context\");\n            }\n            UnitDao targetDao = daoSession.getUnitDao();\n            List<Unit> unitsNew = targetDao._queryBook_Units(id);\n            synchronized (this) {\n                if (units == null) {\n                    units = unitsNew;\n                }\n            }\n        }\n        return units;\n    }\n\n    /** Resets a to-many relationship, making the next get call to query for a fresh result. */\n    @Generated(hash = 121816020)\n    public synchronized void resetUnits() {\n        units = null;\n    }\n```\n\n暂时只总结部分，后续会继续更新此文章\n","source":"_posts/GreenDao的使用以及一些细节的总结.md","raw":"---\ntitle: GreenDao的使用以及一些细节的总结\ndate: 2017-02-20 03:49:11\ntags:\n\t- GreenDao\n\t- sqlite\n\t- 框架\n\t- android\ncategories:\n\t- android\n\t- 框架\n---\n# GreenDao\n## 一、简介\nGreenDao是一个对象映射数据解决方案的快速开发框架，很多sql语句直接变换简单的代码。\n## 一、greenDao的配置\n### project/build.gradle\n```\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'org.greenrobot:greendao-gradle-plugin:3.2.1'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n```\n### app/build.gradle\n```\napply plugin: 'org.greenrobot.greendao'\nandroid {\n………………\n}\ndependencies {\n\n………………\n    //数据库操作\n    compile 'org.greenrobot:greendao-generator:3.2.0'\n    compile 'org.greenrobot:greendao:3.2.0'\n}\n```\n<!--more-->\n\n##二、使用\n### 配置注解映射实体类\ngreendao是插件化开发的，所以配置完注解，直接整个工程rebuild一下，就会自动生成Dao部分代码\n```\n@Entity(nameInDb = \"t_book\")\npublic class Book {\n    @Id(autoincrement = true)\n    @Property(nameInDb = \"id\")\n    private Long id;\n    @Property(nameInDb = \"f_book\")\n    private String book;\n    @ToMany(referencedJoinProperty = \"bookId\")\n    private List<Unit> units;\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getBook() {\n        return book;\n    }\n\n    public void setBook(String book) {\n        this.book = book;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public List<Unit> getUnits() {\n    return units;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public void setUnits(List<Unit> units) {\n        this.units = null;\n    }\n}\n```\n\n```\n@Id(autoincrement = true)\n    @Property(nameInDb = \"id\")\n    private long id;\n    @Property(nameInDb = \"f_book_id\")\n    private long bookId;//书籍id\n    @ToOne(joinProperty = \"bookId\")//请注意：joinProperty这是变量名，不是数据库字段\n    private Book book;\n    @Property(nameInDb = \"f_unit\")\n    private String unit;//单元\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public long getBookId() {\n        return bookId;\n    }\n\n    public void setBookId(long bookId) {\n        this.bookId = bookId;\n    }\n    @Generated(hash = 8805314)//一定要标识这个@Generated，不要标识@Keep\n    public Book getBook() {\n\t    return book;\n    }\n    @Generated//一定要标识这个@Generated，不要标识@Keep\n    public void setBook( Book book) {\n\t    this.book=book;\n    }\n```\n@Entity：标识这是一个数据库映射类\n@Id(autoincrement = true)：标识主键，autoincrement = true设置主键自增\n@Property(nameInDb = \"id\")：标识为数据库字段，nameInDb = \"id\"表示对应数据库的字段名。如果不使用nameInDb，将默认采用变量名作为数据库的字段名。\n@ToMany(referencedJoinProperty = \"bookId\")：表示一对多的关系，referencedJoinProperty = \"bookId\"，表示引用关联实体的属性“bookId”，此属性名对应引用实体类的变量名。\n@ToOne(joinProperty = \"bookId\")：表示一对一，或者多对一的关系，joinProperty = \"bookId\"，表示分享属性“bookId”，此属性名对应本类的变量名。\n### 获取DaoSession对数据进行操作\n\n```\nDaoMaster.DevOpenHelper mHelper =new DaoMaster.DevOpenHelper(App.getInstance(), DB_NAME, null);//DB_NAME，可以设置为已经存在的外部数据库，如果没有，会自动创建\nSQLiteDatabase db = mHelper.getWritableDatabase();\nDaoSession mDaoSession = mDaoMaster.newSession();//同步操作时，需要使用DaoSession\nAsyncSession mAsyncSession= mDaoSession.startAsyncSession();//异步处理时，需要使用AsyncSession \n```\n查询数据\n\n```\n//直接查询全部\nUnitDao unitDao = GreenDaoHelper.getDaoSession().getUnitDao();\n        unitDao.loadAll();\n//根据条件查询\nUnitDao unitDao = mDaoSession .getUnitDao();\n        WhereCondition eq = unitDao.Properties.Id.eq(1);\n        WhereCondition eq5 = unitDao.Properties.BookId.eq(1);\n        List<Unit> list = unitDao.queryBuilder().where(eq1, eq2, eq3, eq4).build().list();\n```\n\n```\n//异步数据查询\nStudyWordScoreDao studyWordScoreDao = GreenDaoHelper.getDaoSession().getStudyWordScoreDao();\n        WhereCondition eq1 = StudyWordScoreDao.Properties.BookId.eq(bookId);\n        WhereCondition eq2 = StudyWordScoreDao.Properties.UnitId.eq(unitId);\n        WhereCondition eq3 = StudyWordScoreDao.Properties.UnitId.eq(userId);\n        WhereCondition eq4 = StudyWordScoreDao.Properties.UnitId.eq(recordId);\n        Query<StudyWordScore> build = studyWordScoreDao.queryBuilder().where(eq1, eq2, eq3, eq4).build();\n//        WhereCondition and = wordDao.queryBuilder().and(eq, eq1);\n        asyncSession.queryList(build);\n        asyncSession.setListenerMainThread(asyncOperationListener);\n```\n\n## \n##细节问题\n### 凡是涉及ID的一定要使用Long类型的包装类\n 凡是涉及ID的一定要使用Long类型的包装类，不然，autoincrement = true会失效，我之前就是这样，插入的数据会直接赋为“0”\n```\n//根据官网的方法，说主键赋值为空，主键就会自增，但是编译器不通过，报错，因为初始为0，不是null，所以我就直接不设置主键值，果然就可以了\nnew Book(null,\"必修一\");\n```\n### 关联实体的类的get/set方法一定要使用@Generate\n\n```\n//只有使用了Generated，greenDao的插件才会将getset修改成以下代码，如果使用@keep那就保留getset代码，也就没有关联效果了\n@Generated(hash = 835179934)\n    public List<Unit> getUnits() {\n        if (units == null) {\n            final DaoSession daoSession = this.daoSession;\n            if (daoSession == null) {\n                throw new DaoException(\"Entity is detached from DAO context\");\n            }\n            UnitDao targetDao = daoSession.getUnitDao();\n            List<Unit> unitsNew = targetDao._queryBook_Units(id);\n            synchronized (this) {\n                if (units == null) {\n                    units = unitsNew;\n                }\n            }\n        }\n        return units;\n    }\n\n    /** Resets a to-many relationship, making the next get call to query for a fresh result. */\n    @Generated(hash = 121816020)\n    public synchronized void resetUnits() {\n        units = null;\n    }\n```\n\n暂时只总结部分，后续会继续更新此文章\n","slug":"GreenDao的使用以及一些细节的总结","published":1,"updated":"2017-02-19T20:16:29.629Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aip0006a0us40letk0j","content":"<h1 id=\"GreenDao\"><a href=\"#GreenDao\" class=\"headerlink\" title=\"GreenDao\"></a>GreenDao</h1><h2 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h2><p>GreenDao是一个对象映射数据解决方案的快速开发框架，很多sql语句直接变换简单的代码。</p>\n<h2 id=\"一、greenDao的配置\"><a href=\"#一、greenDao的配置\" class=\"headerlink\" title=\"一、greenDao的配置\"></a>一、greenDao的配置</h2><h3 id=\"project-build-gradle\"><a href=\"#project-build-gradle\" class=\"headerlink\" title=\"project/build.gradle\"></a>project/build.gradle</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">buildscript &#123;</div><div class=\"line\">    repositories &#123;</div><div class=\"line\">        jcenter()</div><div class=\"line\">    &#125;</div><div class=\"line\">    dependencies &#123;</div><div class=\"line\">        classpath &apos;org.greenrobot:greendao-gradle-plugin:3.2.1&apos;</div><div class=\"line\">        // NOTE: Do not place your application dependencies here; they belong</div><div class=\"line\">        // in the individual module build.gradle files</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"app-build-gradle\"><a href=\"#app-build-gradle\" class=\"headerlink\" title=\"app/build.gradle\"></a>app/build.gradle</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">apply plugin: &apos;org.greenrobot.greendao&apos;</div><div class=\"line\">android &#123;</div><div class=\"line\">………………</div><div class=\"line\">&#125;</div><div class=\"line\">dependencies &#123;</div><div class=\"line\"></div><div class=\"line\">………………</div><div class=\"line\">    //数据库操作</div><div class=\"line\">    compile &apos;org.greenrobot:greendao-generator:3.2.0&apos;</div><div class=\"line\">    compile &apos;org.greenrobot:greendao:3.2.0&apos;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>##二、使用</p>\n<h3 id=\"配置注解映射实体类\"><a href=\"#配置注解映射实体类\" class=\"headerlink\" title=\"配置注解映射实体类\"></a>配置注解映射实体类</h3><p>greendao是插件化开发的，所以配置完注解，直接整个工程rebuild一下，就会自动生成Dao部分代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Entity(nameInDb = &quot;t_book&quot;)</div><div class=\"line\">public class Book &#123;</div><div class=\"line\">    @Id(autoincrement = true)</div><div class=\"line\">    @Property(nameInDb = &quot;id&quot;)</div><div class=\"line\">    private Long id;</div><div class=\"line\">    @Property(nameInDb = &quot;f_book&quot;)</div><div class=\"line\">    private String book;</div><div class=\"line\">    @ToMany(referencedJoinProperty = &quot;bookId&quot;)</div><div class=\"line\">    private List&lt;Unit&gt; units;</div><div class=\"line\">    public Long getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setId(Long id) &#123;</div><div class=\"line\">        this.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getBook() &#123;</div><div class=\"line\">        return book;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBook(String book) &#123;</div><div class=\"line\">        this.book = book;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public List&lt;Unit&gt; getUnits() &#123;</div><div class=\"line\">    return units;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public void setUnits(List&lt;Unit&gt; units) &#123;</div><div class=\"line\">        this.units = null;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Id(autoincrement = true)</div><div class=\"line\">    @Property(nameInDb = &quot;id&quot;)</div><div class=\"line\">    private long id;</div><div class=\"line\">    @Property(nameInDb = &quot;f_book_id&quot;)</div><div class=\"line\">    private long bookId;//书籍id</div><div class=\"line\">    @ToOne(joinProperty = &quot;bookId&quot;)//请注意：joinProperty这是变量名，不是数据库字段</div><div class=\"line\">    private Book book;</div><div class=\"line\">    @Property(nameInDb = &quot;f_unit&quot;)</div><div class=\"line\">    private String unit;//单元</div><div class=\"line\">    public long getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setId(long id) &#123;</div><div class=\"line\">        this.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public long getBookId() &#123;</div><div class=\"line\">        return bookId;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBookId(long bookId) &#123;</div><div class=\"line\">        this.bookId = bookId;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated(hash = 8805314)//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public Book getBook() &#123;</div><div class=\"line\">\t    return book;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public void setBook( Book book) &#123;</div><div class=\"line\">\t    this.book=book;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>@Entity：标识这是一个数据库映射类<br>@Id(autoincrement = true)：标识主键，autoincrement = true设置主键自增<br>@Property(nameInDb = “id”)：标识为数据库字段，nameInDb = “id”表示对应数据库的字段名。如果不使用nameInDb，将默认采用变量名作为数据库的字段名。<br>@ToMany(referencedJoinProperty = “bookId”)：表示一对多的关系，referencedJoinProperty = “bookId”，表示引用关联实体的属性“bookId”，此属性名对应引用实体类的变量名。<br>@ToOne(joinProperty = “bookId”)：表示一对一，或者多对一的关系，joinProperty = “bookId”，表示分享属性“bookId”，此属性名对应本类的变量名。</p>\n<h3 id=\"获取DaoSession对数据进行操作\"><a href=\"#获取DaoSession对数据进行操作\" class=\"headerlink\" title=\"获取DaoSession对数据进行操作\"></a>获取DaoSession对数据进行操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">DaoMaster.DevOpenHelper mHelper =new DaoMaster.DevOpenHelper(App.getInstance(), DB_NAME, null);//DB_NAME，可以设置为已经存在的外部数据库，如果没有，会自动创建</div><div class=\"line\">SQLiteDatabase db = mHelper.getWritableDatabase();</div><div class=\"line\">DaoSession mDaoSession = mDaoMaster.newSession();//同步操作时，需要使用DaoSession</div><div class=\"line\">AsyncSession mAsyncSession= mDaoSession.startAsyncSession();//异步处理时，需要使用AsyncSession</div></pre></td></tr></table></figure>\n<p>查询数据</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">//直接查询全部</div><div class=\"line\">UnitDao unitDao = GreenDaoHelper.getDaoSession().getUnitDao();</div><div class=\"line\">        unitDao.loadAll();</div><div class=\"line\">//根据条件查询</div><div class=\"line\">UnitDao unitDao = mDaoSession .getUnitDao();</div><div class=\"line\">        WhereCondition eq = unitDao.Properties.Id.eq(1);</div><div class=\"line\">        WhereCondition eq5 = unitDao.Properties.BookId.eq(1);</div><div class=\"line\">        List&lt;Unit&gt; list = unitDao.queryBuilder().where(eq1, eq2, eq3, eq4).build().list();</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">//异步数据查询</div><div class=\"line\">StudyWordScoreDao studyWordScoreDao = GreenDaoHelper.getDaoSession().getStudyWordScoreDao();</div><div class=\"line\">        WhereCondition eq1 = StudyWordScoreDao.Properties.BookId.eq(bookId);</div><div class=\"line\">        WhereCondition eq2 = StudyWordScoreDao.Properties.UnitId.eq(unitId);</div><div class=\"line\">        WhereCondition eq3 = StudyWordScoreDao.Properties.UnitId.eq(userId);</div><div class=\"line\">        WhereCondition eq4 = StudyWordScoreDao.Properties.UnitId.eq(recordId);</div><div class=\"line\">        Query&lt;StudyWordScore&gt; build = studyWordScoreDao.queryBuilder().where(eq1, eq2, eq3, eq4).build();</div><div class=\"line\">//        WhereCondition and = wordDao.queryBuilder().and(eq, eq1);</div><div class=\"line\">        asyncSession.queryList(build);</div><div class=\"line\">        asyncSession.setListenerMainThread(asyncOperationListener);</div></pre></td></tr></table></figure>\n<p>## </p>\n<p>##细节问题</p>\n<h3 id=\"凡是涉及ID的一定要使用Long类型的包装类\"><a href=\"#凡是涉及ID的一定要使用Long类型的包装类\" class=\"headerlink\" title=\"凡是涉及ID的一定要使用Long类型的包装类\"></a>凡是涉及ID的一定要使用Long类型的包装类</h3><p> 凡是涉及ID的一定要使用Long类型的包装类，不然，autoincrement = true会失效，我之前就是这样，插入的数据会直接赋为“0”<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">//根据官网的方法，说主键赋值为空，主键就会自增，但是编译器不通过，报错，因为初始为0，不是null，所以我就直接不设置主键值，果然就可以了</div><div class=\"line\">new Book(null,&quot;必修一&quot;);</div></pre></td></tr></table></figure></p>\n<h3 id=\"关联实体的类的get-set方法一定要使用-Generate\"><a href=\"#关联实体的类的get-set方法一定要使用-Generate\" class=\"headerlink\" title=\"关联实体的类的get/set方法一定要使用@Generate\"></a>关联实体的类的get/set方法一定要使用@Generate</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">//只有使用了Generated，greenDao的插件才会将getset修改成以下代码，如果使用@keep那就保留getset代码，也就没有关联效果了</div><div class=\"line\">@Generated(hash = 835179934)</div><div class=\"line\">    public List&lt;Unit&gt; getUnits() &#123;</div><div class=\"line\">        if (units == null) &#123;</div><div class=\"line\">            final DaoSession daoSession = this.daoSession;</div><div class=\"line\">            if (daoSession == null) &#123;</div><div class=\"line\">                throw new DaoException(&quot;Entity is detached from DAO context&quot;);</div><div class=\"line\">            &#125;</div><div class=\"line\">            UnitDao targetDao = daoSession.getUnitDao();</div><div class=\"line\">            List&lt;Unit&gt; unitsNew = targetDao._queryBook_Units(id);</div><div class=\"line\">            synchronized (this) &#123;</div><div class=\"line\">                if (units == null) &#123;</div><div class=\"line\">                    units = unitsNew;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return units;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /** Resets a to-many relationship, making the next get call to query for a fresh result. */</div><div class=\"line\">    @Generated(hash = 121816020)</div><div class=\"line\">    public synchronized void resetUnits() &#123;</div><div class=\"line\">        units = null;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>暂时只总结部分，后续会继续更新此文章</p>\n","excerpt":"<h1 id=\"GreenDao\"><a href=\"#GreenDao\" class=\"headerlink\" title=\"GreenDao\"></a>GreenDao</h1><h2 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h2><p>GreenDao是一个对象映射数据解决方案的快速开发框架，很多sql语句直接变换简单的代码。</p>\n<h2 id=\"一、greenDao的配置\"><a href=\"#一、greenDao的配置\" class=\"headerlink\" title=\"一、greenDao的配置\"></a>一、greenDao的配置</h2><h3 id=\"project-build-gradle\"><a href=\"#project-build-gradle\" class=\"headerlink\" title=\"project/build.gradle\"></a>project/build.gradle</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">buildscript &#123;</div><div class=\"line\">    repositories &#123;</div><div class=\"line\">        jcenter()</div><div class=\"line\">    &#125;</div><div class=\"line\">    dependencies &#123;</div><div class=\"line\">        classpath &apos;org.greenrobot:greendao-gradle-plugin:3.2.1&apos;</div><div class=\"line\">        // NOTE: Do not place your application dependencies here; they belong</div><div class=\"line\">        // in the individual module build.gradle files</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"app-build-gradle\"><a href=\"#app-build-gradle\" class=\"headerlink\" title=\"app/build.gradle\"></a>app/build.gradle</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">apply plugin: &apos;org.greenrobot.greendao&apos;</div><div class=\"line\">android &#123;</div><div class=\"line\">………………</div><div class=\"line\">&#125;</div><div class=\"line\">dependencies &#123;</div><div class=\"line\"></div><div class=\"line\">………………</div><div class=\"line\">    //数据库操作</div><div class=\"line\">    compile &apos;org.greenrobot:greendao-generator:3.2.0&apos;</div><div class=\"line\">    compile &apos;org.greenrobot:greendao:3.2.0&apos;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","more":"<p>##二、使用</p>\n<h3 id=\"配置注解映射实体类\"><a href=\"#配置注解映射实体类\" class=\"headerlink\" title=\"配置注解映射实体类\"></a>配置注解映射实体类</h3><p>greendao是插件化开发的，所以配置完注解，直接整个工程rebuild一下，就会自动生成Dao部分代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Entity(nameInDb = &quot;t_book&quot;)</div><div class=\"line\">public class Book &#123;</div><div class=\"line\">    @Id(autoincrement = true)</div><div class=\"line\">    @Property(nameInDb = &quot;id&quot;)</div><div class=\"line\">    private Long id;</div><div class=\"line\">    @Property(nameInDb = &quot;f_book&quot;)</div><div class=\"line\">    private String book;</div><div class=\"line\">    @ToMany(referencedJoinProperty = &quot;bookId&quot;)</div><div class=\"line\">    private List&lt;Unit&gt; units;</div><div class=\"line\">    public Long getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setId(Long id) &#123;</div><div class=\"line\">        this.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public String getBook() &#123;</div><div class=\"line\">        return book;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBook(String book) &#123;</div><div class=\"line\">        this.book = book;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public List&lt;Unit&gt; getUnits() &#123;</div><div class=\"line\">    return units;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public void setUnits(List&lt;Unit&gt; units) &#123;</div><div class=\"line\">        this.units = null;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Id(autoincrement = true)</div><div class=\"line\">    @Property(nameInDb = &quot;id&quot;)</div><div class=\"line\">    private long id;</div><div class=\"line\">    @Property(nameInDb = &quot;f_book_id&quot;)</div><div class=\"line\">    private long bookId;//书籍id</div><div class=\"line\">    @ToOne(joinProperty = &quot;bookId&quot;)//请注意：joinProperty这是变量名，不是数据库字段</div><div class=\"line\">    private Book book;</div><div class=\"line\">    @Property(nameInDb = &quot;f_unit&quot;)</div><div class=\"line\">    private String unit;//单元</div><div class=\"line\">    public long getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setId(long id) &#123;</div><div class=\"line\">        this.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public long getBookId() &#123;</div><div class=\"line\">        return bookId;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public void setBookId(long bookId) &#123;</div><div class=\"line\">        this.bookId = bookId;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated(hash = 8805314)//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public Book getBook() &#123;</div><div class=\"line\">\t    return book;</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Generated//一定要标识这个@Generated，不要标识@Keep</div><div class=\"line\">    public void setBook( Book book) &#123;</div><div class=\"line\">\t    this.book=book;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>@Entity：标识这是一个数据库映射类<br>@Id(autoincrement = true)：标识主键，autoincrement = true设置主键自增<br>@Property(nameInDb = “id”)：标识为数据库字段，nameInDb = “id”表示对应数据库的字段名。如果不使用nameInDb，将默认采用变量名作为数据库的字段名。<br>@ToMany(referencedJoinProperty = “bookId”)：表示一对多的关系，referencedJoinProperty = “bookId”，表示引用关联实体的属性“bookId”，此属性名对应引用实体类的变量名。<br>@ToOne(joinProperty = “bookId”)：表示一对一，或者多对一的关系，joinProperty = “bookId”，表示分享属性“bookId”，此属性名对应本类的变量名。</p>\n<h3 id=\"获取DaoSession对数据进行操作\"><a href=\"#获取DaoSession对数据进行操作\" class=\"headerlink\" title=\"获取DaoSession对数据进行操作\"></a>获取DaoSession对数据进行操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">DaoMaster.DevOpenHelper mHelper =new DaoMaster.DevOpenHelper(App.getInstance(), DB_NAME, null);//DB_NAME，可以设置为已经存在的外部数据库，如果没有，会自动创建</div><div class=\"line\">SQLiteDatabase db = mHelper.getWritableDatabase();</div><div class=\"line\">DaoSession mDaoSession = mDaoMaster.newSession();//同步操作时，需要使用DaoSession</div><div class=\"line\">AsyncSession mAsyncSession= mDaoSession.startAsyncSession();//异步处理时，需要使用AsyncSession</div></pre></td></tr></table></figure>\n<p>查询数据</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">//直接查询全部</div><div class=\"line\">UnitDao unitDao = GreenDaoHelper.getDaoSession().getUnitDao();</div><div class=\"line\">        unitDao.loadAll();</div><div class=\"line\">//根据条件查询</div><div class=\"line\">UnitDao unitDao = mDaoSession .getUnitDao();</div><div class=\"line\">        WhereCondition eq = unitDao.Properties.Id.eq(1);</div><div class=\"line\">        WhereCondition eq5 = unitDao.Properties.BookId.eq(1);</div><div class=\"line\">        List&lt;Unit&gt; list = unitDao.queryBuilder().where(eq1, eq2, eq3, eq4).build().list();</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">//异步数据查询</div><div class=\"line\">StudyWordScoreDao studyWordScoreDao = GreenDaoHelper.getDaoSession().getStudyWordScoreDao();</div><div class=\"line\">        WhereCondition eq1 = StudyWordScoreDao.Properties.BookId.eq(bookId);</div><div class=\"line\">        WhereCondition eq2 = StudyWordScoreDao.Properties.UnitId.eq(unitId);</div><div class=\"line\">        WhereCondition eq3 = StudyWordScoreDao.Properties.UnitId.eq(userId);</div><div class=\"line\">        WhereCondition eq4 = StudyWordScoreDao.Properties.UnitId.eq(recordId);</div><div class=\"line\">        Query&lt;StudyWordScore&gt; build = studyWordScoreDao.queryBuilder().where(eq1, eq2, eq3, eq4).build();</div><div class=\"line\">//        WhereCondition and = wordDao.queryBuilder().and(eq, eq1);</div><div class=\"line\">        asyncSession.queryList(build);</div><div class=\"line\">        asyncSession.setListenerMainThread(asyncOperationListener);</div></pre></td></tr></table></figure>\n<p>## </p>\n<p>##细节问题</p>\n<h3 id=\"凡是涉及ID的一定要使用Long类型的包装类\"><a href=\"#凡是涉及ID的一定要使用Long类型的包装类\" class=\"headerlink\" title=\"凡是涉及ID的一定要使用Long类型的包装类\"></a>凡是涉及ID的一定要使用Long类型的包装类</h3><p> 凡是涉及ID的一定要使用Long类型的包装类，不然，autoincrement = true会失效，我之前就是这样，插入的数据会直接赋为“0”<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">//根据官网的方法，说主键赋值为空，主键就会自增，但是编译器不通过，报错，因为初始为0，不是null，所以我就直接不设置主键值，果然就可以了</div><div class=\"line\">new Book(null,&quot;必修一&quot;);</div></pre></td></tr></table></figure></p>\n<h3 id=\"关联实体的类的get-set方法一定要使用-Generate\"><a href=\"#关联实体的类的get-set方法一定要使用-Generate\" class=\"headerlink\" title=\"关联实体的类的get/set方法一定要使用@Generate\"></a>关联实体的类的get/set方法一定要使用@Generate</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">//只有使用了Generated，greenDao的插件才会将getset修改成以下代码，如果使用@keep那就保留getset代码，也就没有关联效果了</div><div class=\"line\">@Generated(hash = 835179934)</div><div class=\"line\">    public List&lt;Unit&gt; getUnits() &#123;</div><div class=\"line\">        if (units == null) &#123;</div><div class=\"line\">            final DaoSession daoSession = this.daoSession;</div><div class=\"line\">            if (daoSession == null) &#123;</div><div class=\"line\">                throw new DaoException(&quot;Entity is detached from DAO context&quot;);</div><div class=\"line\">            &#125;</div><div class=\"line\">            UnitDao targetDao = daoSession.getUnitDao();</div><div class=\"line\">            List&lt;Unit&gt; unitsNew = targetDao._queryBook_Units(id);</div><div class=\"line\">            synchronized (this) &#123;</div><div class=\"line\">                if (units == null) &#123;</div><div class=\"line\">                    units = unitsNew;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return units;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /** Resets a to-many relationship, making the next get call to query for a fresh result. */</div><div class=\"line\">    @Generated(hash = 121816020)</div><div class=\"line\">    public synchronized void resetUnits() &#123;</div><div class=\"line\">        units = null;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>暂时只总结部分，后续会继续更新此文章</p>"},{"title":"Android中传递对象的三种方法","date":"2017-04-30T10:29:33.000Z","_content":"# 参考链接\n[《Android中传递对象的三种方法》——Malinkang](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0104/2256.html)  \n[《Android Serializable与Parcelable原理与区别》——love_world_](http://blog.csdn.net/androiddevelop/article/details/22108843)  \n[《探索Android中的Parcel机制（上）》——文斌](http://blog.csdn.net/caowenbin/article/details/6532217)\n# Android中传递对象\n`Serializable`，`Parcelable`和`转为JSON字符串`，JSON就不解析了大家都懂，Serializable是jdk提供的方法，最熟悉的序列化，Parcelable是android.os包里面的,也是序列化。两种都是用于支持序列化、反序列化话操作，两者最大的区别在于存储媒介的不同，**Serializable使用IO读写存储在硬盘上**，而**Parcelable是直接在内存中读写**，很明显内存的读写速度通常大于IO读写，所以在Android中通常优先选择Parcelable。\n<!--more-->\n## Serializable\n> 通过让实体类实现Serializable，这个也不需要太多解释，只是一个标志而已，表示可以序列化。\n\n```\npublic class Bean implements Serializable {\n    private int id;\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n//略·····················\n\n```\n> 调用Intent.putExtra(String name, Serializable value)，可以看到value是Serializable。\n```\nBean b=new Bean();\nb.setId(1);\nb.setName(\"小明\");\nIntent intent=new Intent(this,TargetActivity.class);\nintent.putExtra(\"serializable\",b);//在Bundle中存放序列化对象\nstartActivity(intent);\n```\n>在目标Activity中调用getIntent().getSerializableExtra(\"serializable\");\n```\nBean b= (Bean) getIntent().getSerializableExtra(\"serializable\");\nLog.i(TAG, \"onCreate: \"+b.getName());\n```\n\n打印出数据\n```\n04-30 07:30:47.764 1974-1974/com.app.demodeliverobject I/TargetActivity: onCreate: 小明\n```\n\n## Parcelable\n### Parcelable机制原理\n> 以下引用CSDN博客专家文斌解析，不敢说全懂\n\n1. 整个读写全是在内存中进行，主要是通过malloc()、realloc()、memcpy()等内存操作进行，所以效率比JAVA序列化中使用外部存储器会高很多；\n2. 读写时是4字节对齐的，可以看到#define PAD_SIZE(s) (((s)+3)&~3)这句宏定义就是在做这件事情；\n3. 如果预分配的空间不够时newSize = ((mDataSize+len)*3)/2;会一次多分配50%；\n4. 对于普通数据，使用的是mData内存地址，对于IBinder类型的数据以及FileDescriptor使用的是mObjects内存地址。后者是通过flatten\\_binder()和unflatten_binder()实现的，目的是反序列化时读出的对象就是原对象而不用重新new一个新对象。\n\n### 示例\n> ParcelableBean实现Parcelable，表示可序列化\n```\npublic class ParcelableBean implements Parcelable {\n    private int id;\n    private int age;\n    private String name;\n\n    protected ParcelableBean(Parcel in) {\n        id = in.readInt();\n        age = in.readInt();\n        name = in.readString();\n    }\n\n    /**\n     * 将数据存入Parcel容器中\n     * Flatten this object in to a Parcel.\n     * @param dest\n     * @param flags\n     */\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeInt(id);\n        dest.writeInt(age);\n        dest.writeString(name);\n    }\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    public static final Creator<ParcelableBean> CREATOR = new Creator<ParcelableBean>() {\n        @Override\n        public ParcelableBean createFromParcel(Parcel in) {\n            return new ParcelableBean(in);\n        }\n\n        @Override\n        public ParcelableBean[] newArray(int size) {\n            return new ParcelableBean[size];\n        }\n    };\n//get and set略 ·························\n}\n```\n> 传入Parcel.obtain()，并通过Intent.putExtra(String name, Parcelable value)保存Parcelable对象\n```\nParcelableBean b=new ParcelableBean(Parcel.obtain());\nb.setId(1);\nb.setAge(14);\nb.setName(\"小明\");\nIntent intent=new Intent(this,TargetActivity.class);\nintent.putExtra(\"parcelable\",b);\nstartActivity(intent);\n```\n\n> 在目标Activity中调用getParcelableExtra(\"parcelable\");\n```\nParcelableBean b= (ParcelableBean) getIntent().getParcelableExtra(\"parcelable\");\nLog.i(TAG, \"onCreate: ID号\"+b.getId());\nLog.i(TAG, \"onCreate: 年龄\"+b.getAge());\nLog.i(TAG, \"onCreate: 名字\"+b.getName());\n```\n\n>以下为打印结果\n\n```\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: ID号1\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 年龄14\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 名字小明\n```\n## 三种数据传输速度的比较\n![参考链接中的图片](Android中传递对象的三种方法/1.png)","source":"_posts/Android中传递对象的三种方法.md","raw":"---\ntitle: Android中传递对象的三种方法\ndate: 2017-04-30 18:29:33\ncategories:\n  - android\n  - 通讯\n  - 对象传递\ntags:\n  - android\n  - 对象传递\n---\n# 参考链接\n[《Android中传递对象的三种方法》——Malinkang](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0104/2256.html)  \n[《Android Serializable与Parcelable原理与区别》——love_world_](http://blog.csdn.net/androiddevelop/article/details/22108843)  \n[《探索Android中的Parcel机制（上）》——文斌](http://blog.csdn.net/caowenbin/article/details/6532217)\n# Android中传递对象\n`Serializable`，`Parcelable`和`转为JSON字符串`，JSON就不解析了大家都懂，Serializable是jdk提供的方法，最熟悉的序列化，Parcelable是android.os包里面的,也是序列化。两种都是用于支持序列化、反序列化话操作，两者最大的区别在于存储媒介的不同，**Serializable使用IO读写存储在硬盘上**，而**Parcelable是直接在内存中读写**，很明显内存的读写速度通常大于IO读写，所以在Android中通常优先选择Parcelable。\n<!--more-->\n## Serializable\n> 通过让实体类实现Serializable，这个也不需要太多解释，只是一个标志而已，表示可以序列化。\n\n```\npublic class Bean implements Serializable {\n    private int id;\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n//略·····················\n\n```\n> 调用Intent.putExtra(String name, Serializable value)，可以看到value是Serializable。\n```\nBean b=new Bean();\nb.setId(1);\nb.setName(\"小明\");\nIntent intent=new Intent(this,TargetActivity.class);\nintent.putExtra(\"serializable\",b);//在Bundle中存放序列化对象\nstartActivity(intent);\n```\n>在目标Activity中调用getIntent().getSerializableExtra(\"serializable\");\n```\nBean b= (Bean) getIntent().getSerializableExtra(\"serializable\");\nLog.i(TAG, \"onCreate: \"+b.getName());\n```\n\n打印出数据\n```\n04-30 07:30:47.764 1974-1974/com.app.demodeliverobject I/TargetActivity: onCreate: 小明\n```\n\n## Parcelable\n### Parcelable机制原理\n> 以下引用CSDN博客专家文斌解析，不敢说全懂\n\n1. 整个读写全是在内存中进行，主要是通过malloc()、realloc()、memcpy()等内存操作进行，所以效率比JAVA序列化中使用外部存储器会高很多；\n2. 读写时是4字节对齐的，可以看到#define PAD_SIZE(s) (((s)+3)&~3)这句宏定义就是在做这件事情；\n3. 如果预分配的空间不够时newSize = ((mDataSize+len)*3)/2;会一次多分配50%；\n4. 对于普通数据，使用的是mData内存地址，对于IBinder类型的数据以及FileDescriptor使用的是mObjects内存地址。后者是通过flatten\\_binder()和unflatten_binder()实现的，目的是反序列化时读出的对象就是原对象而不用重新new一个新对象。\n\n### 示例\n> ParcelableBean实现Parcelable，表示可序列化\n```\npublic class ParcelableBean implements Parcelable {\n    private int id;\n    private int age;\n    private String name;\n\n    protected ParcelableBean(Parcel in) {\n        id = in.readInt();\n        age = in.readInt();\n        name = in.readString();\n    }\n\n    /**\n     * 将数据存入Parcel容器中\n     * Flatten this object in to a Parcel.\n     * @param dest\n     * @param flags\n     */\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeInt(id);\n        dest.writeInt(age);\n        dest.writeString(name);\n    }\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    public static final Creator<ParcelableBean> CREATOR = new Creator<ParcelableBean>() {\n        @Override\n        public ParcelableBean createFromParcel(Parcel in) {\n            return new ParcelableBean(in);\n        }\n\n        @Override\n        public ParcelableBean[] newArray(int size) {\n            return new ParcelableBean[size];\n        }\n    };\n//get and set略 ·························\n}\n```\n> 传入Parcel.obtain()，并通过Intent.putExtra(String name, Parcelable value)保存Parcelable对象\n```\nParcelableBean b=new ParcelableBean(Parcel.obtain());\nb.setId(1);\nb.setAge(14);\nb.setName(\"小明\");\nIntent intent=new Intent(this,TargetActivity.class);\nintent.putExtra(\"parcelable\",b);\nstartActivity(intent);\n```\n\n> 在目标Activity中调用getParcelableExtra(\"parcelable\");\n```\nParcelableBean b= (ParcelableBean) getIntent().getParcelableExtra(\"parcelable\");\nLog.i(TAG, \"onCreate: ID号\"+b.getId());\nLog.i(TAG, \"onCreate: 年龄\"+b.getAge());\nLog.i(TAG, \"onCreate: 名字\"+b.getName());\n```\n\n>以下为打印结果\n\n```\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: ID号1\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 年龄14\n04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 名字小明\n```\n## 三种数据传输速度的比较\n![参考链接中的图片](Android中传递对象的三种方法/1.png)","slug":"Android中传递对象的三种方法","published":1,"updated":"2017-04-30T16:00:45.051Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aiw0008a0ushwvy4g92","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0104/2256.html\" target=\"_blank\" rel=\"external\">《Android中传递对象的三种方法》——Malinkang</a><br><a href=\"http://blog.csdn.net/androiddevelop/article/details/22108843\" target=\"_blank\" rel=\"external\">《Android Serializable与Parcelable原理与区别》——love<em>world</em></a><br><a href=\"http://blog.csdn.net/caowenbin/article/details/6532217\" target=\"_blank\" rel=\"external\">《探索Android中的Parcel机制（上）》——文斌</a></p>\n<h1 id=\"Android中传递对象\"><a href=\"#Android中传递对象\" class=\"headerlink\" title=\"Android中传递对象\"></a>Android中传递对象</h1><p><code>Serializable</code>，<code>Parcelable</code>和<code>转为JSON字符串</code>，JSON就不解析了大家都懂，Serializable是jdk提供的方法，最熟悉的序列化，Parcelable是android.os包里面的,也是序列化。两种都是用于支持序列化、反序列化话操作，两者最大的区别在于存储媒介的不同，<strong>Serializable使用IO读写存储在硬盘上</strong>，而<strong>Parcelable是直接在内存中读写</strong>，很明显内存的读写速度通常大于IO读写，所以在Android中通常优先选择Parcelable。<br><a id=\"more\"></a></p>\n<h2 id=\"Serializable\"><a href=\"#Serializable\" class=\"headerlink\" title=\"Serializable\"></a>Serializable</h2><blockquote>\n<p>通过让实体类实现Serializable，这个也不需要太多解释，只是一个标志而已，表示可以序列化。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class Bean implements Serializable &#123;</div><div class=\"line\">    private int id;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    public int getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\">//略·····················</div></pre></td></tr></table></figure>\n<blockquote>\n<p>调用Intent.putExtra(String name, Serializable value)，可以看到value是Serializable。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean b=new Bean();</div><div class=\"line\">b.setId(1);</div><div class=\"line\">b.setName(&quot;小明&quot;);</div><div class=\"line\">Intent intent=new Intent(this,TargetActivity.class);</div><div class=\"line\">intent.putExtra(&quot;serializable&quot;,b);//在Bundle中存放序列化对象</div><div class=\"line\">startActivity(intent);</div></pre></td></tr></table></figure></p>\n<p>在目标Activity中调用getIntent().getSerializableExtra(“serializable”);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean b= (Bean) getIntent().getSerializableExtra(&quot;serializable&quot;);</div><div class=\"line\">Log.i(TAG, &quot;onCreate: &quot;+b.getName());</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p>打印出数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-30 07:30:47.764 1974-1974/com.app.demodeliverobject I/TargetActivity: onCreate: 小明</div></pre></td></tr></table></figure></p>\n<h2 id=\"Parcelable\"><a href=\"#Parcelable\" class=\"headerlink\" title=\"Parcelable\"></a>Parcelable</h2><h3 id=\"Parcelable机制原理\"><a href=\"#Parcelable机制原理\" class=\"headerlink\" title=\"Parcelable机制原理\"></a>Parcelable机制原理</h3><blockquote>\n<p>以下引用CSDN博客专家文斌解析，不敢说全懂</p>\n</blockquote>\n<ol>\n<li>整个读写全是在内存中进行，主要是通过malloc()、realloc()、memcpy()等内存操作进行，所以效率比JAVA序列化中使用外部存储器会高很多；</li>\n<li>读写时是4字节对齐的，可以看到#define PAD_SIZE(s) (((s)+3)&amp;~3)这句宏定义就是在做这件事情；</li>\n<li>如果预分配的空间不够时newSize = ((mDataSize+len)*3)/2;会一次多分配50%；</li>\n<li>对于普通数据，使用的是mData内存地址，对于IBinder类型的数据以及FileDescriptor使用的是mObjects内存地址。后者是通过flatten_binder()和unflatten_binder()实现的，目的是反序列化时读出的对象就是原对象而不用重新new一个新对象。</li>\n</ol>\n<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3><blockquote>\n<p>ParcelableBean实现Parcelable，表示可序列化<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class ParcelableBean implements Parcelable &#123;</div><div class=\"line\">    private int id;</div><div class=\"line\">    private int age;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    protected ParcelableBean(Parcel in) &#123;</div><div class=\"line\">        id = in.readInt();</div><div class=\"line\">        age = in.readInt();</div><div class=\"line\">        name = in.readString();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 将数据存入Parcel容器中</div><div class=\"line\">     * Flatten this object in to a Parcel.</div><div class=\"line\">     * @param dest</div><div class=\"line\">     * @param flags</div><div class=\"line\">     */</div><div class=\"line\">    @Override</div><div class=\"line\">    public void writeToParcel(Parcel dest, int flags) &#123;</div><div class=\"line\">        dest.writeInt(id);</div><div class=\"line\">        dest.writeInt(age);</div><div class=\"line\">        dest.writeString(name);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public int describeContents() &#123;</div><div class=\"line\">        return 0;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public static final Creator&lt;ParcelableBean&gt; CREATOR = new Creator&lt;ParcelableBean&gt;() &#123;</div><div class=\"line\">        @Override</div><div class=\"line\">        public ParcelableBean createFromParcel(Parcel in) &#123;</div><div class=\"line\">            return new ParcelableBean(in);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public ParcelableBean[] newArray(int size) &#123;</div><div class=\"line\">            return new ParcelableBean[size];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;;</div><div class=\"line\">//get and set略 ·························</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>传入Parcel.obtain()，并通过Intent.putExtra(String name, Parcelable value)保存Parcelable对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">ParcelableBean b=new ParcelableBean(Parcel.obtain());</div><div class=\"line\">b.setId(1);</div><div class=\"line\">b.setAge(14);</div><div class=\"line\">b.setName(&quot;小明&quot;);</div><div class=\"line\">Intent intent=new Intent(this,TargetActivity.class);</div><div class=\"line\">intent.putExtra(&quot;parcelable&quot;,b);</div><div class=\"line\">startActivity(intent);</div></pre></td></tr></table></figure></p>\n<p>在目标Activity中调用getParcelableExtra(“parcelable”);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ParcelableBean b= (ParcelableBean) getIntent().getParcelableExtra(&quot;parcelable&quot;);</div><div class=\"line\">Log.i(TAG, &quot;onCreate: ID号&quot;+b.getId());</div><div class=\"line\">Log.i(TAG, &quot;onCreate: 年龄&quot;+b.getAge());</div><div class=\"line\">Log.i(TAG, &quot;onCreate: 名字&quot;+b.getName());</div></pre></td></tr></table></figure></p>\n<p>以下为打印结果</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: ID号1</div><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 年龄14</div><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 名字小明</div></pre></td></tr></table></figure>\n<h2 id=\"三种数据传输速度的比较\"><a href=\"#三种数据传输速度的比较\" class=\"headerlink\" title=\"三种数据传输速度的比较\"></a>三种数据传输速度的比较</h2><p><img src=\"/2017/04/30/Android中传递对象的三种方法/1.png\" alt=\"参考链接中的图片\"></p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0104/2256.html\">《Android中传递对象的三种方法》——Malinkang</a><br><a href=\"http://blog.csdn.net/androiddevelop/article/details/22108843\">《Android Serializable与Parcelable原理与区别》——love<em>world</em></a><br><a href=\"http://blog.csdn.net/caowenbin/article/details/6532217\">《探索Android中的Parcel机制（上）》——文斌</a></p>\n<h1 id=\"Android中传递对象\"><a href=\"#Android中传递对象\" class=\"headerlink\" title=\"Android中传递对象\"></a>Android中传递对象</h1><p><code>Serializable</code>，<code>Parcelable</code>和<code>转为JSON字符串</code>，JSON就不解析了大家都懂，Serializable是jdk提供的方法，最熟悉的序列化，Parcelable是android.os包里面的,也是序列化。两种都是用于支持序列化、反序列化话操作，两者最大的区别在于存储媒介的不同，<strong>Serializable使用IO读写存储在硬盘上</strong>，而<strong>Parcelable是直接在内存中读写</strong>，很明显内存的读写速度通常大于IO读写，所以在Android中通常优先选择Parcelable。<br></p>","more":"<p></p>\n<h2 id=\"Serializable\"><a href=\"#Serializable\" class=\"headerlink\" title=\"Serializable\"></a>Serializable</h2><blockquote>\n<p>通过让实体类实现Serializable，这个也不需要太多解释，只是一个标志而已，表示可以序列化。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class Bean implements Serializable &#123;</div><div class=\"line\">    private int id;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    public int getId() &#123;</div><div class=\"line\">        return id;</div><div class=\"line\">    &#125;</div><div class=\"line\">//略·····················</div></pre></td></tr></table></figure>\n<blockquote>\n<p>调用Intent.putExtra(String name, Serializable value)，可以看到value是Serializable。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean b=new Bean();</div><div class=\"line\">b.setId(1);</div><div class=\"line\">b.setName(&quot;小明&quot;);</div><div class=\"line\">Intent intent=new Intent(this,TargetActivity.class);</div><div class=\"line\">intent.putExtra(&quot;serializable&quot;,b);//在Bundle中存放序列化对象</div><div class=\"line\">startActivity(intent);</div></pre></td></tr></table></figure></p>\n<p>在目标Activity中调用getIntent().getSerializableExtra(“serializable”);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Bean b= (Bean) getIntent().getSerializableExtra(&quot;serializable&quot;);</div><div class=\"line\">Log.i(TAG, &quot;onCreate: &quot;+b.getName());</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p>打印出数据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-30 07:30:47.764 1974-1974/com.app.demodeliverobject I/TargetActivity: onCreate: 小明</div></pre></td></tr></table></figure></p>\n<h2 id=\"Parcelable\"><a href=\"#Parcelable\" class=\"headerlink\" title=\"Parcelable\"></a>Parcelable</h2><h3 id=\"Parcelable机制原理\"><a href=\"#Parcelable机制原理\" class=\"headerlink\" title=\"Parcelable机制原理\"></a>Parcelable机制原理</h3><blockquote>\n<p>以下引用CSDN博客专家文斌解析，不敢说全懂</p>\n</blockquote>\n<ol>\n<li>整个读写全是在内存中进行，主要是通过malloc()、realloc()、memcpy()等内存操作进行，所以效率比JAVA序列化中使用外部存储器会高很多；</li>\n<li>读写时是4字节对齐的，可以看到#define PAD_SIZE(s) (((s)+3)&amp;~3)这句宏定义就是在做这件事情；</li>\n<li>如果预分配的空间不够时newSize = ((mDataSize+len)*3)/2;会一次多分配50%；</li>\n<li>对于普通数据，使用的是mData内存地址，对于IBinder类型的数据以及FileDescriptor使用的是mObjects内存地址。后者是通过flatten_binder()和unflatten_binder()实现的，目的是反序列化时读出的对象就是原对象而不用重新new一个新对象。</li>\n</ol>\n<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3><blockquote>\n<p>ParcelableBean实现Parcelable，表示可序列化<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class ParcelableBean implements Parcelable &#123;</div><div class=\"line\">    private int id;</div><div class=\"line\">    private int age;</div><div class=\"line\">    private String name;</div><div class=\"line\"></div><div class=\"line\">    protected ParcelableBean(Parcel in) &#123;</div><div class=\"line\">        id = in.readInt();</div><div class=\"line\">        age = in.readInt();</div><div class=\"line\">        name = in.readString();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 将数据存入Parcel容器中</div><div class=\"line\">     * Flatten this object in to a Parcel.</div><div class=\"line\">     * @param dest</div><div class=\"line\">     * @param flags</div><div class=\"line\">     */</div><div class=\"line\">    @Override</div><div class=\"line\">    public void writeToParcel(Parcel dest, int flags) &#123;</div><div class=\"line\">        dest.writeInt(id);</div><div class=\"line\">        dest.writeInt(age);</div><div class=\"line\">        dest.writeString(name);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public int describeContents() &#123;</div><div class=\"line\">        return 0;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public static final Creator&lt;ParcelableBean&gt; CREATOR = new Creator&lt;ParcelableBean&gt;() &#123;</div><div class=\"line\">        @Override</div><div class=\"line\">        public ParcelableBean createFromParcel(Parcel in) &#123;</div><div class=\"line\">            return new ParcelableBean(in);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public ParcelableBean[] newArray(int size) &#123;</div><div class=\"line\">            return new ParcelableBean[size];</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;;</div><div class=\"line\">//get and set略 ·························</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>传入Parcel.obtain()，并通过Intent.putExtra(String name, Parcelable value)保存Parcelable对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">ParcelableBean b=new ParcelableBean(Parcel.obtain());</div><div class=\"line\">b.setId(1);</div><div class=\"line\">b.setAge(14);</div><div class=\"line\">b.setName(&quot;小明&quot;);</div><div class=\"line\">Intent intent=new Intent(this,TargetActivity.class);</div><div class=\"line\">intent.putExtra(&quot;parcelable&quot;,b);</div><div class=\"line\">startActivity(intent);</div></pre></td></tr></table></figure></p>\n<p>在目标Activity中调用getParcelableExtra(“parcelable”);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">ParcelableBean b= (ParcelableBean) getIntent().getParcelableExtra(&quot;parcelable&quot;);</div><div class=\"line\">Log.i(TAG, &quot;onCreate: ID号&quot;+b.getId());</div><div class=\"line\">Log.i(TAG, &quot;onCreate: 年龄&quot;+b.getAge());</div><div class=\"line\">Log.i(TAG, &quot;onCreate: 名字&quot;+b.getName());</div></pre></td></tr></table></figure></p>\n<p>以下为打印结果</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: ID号1</div><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 年龄14</div><div class=\"line\">04-30 08:42:49.874 30499-30499/com.app.demodeliverobject I/TargetActivity: onCreate: 名字小明</div></pre></td></tr></table></figure>\n<h2 id=\"三种数据传输速度的比较\"><a href=\"#三种数据传输速度的比较\" class=\"headerlink\" title=\"三种数据传输速度的比较\"></a>三种数据传输速度的比较</h2><p><img src=\"/2017/04/30/Android中传递对象的三种方法/1.png\" alt=\"参考链接中的图片\"></p>"},{"title":"Javascript之AMD模块化规范","date":"2017-05-10T03:54:39.000Z","_content":"# 参考链接\n[《Javascript模块化编程（二）：AMD规范》——阮一峰](http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html)\n# Javascript之AMD模块化规范\n## 说明\n&emsp;&emsp;现今通行的模块化规范有三种AMD、CMD和Commonjs（AMD和CMD是Commonjs衍生出来的模块化，Commonjs应该也是CMD）\n<!-- more -->\n## 服务器环境（CommonJs）\n&emsp;&emsp;2009年，当nodejs被美国程序员Ryan Dah开发出来后，javascript也可以作为服务器端语言，开发服务器功能，但是为了解决服务器端的复杂性，开发Commonjs来使javascript模块化操作。\n\n> 假定有一个数学模块math.js\n```\n var math=require(\"math\");\n```\n\n> 然后就可以调用它模块方法了\n\n```\n var math=require(\"math\");\n math.add(2,3);//得到5\n```\n\n## 浏览器环境（AMD）\n\n```\n var math=require(\"math\");\n math.add(2,3);//得到5\n```\n&emsp;&emsp;上面这段代码是Commonjs的模块化，但是很明显有一个缺点，可以看出需要先加载math这个模块，获取再调用add()，这样可能会浏览器出现卡死的情况，因为同步执行，js没有执行完无法继续加载页面，所以就使用到**异步加载模块**，AMD就是异步加载模块规范，待模块加载完成后，自动回调方法。`require([module], callback);`\n```\n require(['math'],function(math){\n     math.add(2,3);\n });\n```\n> 这样的话，就算模块未加载完成也不会造成页面假死\n\n> 目前使用AMD规范是流行库，require.js和curl.js，异步模块化益于浏览器端\n","source":"_posts/Javascript之AMD模块化规范.md","raw":"---\ntitle: Javascript之AMD模块化规范\ndate: 2017-05-10 11:54:39\ncategories:\n  - javascript\n  - 模块化\ntags:\n  - javascript模块化\n---\n# 参考链接\n[《Javascript模块化编程（二）：AMD规范》——阮一峰](http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html)\n# Javascript之AMD模块化规范\n## 说明\n&emsp;&emsp;现今通行的模块化规范有三种AMD、CMD和Commonjs（AMD和CMD是Commonjs衍生出来的模块化，Commonjs应该也是CMD）\n<!-- more -->\n## 服务器环境（CommonJs）\n&emsp;&emsp;2009年，当nodejs被美国程序员Ryan Dah开发出来后，javascript也可以作为服务器端语言，开发服务器功能，但是为了解决服务器端的复杂性，开发Commonjs来使javascript模块化操作。\n\n> 假定有一个数学模块math.js\n```\n var math=require(\"math\");\n```\n\n> 然后就可以调用它模块方法了\n\n```\n var math=require(\"math\");\n math.add(2,3);//得到5\n```\n\n## 浏览器环境（AMD）\n\n```\n var math=require(\"math\");\n math.add(2,3);//得到5\n```\n&emsp;&emsp;上面这段代码是Commonjs的模块化，但是很明显有一个缺点，可以看出需要先加载math这个模块，获取再调用add()，这样可能会浏览器出现卡死的情况，因为同步执行，js没有执行完无法继续加载页面，所以就使用到**异步加载模块**，AMD就是异步加载模块规范，待模块加载完成后，自动回调方法。`require([module], callback);`\n```\n require(['math'],function(math){\n     math.add(2,3);\n });\n```\n> 这样的话，就算模块未加载完成也不会造成页面假死\n\n> 目前使用AMD规范是流行库，require.js和curl.js，异步模块化益于浏览器端\n","slug":"Javascript之AMD模块化规范","published":1,"updated":"2017-05-10T03:59:24.877Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ajc0009a0usn1ip8v6f","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html\" target=\"_blank\" rel=\"external\">《Javascript模块化编程（二）：AMD规范》——阮一峰</a></p>\n<h1 id=\"Javascript之AMD模块化规范\"><a href=\"#Javascript之AMD模块化规范\" class=\"headerlink\" title=\"Javascript之AMD模块化规范\"></a>Javascript之AMD模块化规范</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;现今通行的模块化规范有三种AMD、CMD和Commonjs（AMD和CMD是Commonjs衍生出来的模块化，Commonjs应该也是CMD）<br><a id=\"more\"></a></p>\n<h2 id=\"服务器环境（CommonJs）\"><a href=\"#服务器环境（CommonJs）\" class=\"headerlink\" title=\"服务器环境（CommonJs）\"></a>服务器环境（CommonJs）</h2><p>&emsp;&emsp;2009年，当nodejs被美国程序员Ryan Dah开发出来后，javascript也可以作为服务器端语言，开发服务器功能，但是为了解决服务器端的复杂性，开发Commonjs来使javascript模块化操作。</p>\n<blockquote>\n<p>假定有一个数学模块math.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div></pre></td></tr></table></figure></p>\n<p>然后就可以调用它模块方法了</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div><div class=\"line\">math.add(2,3);//得到5</div></pre></td></tr></table></figure>\n<h2 id=\"浏览器环境（AMD）\"><a href=\"#浏览器环境（AMD）\" class=\"headerlink\" title=\"浏览器环境（AMD）\"></a>浏览器环境（AMD）</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div><div class=\"line\">math.add(2,3);//得到5</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;上面这段代码是Commonjs的模块化，但是很明显有一个缺点，可以看出需要先加载math这个模块，获取再调用add()，这样可能会浏览器出现卡死的情况，因为同步执行，js没有执行完无法继续加载页面，所以就使用到<strong>异步加载模块</strong>，AMD就是异步加载模块规范，待模块加载完成后，自动回调方法。<code>require([module], callback);</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">require([&apos;math&apos;],function(math)&#123;</div><div class=\"line\">    math.add(2,3);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>这样的话，就算模块未加载完成也不会造成页面假死</p>\n<p>目前使用AMD规范是流行库，require.js和curl.js，异步模块化益于浏览器端</p>\n</blockquote>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html\">《Javascript模块化编程（二）：AMD规范》——阮一峰</a></p>\n<h1 id=\"Javascript之AMD模块化规范\"><a href=\"#Javascript之AMD模块化规范\" class=\"headerlink\" title=\"Javascript之AMD模块化规范\"></a>Javascript之AMD模块化规范</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;现今通行的模块化规范有三种AMD、CMD和Commonjs（AMD和CMD是Commonjs衍生出来的模块化，Commonjs应该也是CMD）<br></p>","more":"<p></p>\n<h2 id=\"服务器环境（CommonJs）\"><a href=\"#服务器环境（CommonJs）\" class=\"headerlink\" title=\"服务器环境（CommonJs）\"></a>服务器环境（CommonJs）</h2><p>&emsp;&emsp;2009年，当nodejs被美国程序员Ryan Dah开发出来后，javascript也可以作为服务器端语言，开发服务器功能，但是为了解决服务器端的复杂性，开发Commonjs来使javascript模块化操作。</p>\n<blockquote>\n<p>假定有一个数学模块math.js<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div></pre></td></tr></table></figure></p>\n<p>然后就可以调用它模块方法了</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div><div class=\"line\">math.add(2,3);//得到5</div></pre></td></tr></table></figure>\n<h2 id=\"浏览器环境（AMD）\"><a href=\"#浏览器环境（AMD）\" class=\"headerlink\" title=\"浏览器环境（AMD）\"></a>浏览器环境（AMD）</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">var math=require(&quot;math&quot;);</div><div class=\"line\">math.add(2,3);//得到5</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;上面这段代码是Commonjs的模块化，但是很明显有一个缺点，可以看出需要先加载math这个模块，获取再调用add()，这样可能会浏览器出现卡死的情况，因为同步执行，js没有执行完无法继续加载页面，所以就使用到<strong>异步加载模块</strong>，AMD就是异步加载模块规范，待模块加载完成后，自动回调方法。<code>require([module], callback);</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">require([&apos;math&apos;],function(math)&#123;</div><div class=\"line\">    math.add(2,3);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<blockquote>\n<p>这样的话，就算模块未加载完成也不会造成页面假死</p>\n<p>目前使用AMD规范是流行库，require.js和curl.js，异步模块化益于浏览器端</p>\n</blockquote>"},{"title":"TCP协议中的三次握手和四次挥手","date":"2017-05-11T14:12:08.000Z","_content":"# 参考链接\n[《TCP协议中的三次握手和四次挥手(图解)》——whuslei](http://blog.csdn.net/whuslei/article/details/6667471/)\n# TCP协议中的三次握手和四次挥手\n\n## 图解\n![TCP协议中的三次握手和四次挥手图解](TCP协议中的三次握手和四次挥手/1.gif)\n<!-- more -->\n## 建立连接（三次握手）\n> 三次握手分别是以下三个过程\n1. client发送**YSN连接请求报文**\n2. server接收到请求报文后向client发送**ACK确认报文**，请过程server会为连接分配分配资源。\n3. client收到ACK报文后，也会向server发送**ACK确认报文**，此时TCP连接成功。\n\n![TCP协议中的三次握手图解](TCP协议中的三次握手和四次挥手/2.png)\n## 断开连接（四次挥手）\n> 四次挥手分别是以下四个过程\n1. client发送断开连接的**FIN请求报文**，server接收到FIN请求报文\n2. 如果server正在发送的数据还没有发送完毕，会**向client发送ACK报文，表示client需要继续接收未发送完的数据**，client接收到ACK报文，继续接收数据\n3. server数据发送完毕，**向client发送FIN报文，表示准备关闭连接**，client接收到报文。\n4. client也会**向server发送ACK报文**，表示可以关闭连接了，server接收到报文，关闭连接。\n\n![image](TCP协议中的三次握手和四次挥手/3.gif)\n\n## 为什么是三次握手？两次不行吗\n&emsp;&emsp;这是为了防止接收到“已失效的连接请求报文”，可能是网络延误，假设为两次握手，server一接收到“失效的连接请求报文”，就向client发送ACK报文，server开始分配资源，一直在等待client的数据，但是client在此阶段并没有连接server的需求，自然没有数据发送；这种是不安全的也是极为浪费server资源的。\n> 三次握手是最优也最安全的三个过程","source":"_posts/TCP协议中的三次握手和四次挥手.md","raw":"---\ntitle: TCP协议中的三次握手和四次挥手\ndate: 2017-05-11 22:12:08\ncategories:\n  - TCP/IP\n  - TCP\ntags:\n  - TCP\n---\n# 参考链接\n[《TCP协议中的三次握手和四次挥手(图解)》——whuslei](http://blog.csdn.net/whuslei/article/details/6667471/)\n# TCP协议中的三次握手和四次挥手\n\n## 图解\n![TCP协议中的三次握手和四次挥手图解](TCP协议中的三次握手和四次挥手/1.gif)\n<!-- more -->\n## 建立连接（三次握手）\n> 三次握手分别是以下三个过程\n1. client发送**YSN连接请求报文**\n2. server接收到请求报文后向client发送**ACK确认报文**，请过程server会为连接分配分配资源。\n3. client收到ACK报文后，也会向server发送**ACK确认报文**，此时TCP连接成功。\n\n![TCP协议中的三次握手图解](TCP协议中的三次握手和四次挥手/2.png)\n## 断开连接（四次挥手）\n> 四次挥手分别是以下四个过程\n1. client发送断开连接的**FIN请求报文**，server接收到FIN请求报文\n2. 如果server正在发送的数据还没有发送完毕，会**向client发送ACK报文，表示client需要继续接收未发送完的数据**，client接收到ACK报文，继续接收数据\n3. server数据发送完毕，**向client发送FIN报文，表示准备关闭连接**，client接收到报文。\n4. client也会**向server发送ACK报文**，表示可以关闭连接了，server接收到报文，关闭连接。\n\n![image](TCP协议中的三次握手和四次挥手/3.gif)\n\n## 为什么是三次握手？两次不行吗\n&emsp;&emsp;这是为了防止接收到“已失效的连接请求报文”，可能是网络延误，假设为两次握手，server一接收到“失效的连接请求报文”，就向client发送ACK报文，server开始分配资源，一直在等待client的数据，但是client在此阶段并没有连接server的需求，自然没有数据发送；这种是不安全的也是极为浪费server资源的。\n> 三次握手是最优也最安全的三个过程","slug":"TCP协议中的三次握手和四次挥手","published":1,"updated":"2017-05-11T15:29:27.281Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ajs000ca0usi6osk2oo","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/whuslei/article/details/6667471/\" target=\"_blank\" rel=\"external\">《TCP协议中的三次握手和四次挥手(图解)》——whuslei</a></p>\n<h1 id=\"TCP协议中的三次握手和四次挥手\"><a href=\"#TCP协议中的三次握手和四次挥手\" class=\"headerlink\" title=\"TCP协议中的三次握手和四次挥手\"></a>TCP协议中的三次握手和四次挥手</h1><h2 id=\"图解\"><a href=\"#图解\" class=\"headerlink\" title=\"图解\"></a>图解</h2><p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/1.gif\" alt=\"TCP协议中的三次握手和四次挥手图解\"><br><a id=\"more\"></a></p>\n<h2 id=\"建立连接（三次握手）\"><a href=\"#建立连接（三次握手）\" class=\"headerlink\" title=\"建立连接（三次握手）\"></a>建立连接（三次握手）</h2><blockquote>\n<p>三次握手分别是以下三个过程</p>\n<ol>\n<li>client发送<strong>YSN连接请求报文</strong></li>\n<li>server接收到请求报文后向client发送<strong>ACK确认报文</strong>，请过程server会为连接分配分配资源。</li>\n<li>client收到ACK报文后，也会向server发送<strong>ACK确认报文</strong>，此时TCP连接成功。</li>\n</ol>\n</blockquote>\n<p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/2.png\" alt=\"TCP协议中的三次握手图解\"></p>\n<h2 id=\"断开连接（四次挥手）\"><a href=\"#断开连接（四次挥手）\" class=\"headerlink\" title=\"断开连接（四次挥手）\"></a>断开连接（四次挥手）</h2><blockquote>\n<p>四次挥手分别是以下四个过程</p>\n<ol>\n<li>client发送断开连接的<strong>FIN请求报文</strong>，server接收到FIN请求报文</li>\n<li>如果server正在发送的数据还没有发送完毕，会<strong>向client发送ACK报文，表示client需要继续接收未发送完的数据</strong>，client接收到ACK报文，继续接收数据</li>\n<li>server数据发送完毕，<strong>向client发送FIN报文，表示准备关闭连接</strong>，client接收到报文。</li>\n<li>client也会<strong>向server发送ACK报文</strong>，表示可以关闭连接了，server接收到报文，关闭连接。</li>\n</ol>\n</blockquote>\n<p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/3.gif\" alt=\"image\"></p>\n<h2 id=\"为什么是三次握手？两次不行吗\"><a href=\"#为什么是三次握手？两次不行吗\" class=\"headerlink\" title=\"为什么是三次握手？两次不行吗\"></a>为什么是三次握手？两次不行吗</h2><p>&emsp;&emsp;这是为了防止接收到“已失效的连接请求报文”，可能是网络延误，假设为两次握手，server一接收到“失效的连接请求报文”，就向client发送ACK报文，server开始分配资源，一直在等待client的数据，但是client在此阶段并没有连接server的需求，自然没有数据发送；这种是不安全的也是极为浪费server资源的。</p>\n<blockquote>\n<p>三次握手是最优也最安全的三个过程</p>\n</blockquote>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/whuslei/article/details/6667471/\">《TCP协议中的三次握手和四次挥手(图解)》——whuslei</a></p>\n<h1 id=\"TCP协议中的三次握手和四次挥手\"><a href=\"#TCP协议中的三次握手和四次挥手\" class=\"headerlink\" title=\"TCP协议中的三次握手和四次挥手\"></a>TCP协议中的三次握手和四次挥手</h1><h2 id=\"图解\"><a href=\"#图解\" class=\"headerlink\" title=\"图解\"></a>图解</h2><p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/1.gif\" alt=\"TCP协议中的三次握手和四次挥手图解\"><br></p>","more":"<p></p>\n<h2 id=\"建立连接（三次握手）\"><a href=\"#建立连接（三次握手）\" class=\"headerlink\" title=\"建立连接（三次握手）\"></a>建立连接（三次握手）</h2><blockquote>\n<p>三次握手分别是以下三个过程</p>\n<ol>\n<li>client发送<strong>YSN连接请求报文</strong></li>\n<li>server接收到请求报文后向client发送<strong>ACK确认报文</strong>，请过程server会为连接分配分配资源。</li>\n<li>client收到ACK报文后，也会向server发送<strong>ACK确认报文</strong>，此时TCP连接成功。</li>\n</ol>\n</blockquote>\n<p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/2.png\" alt=\"TCP协议中的三次握手图解\"></p>\n<h2 id=\"断开连接（四次挥手）\"><a href=\"#断开连接（四次挥手）\" class=\"headerlink\" title=\"断开连接（四次挥手）\"></a>断开连接（四次挥手）</h2><blockquote>\n<p>四次挥手分别是以下四个过程</p>\n<ol>\n<li>client发送断开连接的<strong>FIN请求报文</strong>，server接收到FIN请求报文</li>\n<li>如果server正在发送的数据还没有发送完毕，会<strong>向client发送ACK报文，表示client需要继续接收未发送完的数据</strong>，client接收到ACK报文，继续接收数据</li>\n<li>server数据发送完毕，<strong>向client发送FIN报文，表示准备关闭连接</strong>，client接收到报文。</li>\n<li>client也会<strong>向server发送ACK报文</strong>，表示可以关闭连接了，server接收到报文，关闭连接。</li>\n</ol>\n</blockquote>\n<p><img src=\"/2017/05/11/TCP协议中的三次握手和四次挥手/3.gif\" alt=\"image\"></p>\n<h2 id=\"为什么是三次握手？两次不行吗\"><a href=\"#为什么是三次握手？两次不行吗\" class=\"headerlink\" title=\"为什么是三次握手？两次不行吗\"></a>为什么是三次握手？两次不行吗</h2><p>&emsp;&emsp;这是为了防止接收到“已失效的连接请求报文”，可能是网络延误，假设为两次握手，server一接收到“失效的连接请求报文”，就向client发送ACK报文，server开始分配资源，一直在等待client的数据，但是client在此阶段并没有连接server的需求，自然没有数据发送；这种是不安全的也是极为浪费server资源的。</p>\n<blockquote>\n<p>三次握手是最优也最安全的三个过程</p>\n</blockquote>"},{"title":"Java面试宝典","date":"2017-02-20T01:40:15.000Z","_content":"文章转自：\n[java面试题](http://blog.csdn.net/dd864140130/article/details/55833087)\n\n# Java面试宝典\n\n\n# 相关概念\n## 面向对象的三个特征\n封装,继承,多态.这个应该是人人皆知.有时候也会加上抽象.\n\n\n## 多态的好处\n允许不同类对象对同一消息做出响应,即同一消息可以根据发送对象的不同而采用多种不同的行为方式(发送消息就是函数调用).主要有以下优点:\n\n1. 可替换性:多态对已存在代码具有可替换性.\n2. 可扩充性:增加新的子类不影响已经存在的类结构.\n3. 接口性:多态是超累通过方法签名,想子类提供一个公共接口,由子类来完善或者重写它来实现的.\n4. 灵活性:\n5. 简化性:\n\n### 代码中如何实现多态\n实现多态主要有以下三种方式:\n1. 接口实现\n2. 继承父类重写方法\n3. 同一类中进行方法重载\n<!--more-->\n### 虚拟机是如何实现多态的\n动态绑定技术(dynamic binding),执行期间判断所引用对象的实际类型,根据实际类型调用对应的方法.\n\n\n## 接口的意义\n接口的意义用三个词就可以概括:规范,扩展,回调.\n## 抽象类的意义\n抽象类的意义可以用三句话来概括:\n\n 1. 为其他子类提供一个公共的类型\n 2. 封装子类中重复定义的内容\n 3. 定义抽象方法,子类虽然有不同的实现,但是定义时一致的\n## 接口和抽象类的区别\n\n|比较|抽象类|接口|\n|----|------|----|\n|默认方法|抽象类可以有默认的方法实现|,java 8之前,接口中不存在方法的实现.|\n|实现方式|子类使用extends关键字来继承抽象类.如果子类不是抽象类,子类需要提供抽象类中所声明方法的实现.|子类使用implements来实现接口,需要提供接口中所有声明的实现.\n|构造器|抽象类中可以有构造器,|接口中不能|\n|和正常类区别|抽象类不能被实例化|接口则是完全不同的类型\n|访问修饰符|抽象方法可以有public,protected和default等修饰|接口默认是public,不能使用其他修饰符\n|多继承|一个子类只能存在一个父类|一个子类可以存在多个接口\n|添加新方法|想抽象类中添加新方法,可以提供默认的实现,因此可以不修改子类现有的代码|如果往接口中添加新方法,则子类中需要实现该方法.\n|\n## 父类的静态方法能否被子类重写\n不能.子类继承父类后,有相同的静态方法和非静态,这是非静态方法覆盖父类中的方法(即方法重写),父类的该静态方法被隐藏(如果对象是父类则调用该隐藏的方法),另外子类可集成父类的静态与非静态方法,至于方法重载我觉得它其中一要素就是在同一类中,不能说父类中的什么方法与子类里的什么方法是方法重载的体现.\n\n## 什么是不可变对象\n不可变对象指对象一旦被创建，状态就不能再改变。任何修改都会创建一个新的对象，如 String、Integer及其它包装类。\n\n## 能否创建一个包含可变对象的不可变对象?\n当然可以创建一个包含可变对象的不可变对象的，你只需要谨慎一点，不要共享可变对象的引用就可以了，如果需要变化时，就返回原对象的一个拷贝。最常见的例子就是对象中包含一个日期对象的引用.\n\n## java 创建对象的几种方式\n1. 采用new\n2. 通过反射\n3. 采用clone\n4. 通过序列化机制\n\n前2者都需要显式地调用构造方法.   造成耦合性最高的恰好是第一种,因此你发现无论什么框架,只要涉及到解耦必先减少new的使用.\n\n\n## switch中能否使用string做参数\n在idk 1.7之前,switch只能支持byte,short,char,int或者其对应的封装类以及Enum类型。从idk 1.7之后switch开始支持String.\n\n## Object中有哪些公共方法?\n1. `equals()`\n2. `clone()`\n3. `getClass()`\n4. `notify(),notifyAll(),wait()`\n\n\n## java当中的四种引用\n强引用,软引用,弱引用,虚引用.不同的引用类型主要体现在GC上:\n\n 1. 强引用：如果一个对象具有强引用，它就不会被垃圾回收器回收。即使当前内存空间不足，JVM也不会回收它，而是抛出 OutOfMemoryError 错误，使程序异常终止。如果想中断强引用和某个对象之间的关联，可以显式地将引用赋值为null，这样一来的话，JVM在合适的时间就会回收该对象\n 2. 软引用：在使用软引用时，如果内存的空间足够，软引用就能继续被使用，而不会被垃圾回收器回收，只有在内存不足时，软引用才会被垃圾回收器回收。\n 3. 弱引用：具有弱引用的对象拥有的生命周期更短暂。因为当 JVM 进行垃圾回收，一旦发现弱引用对象，无论当前内存空间是否充足，都会将弱引用回收。不过由于垃圾回收器是一个优先级较低的线程，所以并不一定能迅速发现弱引用对象\n 4. 虚引用：顾名思义，就是形同虚设，如果一个对象仅持有虚引用，那么它相当于没有引用，在任何时候都可能被垃圾回收器回收。\n\n更多了解参见[深入对象引用](http://blog.csdn.net/dd864140130/article/details/49885811)\n\n\n## WeakReference与SoftReference的区别?\n这点在四种引用类型中已经做了解释,这里简单说明一下即可:\n虽然 WeakReference 与 SoftReference 都有利于提高 GC 和 内存的效率，但是 WeakReference ，一旦失去最后一个强引用，就会被 GC 回收，而软引用虽然不能阻止被回收，但是可以延迟到 JVM 内存不足的时候。\n\n## 为什么要有不同的引用类型\n不像C语言,我们可以控制内存的申请和释放,在Java中有时候我们需要适当的控制对象被回收的时机,因此就诞生了不同的引用类型,可以说不同的引用类型实则是对GC回收时机不可控的妥协.有以下几个使用场景可以充分的说明:\n\n 1. 利用软引用和弱引用解决OOM问题：用一个HashMap来保存图片的路径和相应图片对象关联的软引用之间的映射关系，在内存不足时，JVM会自动回收这些缓存图片对象所占用的空间，从而有效地避免了OOM的问题.\n 2. 通过软引用实现Java对象的高速缓存:比如我们创建了一Person的类，如果每次需要查询一个人的信息,哪怕是几秒中之前刚刚查询过的，都要重新构建一个实例，这将引起大量Person对象的消耗,并且由于这些对象的生命周期相对较短,会引起多次GC影响性能。此时,通过软引用和 HashMap 的结合可以构建高速缓存,提供性能.\n\n\n## java中==和`eqauls()`的区别,`equals()`和`hashcode的区别\n==是运算符,用于比较两个变量是否相等,而equals是Object类的方法,用于比较两个对象是否相等.默认Object类的equals方法是比较两个对象的地址,此时和==的结果一样.换句话说:基本类型比较用==,比较的是他们的值.默认下,对象用==比较时,比较的是内存地址,如果需要比较对象内容,需要重写equal方法\n##`equals()`和`hashcode()`的联系\n`hashCode()`是Object类的一个方法,返回一个哈希值.如果两个对象根据equal()方法比较相等,那么调用这两个对象中任意一个对象的hashCode()方法必须产生相同的哈希值.\n如果两个对象根据eqaul()方法比较不相等,那么产生的哈希值不一定相等(碰撞的情况下还是会相等的.)\n\n## a.hashCode()有什么用?与a.equals(b)有什么关系\nhashCode() 方法是相应对象整型的 hash 值。它常用于基于 hash 的集合类，如 Hashtable、HashMap、LinkedHashMap等等。它与 equals() 方法关系特别紧密。根据 Java 规范，两个使用 equal() 方法来判断相等的对象，必须具有相同的 hashcode。\n\n将对象放入到集合中时,首先判断要放入对象的hashcode是否已经在集合中存在,不存在则直接放入集合.如果hashcode相等,然后通过equal()方法判断要放入对象与集合中的任意对象是否相等:如果equal()判断不相等,直接将该元素放入集合中,否则不放入.\n\n## 有没有可能两个不相等的对象有相同的hashcode\n有可能，两个不相等的对象可能会有相同的 hashcode 值，这就是为什么在 hashmap 中会有冲突。相等 hashcode 值的规定只是说如果两个对象相等，必须有相同的hashcode 值，但是没有关于不相等对象的任何规定。\n\n\n## 可以在hashcode中使用随机数字吗?\n不行，因为同一对象的 hashcode 值必须是相同的\n\n## “a==b”与a.equals(b)有什么区别\n如果a 和b 都是对象，则 a==b 是比较两个对象的引用，只有当 a 和 b 指向的是堆中的同一个对象才会返回 true，而 a.equals(b) 是进行逻辑比较，所以通常需要重写该方法来提供逻辑一致性的比较。例如，String 类重写 equals() 方法，所以可以用于两个不同对象，但是包含的字母相同的比较。\n\n##  `3*0.1==0.3`返回值是什么\nfalse，因为有些浮点数不能完全精确的表示出来。\n\n## a=a+b与a+=b有什么区别吗?\n隐式的将加操作的结果类型强制转换为持有结果的类型。如果两这个整型相加，如 byte、short 或者 int，首先会将它们提升到 int 类型，然后在执行加法操作。如果加法操作的结果比 a 的最大值要大，则 a+b 会出现编译错误，但是 a += b 没问题，如下：\nbyte a = 127;\nbyte b = 127;\nb = a + b; // error : cannot convert from int to byte\nb += a; // ok\n（译者注：这个地方应该表述的有误，其实无论 a+b 的值为多少，编译器都会报错，因为 a+b 操作会将 a、b 提升为 int 类型，所以将 int 类型赋值给 byte 就会编译出错）\n\n## 内部类的作用\n内部类可以用多个实例,每个实例都有自己的状态信息,并且与其他外围对象的信息相互独立.在单个外围类当中,可以让多个内部类以不同的方式实现同一接口,或者继承同一个类.创建内部类对象的时刻病不依赖于外部类对象的创建.内部类并没有令人疑惑的”is-a”关系,它就像是一个独立的实体.\n\n内部类提供了更好的封装,除了该外围类,其他类都不能访问\n\n\n## final,finalize和finally的不同之处\nfinal 是一个修饰符，可以修饰变量、方法和类。如果 final 修饰变量，意味着该变量的值在初始化后不能被改变。finalize 方法是在对象被回收之前调用的方法，给对象自己最后一个复活的机会，但是什么时候调用 finalize 没有保证。finally 是一个关键字，与 try 和 catch 一起用于异常的处理。finally 块一定会被执行，无论在 try 块中是否有发生异常。\n\n## clone()是哪个类型的方法?\njava.lang.Cloneable 是一个标示性接口，不包含任何方法，clone 方法在 object 类中定义。并且需要知道 clone() 方法是一个本地方法，这意味着它是由 c 或 c++ 或 其他本地语言实现的。\n\n## 深拷贝和浅拷贝的区别是什么?\n浅拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而所有的对其他对象的引用仍然指向原来的对象。换言之，浅拷贝仅仅复制所考虑的对象，而不复制它所引用的对象。\n\n深拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而那些引用其他对象的变量将指向被复制过的新对象，而不再是原有的那些被引用的对象。换言之，深拷贝把要复制的对象所引用的对象都复制了一遍。\n\n## static都有哪些用法?\n几乎所有的人都知道static关键字这两个基本的用法:静态变量和静态方法.也就是被static所修饰的变量/方法都属于类的静态资源,类实例所共享.\n\n除了静态变量和静态方法之外,static也用于静态块,多用于初始化操作:\n```java\npublic calss PreCache{\n    static{\n        //执行相关操作\n    }\n}\n```\n此外static也多用于修饰内部类,此时称之为静态内部类.\n\n最后一种用法就是静态导包,即`import static`.import static是在JDK 1.5之后引入的新特性,可以用来指定导入某个类中的静态资源,并且不需要使用类名.资源名,可以直接使用资源名,比如:\n```java\nimport static java.lang.Math.*;\n\npublic class Test{\n\n    public static void main(String[] args){\n        //System.out.println(Math.sin(20));传统做法\n        System.out.println(sin(20));\n    }\n}\n\n```\n\n## final有哪些用法\nfinal也是很多面试喜欢问的地方,能回答下以下三点就不错了:\n1.被final修饰的类不可以被继承\n2.被final修饰的方法不可以被重写\n3.被final修饰的变量不可以被改变.如果修饰的引用,那么表示引用不可变,引用指向的内容可变.\n4.被final修饰的方法,JVM会尝试将其内联,以提高运行效率\n5.被final修饰的常量,在编译阶段会存入常量池中.\n\n当前回答出编译器对final域要遵守的两个重排序规则更好:\n1.在构造函数内对一个final域的写入,与随后把这个被构造对象的引用赋值给一个引用变量,这两个操作之间不能重排序.\n2.初次读一个包含final域的对象的引用,与随后初次读这个final域,这两个操作之间不能重排序.\n\n\n\n\n----------\n\n\n#数据类型相关\n## java中int char,long各占多少字节?\n|类型|位数|字节数|\n|-|-|-|\n|short|2|16|\n|int|4|32|\n|long|8|64|\n|float|4|32\n|double|8|64|\n|char|2|16|\n\n## 64位的JVM当中,int的长度是多少?\nJava 中，int 类型变量的长度是一个固定值，与平台无关，都是 32 位。意思就是说，在 32 位 和 64 位 的Java 虚拟机中，int 类型的长度是相同的。\n\n## java int和Integer的区别\nInteger是int的包装类型,在拆箱和装箱中,而知自动转换.int是基本类型，直接存数值，而integer是对象，用一个引用指向这个对象.\n\n## int 和Integer谁占用的内存更多?\nInteger 对象会占用更多的内存。Integer是一个对象，需要存储对象的元数据。但是 int 是一个原始类型的数据，所以占用的空间更少。\n\n## String,StringBuffer和StringBuilder区别\nString是字符串常量,final修饰;StringBuffer字符串变量(线程安全);\nStringBuilder 字符串变量(线程不安全).\n\n\n### String和StringBuffer\nString和StringBuffer主要区别是性能:String是不可变对象,每次对String类型进行操作都等同于产生了一个新的String对象,然后指向新的String对象.所以尽量不在对String进行大量的拼接操作,否则会产生很多临时对象,导致GC开始工作,影响系统性能.\n\nStringBuffer是对对象本身操作,而不是产生新的对象,因此在通常在有大量拼接的情况下我们建议使用StringBuffer.\n\n但是需要注意现在JVM会对String拼接做一定的优化:\n`String s=“This is only ”+”simple”+”test”`会被虚拟机直接优化成`String s=“This is only simple test”`,此时就不存在拼接过程.\n \n### StringBuffer和StringBuilder\nStringBuffer是线程安全的可变字符串,其内部实现是可变数组.StringBuilder是java 5.0新增的,其功能和StringBuffer类似,但是非线程安全.因此,在没有多线程问题的前提下,使用StringBuilder会取得更好的性能.\n\n\n\n## 什么是编译器常量?使用它有什么风险?\n公共静态不可变（public static final ）变量也就是我们所说的编译期常量，这里的 public 可选的。实际上这些变量在编译时会被替换掉，因为编译器知道这些变量的值，并且知道这些变量在运行时不能改变。这种方式存在的一个问题是你使用了一个内部的或第三方库中的公有编译时常量，但是这个值后面被其他人改变了，但是你的客户端仍然在使用老的值，甚至你已经部署了一个新的jar。为了避免这种情况，当你在更新依赖 JAR 文件时，确保重新编译你的程序。\n## java当中使用什么类型表示价格比较好?\n如果不是特别关心内存和性能的话，使用BigDecimal，否则使用预定义精度的 double 类型。\n\n## 如何将byte转为String\n可以使用 String 接收 byte[] 参数的构造器来进行转换，需要注意的点是要使用的正确的编码，否则会使用平台默认编码，这个编码可能跟原来的编码相同，也可能不同。\n\n\n## 可以将int强转为byte类型么?会产生什么问题?\n我们可以做强制转换，但是Java中int是32位的而byte是8 位的，所以,如果强制转化int类型的高24位将会被丢弃，byte 类型的范围是从-128.到128\n\n\n----------\n\n## 关于垃圾回收\n\n## 你知道哪些垃圾回收算法?\n垃圾回收从理论上非常容易理解,具体的方法有以下几种:\n 1. 标记-清除\n 2. 标记-复制\n 3. 标记-整理\n 4. 分代回收\n 更详细的内容参见[深入理解垃圾回收算法](http://blog.csdn.net/dd864140130/article/details/50084471)\n\n##如何判断一个对象是否应该被回收\n这就是所谓的对象存活性判断,常用的方法有两种:1.引用计数法;2:对象可达性分析.由于引用计数法存在互相引用导致无法进行GC的问题,所以目前JVM虚拟机多使用对象可达性分析算法.\n\n##简单的解释一下垃圾回收\nJava 垃圾回收机制最基本的做法是分代回收。内存中的区域被划分成不同的世代，对象根据其存活的时间被保存在对应世代的区域中。一般的实现是划分成3个世代：年轻、年老和永久。内存的分配是发生在年轻世代中的。当一个对象存活时间足够长的时候，它就会被复制到年老世代中。对于不同的世代可以使用不同的垃圾回收算法。进行世代划分的出发点是对应用中对象存活时间进行研究之后得出的统计规律。一般来说，一个应用中的大部分对象的存活时间都很短。比如局部变量的存活时间就只在方法的执行过程中。基于这一点，对于年轻世代的垃圾回收算法就可以很有针对性.\n\n\n\n\n## 调用System.gc()会发生什么?\n通知GC开始工作,但是GC真正开始的时间不确定.\n\n----------\n\n\n# 进程,线程相关\n## 说说进程,线程,协程之间的区别\n简而言之,进程是程序运行和资源分配的基本单位,一个程序至少有一个进程,一个进程至少有一个线程.进程在执行过程中拥有独立的内存单元,而多个线程共享内存资源,减少切换次数,从而效率更高.线程是进程的一个实体,是cpu调度和分派的基本单位,是比程序更小的能独立运行的基本单位.同一进程中的多个线程之间可以并发执行.\n\n## 你了解守护线程吗?它和非守护线程有什么区别\n程序运行完毕,jvm会等待非守护线程完成后关闭,但是jvm不会等待守护线程.守护线程最典型的例子就是GC线程\n## 什么是多线程上下文切换\n多线程的上下文切换是指CPU控制权由一个已经正在运行的线程切换到另外一个就绪并等待获取CPU执行权的线程的过程。\n\n## 创建两种线程的方式?他们有什么区别?\n通过实现java.lang.Runnable或者通过扩展java.lang.Thread类.相比扩展Thread,实现Runnable接口可能更优.原因有二:\n\n 1. Java不支持多继承.因此扩展Thread类就代表这个子类不能扩展其他类.而实现Runnable接口的类还可能扩展另一个类.\n 2. 类可能只要求可执行即可,因此集成整个Thread类的开销过大.\n\n## Runnable和Callable的区别\nRunnable接口中的run()方法的返回值是void，它做的事情只是纯粹地去执行run()方法中的代码而已；Callable接口中的call()方法是有返回值的，是一个泛型，和Future、FutureTask配合可以用来获取异步执行的结果。\n这其实是很有用的一个特性，因为多线程相比单线程更难、更复杂的一个重要原因就是因为多线程充满着未知性，某条线程是否执行了？某条线程执行了多久？某条线程执行的时候我们期望的数据是否已经赋值完毕？无法得知，我们能做的只是等待这条多线程的任务执行完毕而已。而Callable+Future/FutureTask却可以获取多线程运行的结果，可以在等待时间太长没获取到需要的数据的情况下取消该线程的任务，真的是非常有用。\n\n## 什么导致线程阻塞\n阻塞指的是暂停一个线程的执行以等待某个条件发生（如某资源就绪），学过操作系统的同学对它一定已经很熟悉了。Java 提供了大量方法来支持阻塞，下面让我们逐一分析。\n\n|方法|说明|\n|---|----|\n|sleep()|sleep() 允许 指定以毫秒为单位的一段时间作为参数，它使得线程在指定的时间内进入阻塞状态，不能得到CPU 时间，指定的时间一过，线程重新进入可执行状态。 典型地，sleep() 被用在等待某个资源就绪的情形：测试发现条件不满足后，让线程阻塞一段时间后重新测试，直到条件满足为止|\n|suspend() 和 resume()|两个方法配套使用，suspend()使得线程进入阻塞状态，并且不会自动恢复，必须其对应的resume() 被调用，才能使得线程重新进入可执行状态。典型地，suspend() 和 resume() 被用在等待另一个线程产生的结果的情形：测试发现结果还没有产生后，让线程阻塞，另一个线程产生了结果后，调用 resume() 使其恢复。|\n|yield() |yield() 使得线程放弃当前分得的 CPU 时间，但是不使线程阻塞，即线程仍处于可执行状态，随时可能再次分得 CPU 时间。调用 yield() 的效果等价于调度程序认为该线程已执行了足够的时间从而转到另一个线程|\n|wait() 和 notify()|两个方法配套使用，wait() 使得线程进入阻塞状态，它有两种形式，一种允许 指定以毫秒为单位的一段时间作为参数，另一种没有参数，前者当对应的 notify() 被调用或者超出指定时间时线程重新进入可执行状态，后者则必须对应的 notify() 被调用.|\n\n## wait(),notify()和suspend(),resume()之间的区别\n初看起来它们与 suspend() 和 resume() 方法对没有什么分别，但是事实上它们是截然不同的。区别的核心在于，前面叙述的所有方法，阻塞时都不会释放占用的锁（如果占用了的话），而这一对方法则相反。上述的核心区别导致了一系列的细节上的区别。\n\n首先，前面叙述的所有方法都隶属于 Thread 类，但是这一对却直接隶属于 Object 类，也就是说，所有对象都拥有这一对方法。初看起来这十分不可思议，但是实际上却是很自然的，因为这一对方法阻塞时要释放占用的锁，而锁是任何对象都具有的，调用任意对象的 wait() 方法导致线程阻塞，并且该对象上的锁被释放。而调用 任意对象的notify()方法则导致因调用该对象的 wait() 方法而阻塞的线程中随机选择的一个解除阻塞（但要等到获得锁后才真正可执行）。\n\n其次，前面叙述的所有方法都可在任何位置调用，但是这一对方法却必须在 synchronized 方法或块中调用，理由也很简单，只有在synchronized 方法或块中当前线程才占有锁，才有锁可以释放。同样的道理，调用这一对方法的对象上的锁必须为当前线程所拥有，这样才有锁可以释放。因此，这一对方法调用必须放置在这样的 synchronized 方法或块中，该方法或块的上锁对象就是调用这一对方法的对象。若不满足这一条件，则程序虽然仍能编译，但在运行时会出现IllegalMonitorStateException 异常。\n\nwait() 和 notify() 方法的上述特性决定了它们经常和synchronized 方法或块一起使用，将它们和操作系统的进程间通信机制作一个比较就会发现它们的相似性：synchronized方法或块提供了类似于操作系统原语的功能，它们的执行不会受到多线程机制的干扰，而这一对方法则相当于 block 和wakeup 原语（这一对方法均声明为 synchronized）。它们的结合使得我们可以实现操作系统上一系列精妙的进程间通信的算法（如信号量算法），并用于解决各种复杂的线程间通信问题。\n\n关于 wait() 和 notify() 方法最后再说明两点：\n第一：调用 notify() 方法导致解除阻塞的线程是从因调用该对象的 wait() 方法而阻塞的线程中随机选取的，我们无法预料哪一个线程将会被选择，所以编程时要特别小心，避免因这种不确定性而产生问题。\n\n第二：除了 notify()，还有一个方法 notifyAll() 也可起到类似作用，唯一的区别在于，调用 notifyAll() 方法将把因调用该对象的 wait() 方法而阻塞的所有线程一次性全部解除阻塞。当然，只有获得锁的那一个线程才能进入可执行状态。\n\n谈到阻塞，就不能不谈一谈死锁，略一分析就能发现，suspend() 方法和不指定超时期限的 wait() 方法的调用都可能产生死锁。遗憾的是，Java 并不在语言级别上支持死锁的避免，我们在编程中必须小心地避免死锁。\n\n以上我们对 Java 中实现线程阻塞的各种方法作了一番分析，我们重点分析了 wait() 和 notify() 方法，因为它们的功能最强大，使用也最灵活，但是这也导致了它们的效率较低，较容易出错。实际使用中我们应该灵活使用各种方法，以便更好地达到我们的目的。\n\n## 为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用\n这是JDK强制的，wait()方法和notify()/notifyAll()方法在调用前都必须先获得对象的锁\n\n## wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别\nwait()方法和notify()/notifyAll()方法在放弃对象监视器的时候的区别在于：wait()方法立即释放对象监视器，notify()/notifyAll()方法则会等待线程剩余代码执行完毕才会放弃对象监视器。\n\n## wait()与sleep()的区别\n\n 关于这两者已经在上面进行详细的说明,这里就做个概括好了:\n\n - sleep()来自Thread类，和wait()来自Object类.调用sleep()方法的过程中，线程不会释放对象锁。而 调用 wait 方法线程会释放对象锁\n - sleep()睡眠后不出让系统资源，wait让其他线程可以占用CPU\n - sleep(milliseconds)需要指定一个睡眠时间，时间一到会自动唤醒.而wait()需要配合notify()或者notifyAll()使用\n\n## synchronized和ReentrantLock的区别\nsynchronized是和if、else、for、while一样的关键字，ReentrantLock是类，这是二者的本质区别。既然ReentrantLock是类，那么它就提供了比synchronized更多更灵活的特性，可以被继承、可以有方法、可以有各种各样的类变量，ReentrantLock比synchronized的扩展性体现在几点上：\n（1）ReentrantLock可以对获取锁的等待时间进行设置，这样就避免了死锁\n（2）ReentrantLock可以获取各种锁的信息\n（3）ReentrantLock可以灵活地实现多路通知\n另外，二者的锁机制其实也是不一样的:ReentrantLock底层调用的是Unsafe的park方法加锁，synchronized操作的应该是对象头中mark word.\n\n## FutureTask是什么\n这个其实前面有提到过，FutureTask表示一个异步运算的任务。FutureTask里面可以传入一个Callable的具体实现类，可以对这个异步运算的任务的结果进行等待获取、判断是否已经完成、取消任务等操作。当然，由于FutureTask也是Runnable接口的实现类，所以FutureTask也可以放入线程池中。\n\n## 一个线程如果出现了运行时异常怎么办?\n如果这个异常没有被捕获的话，这个线程就停止执行了。另外重要的一点是：如果这个线程持有某个某个对象的监视器，那么这个对象监视器会被立即释放\n\n\n## 如何在两个线程间共享数据\n通过在线程之间共享对象就可以了，然后通过wait/notify/notifyAll、await/signal/signalAll进行唤起和等待，比方说阻塞队列BlockingQueue就是为线程之间共享数据而设计的\n\n## 如何正确的使用wait()?使用if还是while?\nwait() 方法应该在循环调用，因为当线程获取到 CPU 开始执行的时候，其他条件可能还没有满足，所以在处理前，循环检测条件是否满足会更好。下面是一段标准的使用 wait 和 notify 方法的代码：\n```\n synchronized (obj) {\n    while (condition does not hold)\n      obj.wait(); // (Releases lock, and reacquires on wakeup)\n      ... // Perform action appropriate to condition\n }\n```\n\n\n## 什么是线程局部变量\n线程局部变量是局限于线程内部的变量，属于线程自身所有，不在多个线程间共享。Java提供ThreadLocal类来支持线程局部变量，是一种实现线程安全的方式。但是在管理环境下（如 web 服务器）使用线程局部变量的时候要特别小心，在这种情况下，工作线程的生命周期比任何应用变量的生命周期都要长。任何线程局部变量一旦在工作完成后没有释放，Java 应用就存在内存泄露的风险。\n\n## ThreadLoal的作用是什么?\n简单说ThreadLocal就是一种以空间换时间的做法在每个Thread里面维护了一个ThreadLocal.ThreadLocalMap把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了.\n\n## 生产者消费者模型的作用是什么?\n（1）通过平衡生产者的生产能力和消费者的消费能力来提升整个系统的运行效率，这是生产者消费者模型最重要的作用\n（2）解耦，这是生产者消费者模型附带的作用，解耦意味着生产者和消费者之间的联系少，联系越少越可以独自发展而不需要收到相互的制约\n\n## 写一个生产者-消费者队列\n可以通过阻塞队列实现,也可以通过wait-notify来实现.\n\n### 使用阻塞队列来实现\n```\n//消费者\npublic class Producer implements Runnable{\n    private final BlockingQueue<Integer> queue;\n\n    public Producer(BlockingQueue q){\n        this.queue=q;\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true){\n                Thread.sleep(1000);//模拟耗时\n                queue.put(produce());\n            }\n        }catch (InterruptedException e){\n\n        }\n    }\n\n    private int produce() {\n        int n=new Random().nextInt(10000);\n        System.out.println(\"Thread:\" + Thread.currentThread().getId() + \" produce:\" + n);\n        return n;\n    }\n}\n//消费者\npublic class Consumer implements Runnable {\n    private final BlockingQueue<Integer> queue;\n\n    public Consumer(BlockingQueue q){\n        this.queue=q;\n    }\n\n    @Override\n    public void run() {\n        while (true){\n            try {\n                Thread.sleep(2000);//模拟耗时\n                consume(queue.take());\n            }catch (InterruptedException e){\n\n            }\n\n        }\n    }\n\n    private void consume(Integer n) {\n        System.out.println(\"Thread:\" + Thread.currentThread().getId() + \" consume:\" + n);\n\n    }\n}\n//测试\npublic class Main {\n\n    public static void main(String[] args) {\n        BlockingQueue<Integer> queue=new ArrayBlockingQueue<Integer>(100);\n        Producer p=new Producer(queue);\n        Consumer c1=new Consumer(queue);\n        Consumer c2=new Consumer(queue);\n\n        new Thread(p).start();\n        new Thread(c1).start();\n        new Thread(c2).start();\n    }\n}\n\n```\n### 使用wait-notify来实现\n该种方式应该最经典,这里就不做说明了\n\n\n## ConcurrentHashMap的并发度是什么?\nConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势，任何情况下，Hashtable能同时有两条线程获取Hashtable中的数据吗？\n\n## CyclicBarrier和CountDownLatch区别\n这两个类非常类似，都在java.util.concurrent下，都可以用来表示代码运行到某个点上，二者的区别在于：\n\n - CyclicBarrier的某个线程运行到某个点上之后，该线程即停止运行，直到所有的线程都到达了这个点，所有线程才重新运行；CountDownLatch则不是，某线程运行到某个点上之后，只是给某个数值-1而已，该线程继续运行\n - CyclicBarrier只能唤起一个任务，CountDownLatch可以唤起多个任务\n - CyclicBarrier可重用，CountDownLatch不可重用，计数值为0该CountDownLatch就不可再用了\n \n## java中的++操作符线程安全么?\n不是线程安全的操作。它涉及到多个指令，如读取变量值，增加，然后存储回内存，这个过程可能会出现多个线程交差\n\n## 你有哪些多线程开发良好的实践?\n1. 给线程命名\n2. 最小化同步范围\n3. 优先使用volatile\n4. 尽可能使用更高层次的并发工具而非wait和notify()来实现线程通信,如BlockingQueue,Semeaphore\n5. 优先使用并发容器而非同步容器.\n6. 考虑使用线程池\n\n\n----------\n#关于volatile关键字\n## 可以创建Volatile数组吗?\nJava 中可以创建 volatile类型数组，不过只是一个指向数组的引用，而不是整个数组。如果改变引用指向的数组，将会受到volatile 的保护，但是如果多个线程同时改变数组的元素，volatile标示符就不能起到之前的保护作用了\n\n## volatile能使得一个非原子操作变成原子操作吗?\n一个典型的例子是在类中有一个 long 类型的成员变量。如果你知道该成员变量会被多个线程访问，如计数器、价格等，你最好是将其设置为 volatile。为什么？因为 Java 中读取 long 类型变量不是原子的，需要分成两步，如果一个线程正在修改该 long 变量的值，另一个线程可能只能看到该值的一半（前 32 位）。但是对一个 volatile 型的 long 或 double 变量的读写是原子。\n\n一种实践是用 volatile 修饰 long 和 double 变量，使其能按原子类型来读写。double 和 long 都是64位宽，因此对这两种类型的读是分为两部分的，第一次读取第一个 32 位，然后再读剩下的 32 位，这个过程不是原子的，但 Java 中 volatile 型的 long 或 double 变量的读写是原子的。volatile 修复符的另一个作用是提供内存屏障（memory barrier），例如在分布式框架中的应用。简单的说，就是当你写一个 volatile 变量之前，Java 内存模型会插入一个写屏障（write barrier），读一个 volatile 变量之前，会插入一个读屏障（read barrier）。意思就是说，在你写一个 volatile 域时，能保证任何线程都能看到你写的值，同时，在写之前，也能保证任何数值的更新对所有线程是可见的，因为内存屏障会将其他所有写的值更新到缓存。\n\n## volatile类型变量提供什么保证?\nvolatile 主要有两方面的作用:1.避免指令重排2.可见性保证.例如，JVM 或者 JIT为了获得更好的性能会对语句重排序，但是 volatile 类型变量即使在没有同步块的情况下赋值也不会与其他语句重排序。 volatile 提供 happens-before 的保证，确保一个线程的修改能对其他线程是可见的。某些情况下，volatile 还能提供原子性，如读 64 位数据类型，像 long 和 double 都不是原子的(低32位和高32位)，但 volatile 类型的 double 和 long 就是原子的.\n\n\n----------\n#关于集合\n\n## Java中的集合及其继承关系\n关于集合的体系是每个人都应该烂熟于心的,尤其是对我们经常使用的List,Map的原理更该如此.这里我们看这张图即可:\n![这里写图片描述](http://img.blog.csdn.net/20141105193133812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZGQ4NjQxNDAxMzA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)\n\n更多内容可见[集合类总结](http://write.blog.csdn.net/postedit/40826423)\n\n## poll()方法和remove()方法区别?\npoll() 和 remove() 都是从队列中取出一个元素，但是 poll() 在获取元素失败的时候会返回空，但是 remove() 失败的时候会抛出异常。\n\n## LinkedHashMap和PriorityQueue的区别\nPriorityQueue 是一个优先级队列,保证最高或者最低优先级的的元素总是在队列头部，但是 LinkedHashMap 维持的顺序是元素插入的顺序。当遍历一个 PriorityQueue 时，没有任何顺序保证，但是 LinkedHashMap 课保证遍历顺序是元素插入的顺序。\n\n## WeakHashMap与HashMap的区别是什么?\nWeakHashMap 的工作与正常的 HashMap 类似，但是使用弱引用作为 key，意思就是当 key 对象没有任何引用时，key/value 将会被回收。\n\n## ArrayList和LinkedList的区别?\n最明显的区别是 ArrrayList底层的数据结构是数组，支持随机访问，而 LinkedList 的底层数据结构是双向循环链表，不支持随机访问。使用下标访问一个元素，ArrayList 的时间复杂度是 O(1)，而 LinkedList 是 O(n)。\n\n## ArrayList和HashMap默认大小?\n在 Java 7 中，ArrayList 的默认大小是 10 个元素，HashMap 的默认大小是16个元素（必须是2的幂）。这就是 Java 7 中 ArrayList 和 HashMap 类的代码片段\n```\nprivate static final int DEFAULT_CAPACITY = 10;\n \n //from HashMap.java JDK 7\n static final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16\n```\n\n## Comparator和Comparable的区别?\nComparable 接口用于定义对象的自然顺序，而 comparator 通常用于定义用户定制的顺序。Comparable 总是只有一个，但是可以有多个 comparator 来定义对象的顺序。\n\n## 如何实现集合排序?\n你可以使用有序集合，如 TreeSet 或 TreeMap，你也可以使用有顺序的的集合，如 list，然后通过 Collections.sort() 来排序。\n\n## 如何打印数组内容\n你可以使用 Arrays.toString() 和 Arrays.deepToString() 方法来打印数组。由于数组没有实现 toString() 方法，所以如果将数组传递给 System.out.println() 方法，将无法打印出数组的内容，但是 Arrays.toString() 可以打印每个元素。\n\n## LinkedList的是单向链表还是双向?\n双向循环列表,具体实现自行查阅源码.\n\n## TreeMap是实现原理\n采用红黑树实现,具体实现自行查阅源码.\n\n## 遍历ArrayList时如何正确移除一个元素\n该问题的关键在于面试者使用的是 ArrayList 的 remove() 还是 Iterator 的 remove()方法。这有一段示例代码，是使用正确的方式来实现在遍历的过程中移除元素，而不会出现 ConcurrentModificationException 异常的示例代码。\n\n\n## 什么是ArrayMap?它和HashMap有什么区别?\nArrayMap是Android SDK中提供的,非Android开发者可以略过.\nArrayMap是用两个数组来模拟map,更少的内存占用空间,更高的效率.\n具体参考这篇文章:[ArrayMap VS HashMap](http://lvable.com/?p=217%5D)\n\n\n## HashMap的实现原理\n1   HashMap概述：  HashMap是基于哈希表的Map接口的非同步实现。此实现提供所有可选的映射操作，并允许使用null值和null键。此类不保证映射的顺序，特别是它不保证该顺序恒久不变。\n2   HashMap的数据结构： 在java编程语言中，最基本的结构就是两种，一个是数组，另外一个是模拟指针（引用），所有的数据结构都可以用这两个基本结构来构造的，HashMap也不例外。HashMap实际上是一个“链表散列”的数据结构，即数组和链表的结合体。\n\n当我们往Hashmap中put元素时,首先根据key的hashcode重新计算hash值,根绝hash值得到这个元素在数组中的位置(下标),如果该数组在该位置上已经存放了其他元素,那么在这个位置上的元素将以链表的形式存放,新加入的放在链头,最先加入的放入链尾.如果数组中该位置没有元素,就直接将该元素放到数组的该位置上.\n\n\n## 你了解Fail-Fast机制吗\nFail-Fast即我们常说的快速失败,更多内容参看[fail-fast机制](http://blog.csdn.net/chenssy/article/details/38151189)\n\n\n----------\n\n\n# 关于日期\n## SimpleDateFormat是线程安全的吗?\n非常不幸，DateFormat 的所有实现，包括 SimpleDateFormat 都不是线程安全的，因此你不应该在多线程序中使用，除非是在对外线程安全的环境中使用，如 将 SimpleDateFormat 限制在 ThreadLocal 中。如果你不这么做，在解析或者格式化日期的时候，可能会获取到一个不正确的结果。因此，从日期、时间处理的所有实践来说，我强力推荐 joda-time 库。\n\n## 如何格式化日期?\nJava 中，可以使用 SimpleDateFormat 类或者 joda-time 库来格式日期。DateFormat 类允许你使用多种流行的格式来格式化日期。参见答案中的示例代码，代码中演示了将日期格式化成不同的格式，如 dd-MM-yyyy 或 ddMMyyyy。\n\n\n\n----------\n\n\n# 关于异常\n## 简单描述java异常体系\n相比没有人不了解异常体系,关于异常体系的更多信息可以见:[白话异常机制](http://blog.csdn.net/dd864140130/article/details/42504189)\n\n## 什么是异常链\n详情直接参见[白话异常机制](http://blog.csdn.net/dd864140130/article/details/42504189),不做解释了.\n\n## throw和throws的区别\nthrow用于主动抛出java.lang.Throwable 类的一个实例化对象，意思是说你可以通过关键字 throw 抛出一个 Error 或者 一个Exception，如：`throw new IllegalArgumentException(“size must be multiple of 2″)`,\n而throws 的作用是作为方法声明和签名的一部分，方法被抛出相应的异常以便调用者能处理。Java 中，任何未处理的受检查异常强制在 throws 子句中声明。\n\n\n----------\n\n## 关于序列化\n\n## Java 中，Serializable 与 Externalizable 的区别\nSerializable 接口是一个序列化 Java 类的接口，以便于它们可以在网络上传输或者可以将它们的状态保存在磁盘上，是 JVM 内嵌的默认序列化方式，成本高、脆弱而且不安全。Externalizable 允许你控制整个序列化过程，指定特定的二进制格式，增加安全机制。\n\n\n----------\n\n#关于JVM\n\n## JVM特性\n平台无关性.\nJava语言的一个非常重要的特点就是与平台的无关性。而使用Java虚拟机是实现这一特点的关键。一般的高级语言如果要在不同的平台上运行，至少需要编译成不同的目标代码。而引入Java语言虚拟机后，Java语言在不同平台上运行时不需要重新编译。Java语言使用模式Java虚拟机屏蔽了与具体平台相关的信息，使得Java语言编译程序只需生成在Java虚拟机上运行的目标代码（字节码），就可以在多种平台上不加修改地运行。Java虚拟机在执行字节码时，把字节码解释成具体平台上的机器指令执行。\n\n## 简单解释一下类加载器\n有关类加载器一般会问你四种类加载器的应用场景以及双亲委派模型,更多的内容参看[深入理解JVM加载器](http://blog.csdn.net/dd864140130/article/details/49817357)\n\n## 简述堆和栈的区别\nVM 中堆和栈属于不同的内存区域，使用目的也不同。栈常用于保存方法帧和局部变量，而对象总是在堆上分配。栈通常都比堆小，也不会在多个线程之间共享，而堆被整个 JVM 的所有线程共享。\n\n## 简述JVM内存分配\n\n 1. 基本数据类型比变量和对象的引用都是在栈分配的\n 2. 堆内存用来存放由new创建的对象和数组\n 3. 类变量（static修饰的变量），程序在一加载的时候就在堆中为类变量分配内存，堆中的内存地址存放在栈中\n 4. 实例变量：当你使用java关键字new的时候，系统在堆中开辟并不一定是连续的空间分配给变量，是根据零散的堆内存地址，通过哈希算法换算为一长串数字以表征这个变量在堆中的\"物理位置”,实例变量的生命周期--当实例变量的引用丢失后，将被GC（垃圾回收器）列入可回收“名单”中，但并不是马上就释放堆中内存\n 5. 局部变量: 由声明在某方法，或某代码段里（比如for循环），执行到它的时候在栈中开辟内存，当局部变量一但脱离作用域，内存立即释放\n\n\n\n----------\n\n\n#其他\n## java当中采用的是大端还是小端?\n\n## XML解析的几种方式和特点\nDOM,SAX,PULL三种解析方式:\n\n - DOM:消耗内存：先把xml文档都读到内存中，然后再用DOM API来访问树形结构，并获取数据。这个写起来很简单，但是很消耗内存。要是数据过大，手机不够牛逼，可能手机直接死机\n - SAX:解析效率高，占用内存少，基于事件驱动的：更加简单地说就是对文档进行顺序扫描，当扫描到文档(document)开始与结束、元素(element)开始与结束、文档(document)结束等地方时通知事件处理函数，由事件处理函数做相应动作，然后继续同样的扫描，直至文档结束。\n - PULL:与 SAX 类似，也是基于事件驱动，我们可以调用它的next（）方法，来获取下一个解析事件（就是开始文档，结束文档，开始标签，结束标签），当处于某个元素时可以调用XmlPullParser的getAttributte()方法来获取属性的值，也可调用它的nextText()获取本节点的值。\n \n\n\n## JDK 1.7特性\n然 JDK 1.7 不像 JDK 5 和 8 一样的大版本，但是，还是有很多新的特性，如 try-with-resource 语句，这样你在使用流或者资源的时候，就不需要手动关闭，Java 会自动关闭。Fork-Join 池某种程度上实现 Java 版的 Map-reduce。允许 Switch 中有 String 变量和文本。菱形操作符(\\<\\>)用于类型推断，不再需要在变量声明的右边申明泛型，因此可以写出可读写更强、更简洁的代码\n## JDK 1.8特性\njava 8 在 Java 历史上是一个开创新的版本，下面 JDK 8 中 5 个主要的特性：\nLambda 表达式，允许像对象一样传递匿名函数\nStream API，充分利用现代多核 CPU，可以写出很简洁的代码\nDate 与 Time API，最终，有一个稳定、简单的日期和时间库可供你使用\n扩展方法，现在，接口中可以有静态、默认方法。\n重复注解，现在你可以将相同的注解在同一类型上使用多次。\n\n## Maven和ANT有什么区别?\n虽然两者都是构建工具，都用于创建 Java 应用，但是 Maven 做的事情更多，在基于“约定优于配置”的概念下，提供标准的Java 项目结构，同时能为应用自动管理依赖（应用中所依赖的 JAR 文件），Maven 与 ANT 工具更多的不同之处请参见答案。\n这就是所有的面试题，如此之多，是不是？我可以保证，如果你能回答列表中的所有问题，你就可以很轻松的应付任何核心 Java 或者高级 Java 面试。虽然，这里没有涵盖 Servlet、JSP、JSF、JPA，JMS，EJB 及其它 Java EE 技术，也没有包含主流的框架如 spring MVC，Struts 2.0，hibernate，也没有包含 SOAP 和 RESTful web service，但是这份列表对做 Java 开发的、准备应聘 Java web 开发职位的人还是同样有用的，因为所有的 Java 面试，开始的问题都是 Java 基础和 JDK API 相关的。如果你认为我这里有任何应该在这份列表中而被我遗漏了的 Java 流行的问题，你可以自由的给我建议。我的目的是从最近的面试中创建一份最新的、最优的 Java 面试问题列表。\n\n## JDBC最佳实践\n - 优先使用批量操作来插入和更新数据\n - 使用PreparedStatement来避免SQL漏洞\n - 使用数据连接池\n - 通过列名来获取结果集\n \n## IO操作最佳实践\n1. 使用有缓冲的IO类,不要单独读取字节或字符\n2. 使用NIO和NIO 2或者AIO,而非BIO\n3. 在finally中关闭流\n4. 使用内存映射文件获取更快的IO\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/Java面试宝典.md","raw":"---\ntitle: Java面试宝典\ndate: 2017-02-20 09:40:15\ntags:\n  - 面试\n  - java\ncategories:\n  - 面试\n  - java\n---\n文章转自：\n[java面试题](http://blog.csdn.net/dd864140130/article/details/55833087)\n\n# Java面试宝典\n\n\n# 相关概念\n## 面向对象的三个特征\n封装,继承,多态.这个应该是人人皆知.有时候也会加上抽象.\n\n\n## 多态的好处\n允许不同类对象对同一消息做出响应,即同一消息可以根据发送对象的不同而采用多种不同的行为方式(发送消息就是函数调用).主要有以下优点:\n\n1. 可替换性:多态对已存在代码具有可替换性.\n2. 可扩充性:增加新的子类不影响已经存在的类结构.\n3. 接口性:多态是超累通过方法签名,想子类提供一个公共接口,由子类来完善或者重写它来实现的.\n4. 灵活性:\n5. 简化性:\n\n### 代码中如何实现多态\n实现多态主要有以下三种方式:\n1. 接口实现\n2. 继承父类重写方法\n3. 同一类中进行方法重载\n<!--more-->\n### 虚拟机是如何实现多态的\n动态绑定技术(dynamic binding),执行期间判断所引用对象的实际类型,根据实际类型调用对应的方法.\n\n\n## 接口的意义\n接口的意义用三个词就可以概括:规范,扩展,回调.\n## 抽象类的意义\n抽象类的意义可以用三句话来概括:\n\n 1. 为其他子类提供一个公共的类型\n 2. 封装子类中重复定义的内容\n 3. 定义抽象方法,子类虽然有不同的实现,但是定义时一致的\n## 接口和抽象类的区别\n\n|比较|抽象类|接口|\n|----|------|----|\n|默认方法|抽象类可以有默认的方法实现|,java 8之前,接口中不存在方法的实现.|\n|实现方式|子类使用extends关键字来继承抽象类.如果子类不是抽象类,子类需要提供抽象类中所声明方法的实现.|子类使用implements来实现接口,需要提供接口中所有声明的实现.\n|构造器|抽象类中可以有构造器,|接口中不能|\n|和正常类区别|抽象类不能被实例化|接口则是完全不同的类型\n|访问修饰符|抽象方法可以有public,protected和default等修饰|接口默认是public,不能使用其他修饰符\n|多继承|一个子类只能存在一个父类|一个子类可以存在多个接口\n|添加新方法|想抽象类中添加新方法,可以提供默认的实现,因此可以不修改子类现有的代码|如果往接口中添加新方法,则子类中需要实现该方法.\n|\n## 父类的静态方法能否被子类重写\n不能.子类继承父类后,有相同的静态方法和非静态,这是非静态方法覆盖父类中的方法(即方法重写),父类的该静态方法被隐藏(如果对象是父类则调用该隐藏的方法),另外子类可集成父类的静态与非静态方法,至于方法重载我觉得它其中一要素就是在同一类中,不能说父类中的什么方法与子类里的什么方法是方法重载的体现.\n\n## 什么是不可变对象\n不可变对象指对象一旦被创建，状态就不能再改变。任何修改都会创建一个新的对象，如 String、Integer及其它包装类。\n\n## 能否创建一个包含可变对象的不可变对象?\n当然可以创建一个包含可变对象的不可变对象的，你只需要谨慎一点，不要共享可变对象的引用就可以了，如果需要变化时，就返回原对象的一个拷贝。最常见的例子就是对象中包含一个日期对象的引用.\n\n## java 创建对象的几种方式\n1. 采用new\n2. 通过反射\n3. 采用clone\n4. 通过序列化机制\n\n前2者都需要显式地调用构造方法.   造成耦合性最高的恰好是第一种,因此你发现无论什么框架,只要涉及到解耦必先减少new的使用.\n\n\n## switch中能否使用string做参数\n在idk 1.7之前,switch只能支持byte,short,char,int或者其对应的封装类以及Enum类型。从idk 1.7之后switch开始支持String.\n\n## Object中有哪些公共方法?\n1. `equals()`\n2. `clone()`\n3. `getClass()`\n4. `notify(),notifyAll(),wait()`\n\n\n## java当中的四种引用\n强引用,软引用,弱引用,虚引用.不同的引用类型主要体现在GC上:\n\n 1. 强引用：如果一个对象具有强引用，它就不会被垃圾回收器回收。即使当前内存空间不足，JVM也不会回收它，而是抛出 OutOfMemoryError 错误，使程序异常终止。如果想中断强引用和某个对象之间的关联，可以显式地将引用赋值为null，这样一来的话，JVM在合适的时间就会回收该对象\n 2. 软引用：在使用软引用时，如果内存的空间足够，软引用就能继续被使用，而不会被垃圾回收器回收，只有在内存不足时，软引用才会被垃圾回收器回收。\n 3. 弱引用：具有弱引用的对象拥有的生命周期更短暂。因为当 JVM 进行垃圾回收，一旦发现弱引用对象，无论当前内存空间是否充足，都会将弱引用回收。不过由于垃圾回收器是一个优先级较低的线程，所以并不一定能迅速发现弱引用对象\n 4. 虚引用：顾名思义，就是形同虚设，如果一个对象仅持有虚引用，那么它相当于没有引用，在任何时候都可能被垃圾回收器回收。\n\n更多了解参见[深入对象引用](http://blog.csdn.net/dd864140130/article/details/49885811)\n\n\n## WeakReference与SoftReference的区别?\n这点在四种引用类型中已经做了解释,这里简单说明一下即可:\n虽然 WeakReference 与 SoftReference 都有利于提高 GC 和 内存的效率，但是 WeakReference ，一旦失去最后一个强引用，就会被 GC 回收，而软引用虽然不能阻止被回收，但是可以延迟到 JVM 内存不足的时候。\n\n## 为什么要有不同的引用类型\n不像C语言,我们可以控制内存的申请和释放,在Java中有时候我们需要适当的控制对象被回收的时机,因此就诞生了不同的引用类型,可以说不同的引用类型实则是对GC回收时机不可控的妥协.有以下几个使用场景可以充分的说明:\n\n 1. 利用软引用和弱引用解决OOM问题：用一个HashMap来保存图片的路径和相应图片对象关联的软引用之间的映射关系，在内存不足时，JVM会自动回收这些缓存图片对象所占用的空间，从而有效地避免了OOM的问题.\n 2. 通过软引用实现Java对象的高速缓存:比如我们创建了一Person的类，如果每次需要查询一个人的信息,哪怕是几秒中之前刚刚查询过的，都要重新构建一个实例，这将引起大量Person对象的消耗,并且由于这些对象的生命周期相对较短,会引起多次GC影响性能。此时,通过软引用和 HashMap 的结合可以构建高速缓存,提供性能.\n\n\n## java中==和`eqauls()`的区别,`equals()`和`hashcode的区别\n==是运算符,用于比较两个变量是否相等,而equals是Object类的方法,用于比较两个对象是否相等.默认Object类的equals方法是比较两个对象的地址,此时和==的结果一样.换句话说:基本类型比较用==,比较的是他们的值.默认下,对象用==比较时,比较的是内存地址,如果需要比较对象内容,需要重写equal方法\n##`equals()`和`hashcode()`的联系\n`hashCode()`是Object类的一个方法,返回一个哈希值.如果两个对象根据equal()方法比较相等,那么调用这两个对象中任意一个对象的hashCode()方法必须产生相同的哈希值.\n如果两个对象根据eqaul()方法比较不相等,那么产生的哈希值不一定相等(碰撞的情况下还是会相等的.)\n\n## a.hashCode()有什么用?与a.equals(b)有什么关系\nhashCode() 方法是相应对象整型的 hash 值。它常用于基于 hash 的集合类，如 Hashtable、HashMap、LinkedHashMap等等。它与 equals() 方法关系特别紧密。根据 Java 规范，两个使用 equal() 方法来判断相等的对象，必须具有相同的 hashcode。\n\n将对象放入到集合中时,首先判断要放入对象的hashcode是否已经在集合中存在,不存在则直接放入集合.如果hashcode相等,然后通过equal()方法判断要放入对象与集合中的任意对象是否相等:如果equal()判断不相等,直接将该元素放入集合中,否则不放入.\n\n## 有没有可能两个不相等的对象有相同的hashcode\n有可能，两个不相等的对象可能会有相同的 hashcode 值，这就是为什么在 hashmap 中会有冲突。相等 hashcode 值的规定只是说如果两个对象相等，必须有相同的hashcode 值，但是没有关于不相等对象的任何规定。\n\n\n## 可以在hashcode中使用随机数字吗?\n不行，因为同一对象的 hashcode 值必须是相同的\n\n## “a==b”与a.equals(b)有什么区别\n如果a 和b 都是对象，则 a==b 是比较两个对象的引用，只有当 a 和 b 指向的是堆中的同一个对象才会返回 true，而 a.equals(b) 是进行逻辑比较，所以通常需要重写该方法来提供逻辑一致性的比较。例如，String 类重写 equals() 方法，所以可以用于两个不同对象，但是包含的字母相同的比较。\n\n##  `3*0.1==0.3`返回值是什么\nfalse，因为有些浮点数不能完全精确的表示出来。\n\n## a=a+b与a+=b有什么区别吗?\n隐式的将加操作的结果类型强制转换为持有结果的类型。如果两这个整型相加，如 byte、short 或者 int，首先会将它们提升到 int 类型，然后在执行加法操作。如果加法操作的结果比 a 的最大值要大，则 a+b 会出现编译错误，但是 a += b 没问题，如下：\nbyte a = 127;\nbyte b = 127;\nb = a + b; // error : cannot convert from int to byte\nb += a; // ok\n（译者注：这个地方应该表述的有误，其实无论 a+b 的值为多少，编译器都会报错，因为 a+b 操作会将 a、b 提升为 int 类型，所以将 int 类型赋值给 byte 就会编译出错）\n\n## 内部类的作用\n内部类可以用多个实例,每个实例都有自己的状态信息,并且与其他外围对象的信息相互独立.在单个外围类当中,可以让多个内部类以不同的方式实现同一接口,或者继承同一个类.创建内部类对象的时刻病不依赖于外部类对象的创建.内部类并没有令人疑惑的”is-a”关系,它就像是一个独立的实体.\n\n内部类提供了更好的封装,除了该外围类,其他类都不能访问\n\n\n## final,finalize和finally的不同之处\nfinal 是一个修饰符，可以修饰变量、方法和类。如果 final 修饰变量，意味着该变量的值在初始化后不能被改变。finalize 方法是在对象被回收之前调用的方法，给对象自己最后一个复活的机会，但是什么时候调用 finalize 没有保证。finally 是一个关键字，与 try 和 catch 一起用于异常的处理。finally 块一定会被执行，无论在 try 块中是否有发生异常。\n\n## clone()是哪个类型的方法?\njava.lang.Cloneable 是一个标示性接口，不包含任何方法，clone 方法在 object 类中定义。并且需要知道 clone() 方法是一个本地方法，这意味着它是由 c 或 c++ 或 其他本地语言实现的。\n\n## 深拷贝和浅拷贝的区别是什么?\n浅拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而所有的对其他对象的引用仍然指向原来的对象。换言之，浅拷贝仅仅复制所考虑的对象，而不复制它所引用的对象。\n\n深拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而那些引用其他对象的变量将指向被复制过的新对象，而不再是原有的那些被引用的对象。换言之，深拷贝把要复制的对象所引用的对象都复制了一遍。\n\n## static都有哪些用法?\n几乎所有的人都知道static关键字这两个基本的用法:静态变量和静态方法.也就是被static所修饰的变量/方法都属于类的静态资源,类实例所共享.\n\n除了静态变量和静态方法之外,static也用于静态块,多用于初始化操作:\n```java\npublic calss PreCache{\n    static{\n        //执行相关操作\n    }\n}\n```\n此外static也多用于修饰内部类,此时称之为静态内部类.\n\n最后一种用法就是静态导包,即`import static`.import static是在JDK 1.5之后引入的新特性,可以用来指定导入某个类中的静态资源,并且不需要使用类名.资源名,可以直接使用资源名,比如:\n```java\nimport static java.lang.Math.*;\n\npublic class Test{\n\n    public static void main(String[] args){\n        //System.out.println(Math.sin(20));传统做法\n        System.out.println(sin(20));\n    }\n}\n\n```\n\n## final有哪些用法\nfinal也是很多面试喜欢问的地方,能回答下以下三点就不错了:\n1.被final修饰的类不可以被继承\n2.被final修饰的方法不可以被重写\n3.被final修饰的变量不可以被改变.如果修饰的引用,那么表示引用不可变,引用指向的内容可变.\n4.被final修饰的方法,JVM会尝试将其内联,以提高运行效率\n5.被final修饰的常量,在编译阶段会存入常量池中.\n\n当前回答出编译器对final域要遵守的两个重排序规则更好:\n1.在构造函数内对一个final域的写入,与随后把这个被构造对象的引用赋值给一个引用变量,这两个操作之间不能重排序.\n2.初次读一个包含final域的对象的引用,与随后初次读这个final域,这两个操作之间不能重排序.\n\n\n\n\n----------\n\n\n#数据类型相关\n## java中int char,long各占多少字节?\n|类型|位数|字节数|\n|-|-|-|\n|short|2|16|\n|int|4|32|\n|long|8|64|\n|float|4|32\n|double|8|64|\n|char|2|16|\n\n## 64位的JVM当中,int的长度是多少?\nJava 中，int 类型变量的长度是一个固定值，与平台无关，都是 32 位。意思就是说，在 32 位 和 64 位 的Java 虚拟机中，int 类型的长度是相同的。\n\n## java int和Integer的区别\nInteger是int的包装类型,在拆箱和装箱中,而知自动转换.int是基本类型，直接存数值，而integer是对象，用一个引用指向这个对象.\n\n## int 和Integer谁占用的内存更多?\nInteger 对象会占用更多的内存。Integer是一个对象，需要存储对象的元数据。但是 int 是一个原始类型的数据，所以占用的空间更少。\n\n## String,StringBuffer和StringBuilder区别\nString是字符串常量,final修饰;StringBuffer字符串变量(线程安全);\nStringBuilder 字符串变量(线程不安全).\n\n\n### String和StringBuffer\nString和StringBuffer主要区别是性能:String是不可变对象,每次对String类型进行操作都等同于产生了一个新的String对象,然后指向新的String对象.所以尽量不在对String进行大量的拼接操作,否则会产生很多临时对象,导致GC开始工作,影响系统性能.\n\nStringBuffer是对对象本身操作,而不是产生新的对象,因此在通常在有大量拼接的情况下我们建议使用StringBuffer.\n\n但是需要注意现在JVM会对String拼接做一定的优化:\n`String s=“This is only ”+”simple”+”test”`会被虚拟机直接优化成`String s=“This is only simple test”`,此时就不存在拼接过程.\n \n### StringBuffer和StringBuilder\nStringBuffer是线程安全的可变字符串,其内部实现是可变数组.StringBuilder是java 5.0新增的,其功能和StringBuffer类似,但是非线程安全.因此,在没有多线程问题的前提下,使用StringBuilder会取得更好的性能.\n\n\n\n## 什么是编译器常量?使用它有什么风险?\n公共静态不可变（public static final ）变量也就是我们所说的编译期常量，这里的 public 可选的。实际上这些变量在编译时会被替换掉，因为编译器知道这些变量的值，并且知道这些变量在运行时不能改变。这种方式存在的一个问题是你使用了一个内部的或第三方库中的公有编译时常量，但是这个值后面被其他人改变了，但是你的客户端仍然在使用老的值，甚至你已经部署了一个新的jar。为了避免这种情况，当你在更新依赖 JAR 文件时，确保重新编译你的程序。\n## java当中使用什么类型表示价格比较好?\n如果不是特别关心内存和性能的话，使用BigDecimal，否则使用预定义精度的 double 类型。\n\n## 如何将byte转为String\n可以使用 String 接收 byte[] 参数的构造器来进行转换，需要注意的点是要使用的正确的编码，否则会使用平台默认编码，这个编码可能跟原来的编码相同，也可能不同。\n\n\n## 可以将int强转为byte类型么?会产生什么问题?\n我们可以做强制转换，但是Java中int是32位的而byte是8 位的，所以,如果强制转化int类型的高24位将会被丢弃，byte 类型的范围是从-128.到128\n\n\n----------\n\n## 关于垃圾回收\n\n## 你知道哪些垃圾回收算法?\n垃圾回收从理论上非常容易理解,具体的方法有以下几种:\n 1. 标记-清除\n 2. 标记-复制\n 3. 标记-整理\n 4. 分代回收\n 更详细的内容参见[深入理解垃圾回收算法](http://blog.csdn.net/dd864140130/article/details/50084471)\n\n##如何判断一个对象是否应该被回收\n这就是所谓的对象存活性判断,常用的方法有两种:1.引用计数法;2:对象可达性分析.由于引用计数法存在互相引用导致无法进行GC的问题,所以目前JVM虚拟机多使用对象可达性分析算法.\n\n##简单的解释一下垃圾回收\nJava 垃圾回收机制最基本的做法是分代回收。内存中的区域被划分成不同的世代，对象根据其存活的时间被保存在对应世代的区域中。一般的实现是划分成3个世代：年轻、年老和永久。内存的分配是发生在年轻世代中的。当一个对象存活时间足够长的时候，它就会被复制到年老世代中。对于不同的世代可以使用不同的垃圾回收算法。进行世代划分的出发点是对应用中对象存活时间进行研究之后得出的统计规律。一般来说，一个应用中的大部分对象的存活时间都很短。比如局部变量的存活时间就只在方法的执行过程中。基于这一点，对于年轻世代的垃圾回收算法就可以很有针对性.\n\n\n\n\n## 调用System.gc()会发生什么?\n通知GC开始工作,但是GC真正开始的时间不确定.\n\n----------\n\n\n# 进程,线程相关\n## 说说进程,线程,协程之间的区别\n简而言之,进程是程序运行和资源分配的基本单位,一个程序至少有一个进程,一个进程至少有一个线程.进程在执行过程中拥有独立的内存单元,而多个线程共享内存资源,减少切换次数,从而效率更高.线程是进程的一个实体,是cpu调度和分派的基本单位,是比程序更小的能独立运行的基本单位.同一进程中的多个线程之间可以并发执行.\n\n## 你了解守护线程吗?它和非守护线程有什么区别\n程序运行完毕,jvm会等待非守护线程完成后关闭,但是jvm不会等待守护线程.守护线程最典型的例子就是GC线程\n## 什么是多线程上下文切换\n多线程的上下文切换是指CPU控制权由一个已经正在运行的线程切换到另外一个就绪并等待获取CPU执行权的线程的过程。\n\n## 创建两种线程的方式?他们有什么区别?\n通过实现java.lang.Runnable或者通过扩展java.lang.Thread类.相比扩展Thread,实现Runnable接口可能更优.原因有二:\n\n 1. Java不支持多继承.因此扩展Thread类就代表这个子类不能扩展其他类.而实现Runnable接口的类还可能扩展另一个类.\n 2. 类可能只要求可执行即可,因此集成整个Thread类的开销过大.\n\n## Runnable和Callable的区别\nRunnable接口中的run()方法的返回值是void，它做的事情只是纯粹地去执行run()方法中的代码而已；Callable接口中的call()方法是有返回值的，是一个泛型，和Future、FutureTask配合可以用来获取异步执行的结果。\n这其实是很有用的一个特性，因为多线程相比单线程更难、更复杂的一个重要原因就是因为多线程充满着未知性，某条线程是否执行了？某条线程执行了多久？某条线程执行的时候我们期望的数据是否已经赋值完毕？无法得知，我们能做的只是等待这条多线程的任务执行完毕而已。而Callable+Future/FutureTask却可以获取多线程运行的结果，可以在等待时间太长没获取到需要的数据的情况下取消该线程的任务，真的是非常有用。\n\n## 什么导致线程阻塞\n阻塞指的是暂停一个线程的执行以等待某个条件发生（如某资源就绪），学过操作系统的同学对它一定已经很熟悉了。Java 提供了大量方法来支持阻塞，下面让我们逐一分析。\n\n|方法|说明|\n|---|----|\n|sleep()|sleep() 允许 指定以毫秒为单位的一段时间作为参数，它使得线程在指定的时间内进入阻塞状态，不能得到CPU 时间，指定的时间一过，线程重新进入可执行状态。 典型地，sleep() 被用在等待某个资源就绪的情形：测试发现条件不满足后，让线程阻塞一段时间后重新测试，直到条件满足为止|\n|suspend() 和 resume()|两个方法配套使用，suspend()使得线程进入阻塞状态，并且不会自动恢复，必须其对应的resume() 被调用，才能使得线程重新进入可执行状态。典型地，suspend() 和 resume() 被用在等待另一个线程产生的结果的情形：测试发现结果还没有产生后，让线程阻塞，另一个线程产生了结果后，调用 resume() 使其恢复。|\n|yield() |yield() 使得线程放弃当前分得的 CPU 时间，但是不使线程阻塞，即线程仍处于可执行状态，随时可能再次分得 CPU 时间。调用 yield() 的效果等价于调度程序认为该线程已执行了足够的时间从而转到另一个线程|\n|wait() 和 notify()|两个方法配套使用，wait() 使得线程进入阻塞状态，它有两种形式，一种允许 指定以毫秒为单位的一段时间作为参数，另一种没有参数，前者当对应的 notify() 被调用或者超出指定时间时线程重新进入可执行状态，后者则必须对应的 notify() 被调用.|\n\n## wait(),notify()和suspend(),resume()之间的区别\n初看起来它们与 suspend() 和 resume() 方法对没有什么分别，但是事实上它们是截然不同的。区别的核心在于，前面叙述的所有方法，阻塞时都不会释放占用的锁（如果占用了的话），而这一对方法则相反。上述的核心区别导致了一系列的细节上的区别。\n\n首先，前面叙述的所有方法都隶属于 Thread 类，但是这一对却直接隶属于 Object 类，也就是说，所有对象都拥有这一对方法。初看起来这十分不可思议，但是实际上却是很自然的，因为这一对方法阻塞时要释放占用的锁，而锁是任何对象都具有的，调用任意对象的 wait() 方法导致线程阻塞，并且该对象上的锁被释放。而调用 任意对象的notify()方法则导致因调用该对象的 wait() 方法而阻塞的线程中随机选择的一个解除阻塞（但要等到获得锁后才真正可执行）。\n\n其次，前面叙述的所有方法都可在任何位置调用，但是这一对方法却必须在 synchronized 方法或块中调用，理由也很简单，只有在synchronized 方法或块中当前线程才占有锁，才有锁可以释放。同样的道理，调用这一对方法的对象上的锁必须为当前线程所拥有，这样才有锁可以释放。因此，这一对方法调用必须放置在这样的 synchronized 方法或块中，该方法或块的上锁对象就是调用这一对方法的对象。若不满足这一条件，则程序虽然仍能编译，但在运行时会出现IllegalMonitorStateException 异常。\n\nwait() 和 notify() 方法的上述特性决定了它们经常和synchronized 方法或块一起使用，将它们和操作系统的进程间通信机制作一个比较就会发现它们的相似性：synchronized方法或块提供了类似于操作系统原语的功能，它们的执行不会受到多线程机制的干扰，而这一对方法则相当于 block 和wakeup 原语（这一对方法均声明为 synchronized）。它们的结合使得我们可以实现操作系统上一系列精妙的进程间通信的算法（如信号量算法），并用于解决各种复杂的线程间通信问题。\n\n关于 wait() 和 notify() 方法最后再说明两点：\n第一：调用 notify() 方法导致解除阻塞的线程是从因调用该对象的 wait() 方法而阻塞的线程中随机选取的，我们无法预料哪一个线程将会被选择，所以编程时要特别小心，避免因这种不确定性而产生问题。\n\n第二：除了 notify()，还有一个方法 notifyAll() 也可起到类似作用，唯一的区别在于，调用 notifyAll() 方法将把因调用该对象的 wait() 方法而阻塞的所有线程一次性全部解除阻塞。当然，只有获得锁的那一个线程才能进入可执行状态。\n\n谈到阻塞，就不能不谈一谈死锁，略一分析就能发现，suspend() 方法和不指定超时期限的 wait() 方法的调用都可能产生死锁。遗憾的是，Java 并不在语言级别上支持死锁的避免，我们在编程中必须小心地避免死锁。\n\n以上我们对 Java 中实现线程阻塞的各种方法作了一番分析，我们重点分析了 wait() 和 notify() 方法，因为它们的功能最强大，使用也最灵活，但是这也导致了它们的效率较低，较容易出错。实际使用中我们应该灵活使用各种方法，以便更好地达到我们的目的。\n\n## 为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用\n这是JDK强制的，wait()方法和notify()/notifyAll()方法在调用前都必须先获得对象的锁\n\n## wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别\nwait()方法和notify()/notifyAll()方法在放弃对象监视器的时候的区别在于：wait()方法立即释放对象监视器，notify()/notifyAll()方法则会等待线程剩余代码执行完毕才会放弃对象监视器。\n\n## wait()与sleep()的区别\n\n 关于这两者已经在上面进行详细的说明,这里就做个概括好了:\n\n - sleep()来自Thread类，和wait()来自Object类.调用sleep()方法的过程中，线程不会释放对象锁。而 调用 wait 方法线程会释放对象锁\n - sleep()睡眠后不出让系统资源，wait让其他线程可以占用CPU\n - sleep(milliseconds)需要指定一个睡眠时间，时间一到会自动唤醒.而wait()需要配合notify()或者notifyAll()使用\n\n## synchronized和ReentrantLock的区别\nsynchronized是和if、else、for、while一样的关键字，ReentrantLock是类，这是二者的本质区别。既然ReentrantLock是类，那么它就提供了比synchronized更多更灵活的特性，可以被继承、可以有方法、可以有各种各样的类变量，ReentrantLock比synchronized的扩展性体现在几点上：\n（1）ReentrantLock可以对获取锁的等待时间进行设置，这样就避免了死锁\n（2）ReentrantLock可以获取各种锁的信息\n（3）ReentrantLock可以灵活地实现多路通知\n另外，二者的锁机制其实也是不一样的:ReentrantLock底层调用的是Unsafe的park方法加锁，synchronized操作的应该是对象头中mark word.\n\n## FutureTask是什么\n这个其实前面有提到过，FutureTask表示一个异步运算的任务。FutureTask里面可以传入一个Callable的具体实现类，可以对这个异步运算的任务的结果进行等待获取、判断是否已经完成、取消任务等操作。当然，由于FutureTask也是Runnable接口的实现类，所以FutureTask也可以放入线程池中。\n\n## 一个线程如果出现了运行时异常怎么办?\n如果这个异常没有被捕获的话，这个线程就停止执行了。另外重要的一点是：如果这个线程持有某个某个对象的监视器，那么这个对象监视器会被立即释放\n\n\n## 如何在两个线程间共享数据\n通过在线程之间共享对象就可以了，然后通过wait/notify/notifyAll、await/signal/signalAll进行唤起和等待，比方说阻塞队列BlockingQueue就是为线程之间共享数据而设计的\n\n## 如何正确的使用wait()?使用if还是while?\nwait() 方法应该在循环调用，因为当线程获取到 CPU 开始执行的时候，其他条件可能还没有满足，所以在处理前，循环检测条件是否满足会更好。下面是一段标准的使用 wait 和 notify 方法的代码：\n```\n synchronized (obj) {\n    while (condition does not hold)\n      obj.wait(); // (Releases lock, and reacquires on wakeup)\n      ... // Perform action appropriate to condition\n }\n```\n\n\n## 什么是线程局部变量\n线程局部变量是局限于线程内部的变量，属于线程自身所有，不在多个线程间共享。Java提供ThreadLocal类来支持线程局部变量，是一种实现线程安全的方式。但是在管理环境下（如 web 服务器）使用线程局部变量的时候要特别小心，在这种情况下，工作线程的生命周期比任何应用变量的生命周期都要长。任何线程局部变量一旦在工作完成后没有释放，Java 应用就存在内存泄露的风险。\n\n## ThreadLoal的作用是什么?\n简单说ThreadLocal就是一种以空间换时间的做法在每个Thread里面维护了一个ThreadLocal.ThreadLocalMap把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了.\n\n## 生产者消费者模型的作用是什么?\n（1）通过平衡生产者的生产能力和消费者的消费能力来提升整个系统的运行效率，这是生产者消费者模型最重要的作用\n（2）解耦，这是生产者消费者模型附带的作用，解耦意味着生产者和消费者之间的联系少，联系越少越可以独自发展而不需要收到相互的制约\n\n## 写一个生产者-消费者队列\n可以通过阻塞队列实现,也可以通过wait-notify来实现.\n\n### 使用阻塞队列来实现\n```\n//消费者\npublic class Producer implements Runnable{\n    private final BlockingQueue<Integer> queue;\n\n    public Producer(BlockingQueue q){\n        this.queue=q;\n    }\n\n    @Override\n    public void run() {\n        try {\n            while (true){\n                Thread.sleep(1000);//模拟耗时\n                queue.put(produce());\n            }\n        }catch (InterruptedException e){\n\n        }\n    }\n\n    private int produce() {\n        int n=new Random().nextInt(10000);\n        System.out.println(\"Thread:\" + Thread.currentThread().getId() + \" produce:\" + n);\n        return n;\n    }\n}\n//消费者\npublic class Consumer implements Runnable {\n    private final BlockingQueue<Integer> queue;\n\n    public Consumer(BlockingQueue q){\n        this.queue=q;\n    }\n\n    @Override\n    public void run() {\n        while (true){\n            try {\n                Thread.sleep(2000);//模拟耗时\n                consume(queue.take());\n            }catch (InterruptedException e){\n\n            }\n\n        }\n    }\n\n    private void consume(Integer n) {\n        System.out.println(\"Thread:\" + Thread.currentThread().getId() + \" consume:\" + n);\n\n    }\n}\n//测试\npublic class Main {\n\n    public static void main(String[] args) {\n        BlockingQueue<Integer> queue=new ArrayBlockingQueue<Integer>(100);\n        Producer p=new Producer(queue);\n        Consumer c1=new Consumer(queue);\n        Consumer c2=new Consumer(queue);\n\n        new Thread(p).start();\n        new Thread(c1).start();\n        new Thread(c2).start();\n    }\n}\n\n```\n### 使用wait-notify来实现\n该种方式应该最经典,这里就不做说明了\n\n\n## ConcurrentHashMap的并发度是什么?\nConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势，任何情况下，Hashtable能同时有两条线程获取Hashtable中的数据吗？\n\n## CyclicBarrier和CountDownLatch区别\n这两个类非常类似，都在java.util.concurrent下，都可以用来表示代码运行到某个点上，二者的区别在于：\n\n - CyclicBarrier的某个线程运行到某个点上之后，该线程即停止运行，直到所有的线程都到达了这个点，所有线程才重新运行；CountDownLatch则不是，某线程运行到某个点上之后，只是给某个数值-1而已，该线程继续运行\n - CyclicBarrier只能唤起一个任务，CountDownLatch可以唤起多个任务\n - CyclicBarrier可重用，CountDownLatch不可重用，计数值为0该CountDownLatch就不可再用了\n \n## java中的++操作符线程安全么?\n不是线程安全的操作。它涉及到多个指令，如读取变量值，增加，然后存储回内存，这个过程可能会出现多个线程交差\n\n## 你有哪些多线程开发良好的实践?\n1. 给线程命名\n2. 最小化同步范围\n3. 优先使用volatile\n4. 尽可能使用更高层次的并发工具而非wait和notify()来实现线程通信,如BlockingQueue,Semeaphore\n5. 优先使用并发容器而非同步容器.\n6. 考虑使用线程池\n\n\n----------\n#关于volatile关键字\n## 可以创建Volatile数组吗?\nJava 中可以创建 volatile类型数组，不过只是一个指向数组的引用，而不是整个数组。如果改变引用指向的数组，将会受到volatile 的保护，但是如果多个线程同时改变数组的元素，volatile标示符就不能起到之前的保护作用了\n\n## volatile能使得一个非原子操作变成原子操作吗?\n一个典型的例子是在类中有一个 long 类型的成员变量。如果你知道该成员变量会被多个线程访问，如计数器、价格等，你最好是将其设置为 volatile。为什么？因为 Java 中读取 long 类型变量不是原子的，需要分成两步，如果一个线程正在修改该 long 变量的值，另一个线程可能只能看到该值的一半（前 32 位）。但是对一个 volatile 型的 long 或 double 变量的读写是原子。\n\n一种实践是用 volatile 修饰 long 和 double 变量，使其能按原子类型来读写。double 和 long 都是64位宽，因此对这两种类型的读是分为两部分的，第一次读取第一个 32 位，然后再读剩下的 32 位，这个过程不是原子的，但 Java 中 volatile 型的 long 或 double 变量的读写是原子的。volatile 修复符的另一个作用是提供内存屏障（memory barrier），例如在分布式框架中的应用。简单的说，就是当你写一个 volatile 变量之前，Java 内存模型会插入一个写屏障（write barrier），读一个 volatile 变量之前，会插入一个读屏障（read barrier）。意思就是说，在你写一个 volatile 域时，能保证任何线程都能看到你写的值，同时，在写之前，也能保证任何数值的更新对所有线程是可见的，因为内存屏障会将其他所有写的值更新到缓存。\n\n## volatile类型变量提供什么保证?\nvolatile 主要有两方面的作用:1.避免指令重排2.可见性保证.例如，JVM 或者 JIT为了获得更好的性能会对语句重排序，但是 volatile 类型变量即使在没有同步块的情况下赋值也不会与其他语句重排序。 volatile 提供 happens-before 的保证，确保一个线程的修改能对其他线程是可见的。某些情况下，volatile 还能提供原子性，如读 64 位数据类型，像 long 和 double 都不是原子的(低32位和高32位)，但 volatile 类型的 double 和 long 就是原子的.\n\n\n----------\n#关于集合\n\n## Java中的集合及其继承关系\n关于集合的体系是每个人都应该烂熟于心的,尤其是对我们经常使用的List,Map的原理更该如此.这里我们看这张图即可:\n![这里写图片描述](http://img.blog.csdn.net/20141105193133812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZGQ4NjQxNDAxMzA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)\n\n更多内容可见[集合类总结](http://write.blog.csdn.net/postedit/40826423)\n\n## poll()方法和remove()方法区别?\npoll() 和 remove() 都是从队列中取出一个元素，但是 poll() 在获取元素失败的时候会返回空，但是 remove() 失败的时候会抛出异常。\n\n## LinkedHashMap和PriorityQueue的区别\nPriorityQueue 是一个优先级队列,保证最高或者最低优先级的的元素总是在队列头部，但是 LinkedHashMap 维持的顺序是元素插入的顺序。当遍历一个 PriorityQueue 时，没有任何顺序保证，但是 LinkedHashMap 课保证遍历顺序是元素插入的顺序。\n\n## WeakHashMap与HashMap的区别是什么?\nWeakHashMap 的工作与正常的 HashMap 类似，但是使用弱引用作为 key，意思就是当 key 对象没有任何引用时，key/value 将会被回收。\n\n## ArrayList和LinkedList的区别?\n最明显的区别是 ArrrayList底层的数据结构是数组，支持随机访问，而 LinkedList 的底层数据结构是双向循环链表，不支持随机访问。使用下标访问一个元素，ArrayList 的时间复杂度是 O(1)，而 LinkedList 是 O(n)。\n\n## ArrayList和HashMap默认大小?\n在 Java 7 中，ArrayList 的默认大小是 10 个元素，HashMap 的默认大小是16个元素（必须是2的幂）。这就是 Java 7 中 ArrayList 和 HashMap 类的代码片段\n```\nprivate static final int DEFAULT_CAPACITY = 10;\n \n //from HashMap.java JDK 7\n static final int DEFAULT_INITIAL_CAPACITY = 1 << 4; // aka 16\n```\n\n## Comparator和Comparable的区别?\nComparable 接口用于定义对象的自然顺序，而 comparator 通常用于定义用户定制的顺序。Comparable 总是只有一个，但是可以有多个 comparator 来定义对象的顺序。\n\n## 如何实现集合排序?\n你可以使用有序集合，如 TreeSet 或 TreeMap，你也可以使用有顺序的的集合，如 list，然后通过 Collections.sort() 来排序。\n\n## 如何打印数组内容\n你可以使用 Arrays.toString() 和 Arrays.deepToString() 方法来打印数组。由于数组没有实现 toString() 方法，所以如果将数组传递给 System.out.println() 方法，将无法打印出数组的内容，但是 Arrays.toString() 可以打印每个元素。\n\n## LinkedList的是单向链表还是双向?\n双向循环列表,具体实现自行查阅源码.\n\n## TreeMap是实现原理\n采用红黑树实现,具体实现自行查阅源码.\n\n## 遍历ArrayList时如何正确移除一个元素\n该问题的关键在于面试者使用的是 ArrayList 的 remove() 还是 Iterator 的 remove()方法。这有一段示例代码，是使用正确的方式来实现在遍历的过程中移除元素，而不会出现 ConcurrentModificationException 异常的示例代码。\n\n\n## 什么是ArrayMap?它和HashMap有什么区别?\nArrayMap是Android SDK中提供的,非Android开发者可以略过.\nArrayMap是用两个数组来模拟map,更少的内存占用空间,更高的效率.\n具体参考这篇文章:[ArrayMap VS HashMap](http://lvable.com/?p=217%5D)\n\n\n## HashMap的实现原理\n1   HashMap概述：  HashMap是基于哈希表的Map接口的非同步实现。此实现提供所有可选的映射操作，并允许使用null值和null键。此类不保证映射的顺序，特别是它不保证该顺序恒久不变。\n2   HashMap的数据结构： 在java编程语言中，最基本的结构就是两种，一个是数组，另外一个是模拟指针（引用），所有的数据结构都可以用这两个基本结构来构造的，HashMap也不例外。HashMap实际上是一个“链表散列”的数据结构，即数组和链表的结合体。\n\n当我们往Hashmap中put元素时,首先根据key的hashcode重新计算hash值,根绝hash值得到这个元素在数组中的位置(下标),如果该数组在该位置上已经存放了其他元素,那么在这个位置上的元素将以链表的形式存放,新加入的放在链头,最先加入的放入链尾.如果数组中该位置没有元素,就直接将该元素放到数组的该位置上.\n\n\n## 你了解Fail-Fast机制吗\nFail-Fast即我们常说的快速失败,更多内容参看[fail-fast机制](http://blog.csdn.net/chenssy/article/details/38151189)\n\n\n----------\n\n\n# 关于日期\n## SimpleDateFormat是线程安全的吗?\n非常不幸，DateFormat 的所有实现，包括 SimpleDateFormat 都不是线程安全的，因此你不应该在多线程序中使用，除非是在对外线程安全的环境中使用，如 将 SimpleDateFormat 限制在 ThreadLocal 中。如果你不这么做，在解析或者格式化日期的时候，可能会获取到一个不正确的结果。因此，从日期、时间处理的所有实践来说，我强力推荐 joda-time 库。\n\n## 如何格式化日期?\nJava 中，可以使用 SimpleDateFormat 类或者 joda-time 库来格式日期。DateFormat 类允许你使用多种流行的格式来格式化日期。参见答案中的示例代码，代码中演示了将日期格式化成不同的格式，如 dd-MM-yyyy 或 ddMMyyyy。\n\n\n\n----------\n\n\n# 关于异常\n## 简单描述java异常体系\n相比没有人不了解异常体系,关于异常体系的更多信息可以见:[白话异常机制](http://blog.csdn.net/dd864140130/article/details/42504189)\n\n## 什么是异常链\n详情直接参见[白话异常机制](http://blog.csdn.net/dd864140130/article/details/42504189),不做解释了.\n\n## throw和throws的区别\nthrow用于主动抛出java.lang.Throwable 类的一个实例化对象，意思是说你可以通过关键字 throw 抛出一个 Error 或者 一个Exception，如：`throw new IllegalArgumentException(“size must be multiple of 2″)`,\n而throws 的作用是作为方法声明和签名的一部分，方法被抛出相应的异常以便调用者能处理。Java 中，任何未处理的受检查异常强制在 throws 子句中声明。\n\n\n----------\n\n## 关于序列化\n\n## Java 中，Serializable 与 Externalizable 的区别\nSerializable 接口是一个序列化 Java 类的接口，以便于它们可以在网络上传输或者可以将它们的状态保存在磁盘上，是 JVM 内嵌的默认序列化方式，成本高、脆弱而且不安全。Externalizable 允许你控制整个序列化过程，指定特定的二进制格式，增加安全机制。\n\n\n----------\n\n#关于JVM\n\n## JVM特性\n平台无关性.\nJava语言的一个非常重要的特点就是与平台的无关性。而使用Java虚拟机是实现这一特点的关键。一般的高级语言如果要在不同的平台上运行，至少需要编译成不同的目标代码。而引入Java语言虚拟机后，Java语言在不同平台上运行时不需要重新编译。Java语言使用模式Java虚拟机屏蔽了与具体平台相关的信息，使得Java语言编译程序只需生成在Java虚拟机上运行的目标代码（字节码），就可以在多种平台上不加修改地运行。Java虚拟机在执行字节码时，把字节码解释成具体平台上的机器指令执行。\n\n## 简单解释一下类加载器\n有关类加载器一般会问你四种类加载器的应用场景以及双亲委派模型,更多的内容参看[深入理解JVM加载器](http://blog.csdn.net/dd864140130/article/details/49817357)\n\n## 简述堆和栈的区别\nVM 中堆和栈属于不同的内存区域，使用目的也不同。栈常用于保存方法帧和局部变量，而对象总是在堆上分配。栈通常都比堆小，也不会在多个线程之间共享，而堆被整个 JVM 的所有线程共享。\n\n## 简述JVM内存分配\n\n 1. 基本数据类型比变量和对象的引用都是在栈分配的\n 2. 堆内存用来存放由new创建的对象和数组\n 3. 类变量（static修饰的变量），程序在一加载的时候就在堆中为类变量分配内存，堆中的内存地址存放在栈中\n 4. 实例变量：当你使用java关键字new的时候，系统在堆中开辟并不一定是连续的空间分配给变量，是根据零散的堆内存地址，通过哈希算法换算为一长串数字以表征这个变量在堆中的\"物理位置”,实例变量的生命周期--当实例变量的引用丢失后，将被GC（垃圾回收器）列入可回收“名单”中，但并不是马上就释放堆中内存\n 5. 局部变量: 由声明在某方法，或某代码段里（比如for循环），执行到它的时候在栈中开辟内存，当局部变量一但脱离作用域，内存立即释放\n\n\n\n----------\n\n\n#其他\n## java当中采用的是大端还是小端?\n\n## XML解析的几种方式和特点\nDOM,SAX,PULL三种解析方式:\n\n - DOM:消耗内存：先把xml文档都读到内存中，然后再用DOM API来访问树形结构，并获取数据。这个写起来很简单，但是很消耗内存。要是数据过大，手机不够牛逼，可能手机直接死机\n - SAX:解析效率高，占用内存少，基于事件驱动的：更加简单地说就是对文档进行顺序扫描，当扫描到文档(document)开始与结束、元素(element)开始与结束、文档(document)结束等地方时通知事件处理函数，由事件处理函数做相应动作，然后继续同样的扫描，直至文档结束。\n - PULL:与 SAX 类似，也是基于事件驱动，我们可以调用它的next（）方法，来获取下一个解析事件（就是开始文档，结束文档，开始标签，结束标签），当处于某个元素时可以调用XmlPullParser的getAttributte()方法来获取属性的值，也可调用它的nextText()获取本节点的值。\n \n\n\n## JDK 1.7特性\n然 JDK 1.7 不像 JDK 5 和 8 一样的大版本，但是，还是有很多新的特性，如 try-with-resource 语句，这样你在使用流或者资源的时候，就不需要手动关闭，Java 会自动关闭。Fork-Join 池某种程度上实现 Java 版的 Map-reduce。允许 Switch 中有 String 变量和文本。菱形操作符(\\<\\>)用于类型推断，不再需要在变量声明的右边申明泛型，因此可以写出可读写更强、更简洁的代码\n## JDK 1.8特性\njava 8 在 Java 历史上是一个开创新的版本，下面 JDK 8 中 5 个主要的特性：\nLambda 表达式，允许像对象一样传递匿名函数\nStream API，充分利用现代多核 CPU，可以写出很简洁的代码\nDate 与 Time API，最终，有一个稳定、简单的日期和时间库可供你使用\n扩展方法，现在，接口中可以有静态、默认方法。\n重复注解，现在你可以将相同的注解在同一类型上使用多次。\n\n## Maven和ANT有什么区别?\n虽然两者都是构建工具，都用于创建 Java 应用，但是 Maven 做的事情更多，在基于“约定优于配置”的概念下，提供标准的Java 项目结构，同时能为应用自动管理依赖（应用中所依赖的 JAR 文件），Maven 与 ANT 工具更多的不同之处请参见答案。\n这就是所有的面试题，如此之多，是不是？我可以保证，如果你能回答列表中的所有问题，你就可以很轻松的应付任何核心 Java 或者高级 Java 面试。虽然，这里没有涵盖 Servlet、JSP、JSF、JPA，JMS，EJB 及其它 Java EE 技术，也没有包含主流的框架如 spring MVC，Struts 2.0，hibernate，也没有包含 SOAP 和 RESTful web service，但是这份列表对做 Java 开发的、准备应聘 Java web 开发职位的人还是同样有用的，因为所有的 Java 面试，开始的问题都是 Java 基础和 JDK API 相关的。如果你认为我这里有任何应该在这份列表中而被我遗漏了的 Java 流行的问题，你可以自由的给我建议。我的目的是从最近的面试中创建一份最新的、最优的 Java 面试问题列表。\n\n## JDBC最佳实践\n - 优先使用批量操作来插入和更新数据\n - 使用PreparedStatement来避免SQL漏洞\n - 使用数据连接池\n - 通过列名来获取结果集\n \n## IO操作最佳实践\n1. 使用有缓冲的IO类,不要单独读取字节或字符\n2. 使用NIO和NIO 2或者AIO,而非BIO\n3. 在finally中关闭流\n4. 使用内存映射文件获取更快的IO\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"Java面试宝典","published":1,"updated":"2017-02-20T01:45:11.990Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ak0000da0usjoj0j1w7","content":"<p>文章转自：<br><a href=\"http://blog.csdn.net/dd864140130/article/details/55833087\" target=\"_blank\" rel=\"external\">java面试题</a></p>\n<h1 id=\"Java面试宝典\"><a href=\"#Java面试宝典\" class=\"headerlink\" title=\"Java面试宝典\"></a>Java面试宝典</h1><h1 id=\"相关概念\"><a href=\"#相关概念\" class=\"headerlink\" title=\"相关概念\"></a>相关概念</h1><h2 id=\"面向对象的三个特征\"><a href=\"#面向对象的三个特征\" class=\"headerlink\" title=\"面向对象的三个特征\"></a>面向对象的三个特征</h2><p>封装,继承,多态.这个应该是人人皆知.有时候也会加上抽象.</p>\n<h2 id=\"多态的好处\"><a href=\"#多态的好处\" class=\"headerlink\" title=\"多态的好处\"></a>多态的好处</h2><p>允许不同类对象对同一消息做出响应,即同一消息可以根据发送对象的不同而采用多种不同的行为方式(发送消息就是函数调用).主要有以下优点:</p>\n<ol>\n<li>可替换性:多态对已存在代码具有可替换性.</li>\n<li>可扩充性:增加新的子类不影响已经存在的类结构.</li>\n<li>接口性:多态是超累通过方法签名,想子类提供一个公共接口,由子类来完善或者重写它来实现的.</li>\n<li>灵活性:</li>\n<li>简化性:</li>\n</ol>\n<h3 id=\"代码中如何实现多态\"><a href=\"#代码中如何实现多态\" class=\"headerlink\" title=\"代码中如何实现多态\"></a>代码中如何实现多态</h3><p>实现多态主要有以下三种方式:</p>\n<ol>\n<li>接口实现</li>\n<li>继承父类重写方法</li>\n<li>同一类中进行方法重载<a id=\"more\"></a>\n<h3 id=\"虚拟机是如何实现多态的\"><a href=\"#虚拟机是如何实现多态的\" class=\"headerlink\" title=\"虚拟机是如何实现多态的\"></a>虚拟机是如何实现多态的</h3>动态绑定技术(dynamic binding),执行期间判断所引用对象的实际类型,根据实际类型调用对应的方法.</li>\n</ol>\n<h2 id=\"接口的意义\"><a href=\"#接口的意义\" class=\"headerlink\" title=\"接口的意义\"></a>接口的意义</h2><p>接口的意义用三个词就可以概括:规范,扩展,回调.</p>\n<h2 id=\"抽象类的意义\"><a href=\"#抽象类的意义\" class=\"headerlink\" title=\"抽象类的意义\"></a>抽象类的意义</h2><p>抽象类的意义可以用三句话来概括:</p>\n<ol>\n<li>为其他子类提供一个公共的类型</li>\n<li>封装子类中重复定义的内容</li>\n<li>定义抽象方法,子类虽然有不同的实现,但是定义时一致的<h2 id=\"接口和抽象类的区别\"><a href=\"#接口和抽象类的区别\" class=\"headerlink\" title=\"接口和抽象类的区别\"></a>接口和抽象类的区别</h2></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>比较</th>\n<th>抽象类</th>\n<th>接口</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>默认方法</td>\n<td>抽象类可以有默认的方法实现</td>\n<td>,java 8之前,接口中不存在方法的实现.</td>\n</tr>\n<tr>\n<td>实现方式</td>\n<td>子类使用extends关键字来继承抽象类.如果子类不是抽象类,子类需要提供抽象类中所声明方法的实现.</td>\n<td>子类使用implements来实现接口,需要提供接口中所有声明的实现.</td>\n</tr>\n<tr>\n<td>构造器</td>\n<td>抽象类中可以有构造器,</td>\n<td>接口中不能</td>\n</tr>\n<tr>\n<td>和正常类区别</td>\n<td>抽象类不能被实例化</td>\n<td>接口则是完全不同的类型</td>\n</tr>\n<tr>\n<td>访问修饰符</td>\n<td>抽象方法可以有public,protected和default等修饰</td>\n<td>接口默认是public,不能使用其他修饰符</td>\n</tr>\n<tr>\n<td>多继承</td>\n<td>一个子类只能存在一个父类</td>\n<td>一个子类可以存在多个接口</td>\n</tr>\n<tr>\n<td>添加新方法</td>\n<td>想抽象类中添加新方法,可以提供默认的实现,因此可以不修改子类现有的代码</td>\n<td>如果往接口中添加新方法,则子类中需要实现该方法.</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"父类的静态方法能否被子类重写\"><a href=\"#父类的静态方法能否被子类重写\" class=\"headerlink\" title=\"父类的静态方法能否被子类重写\"></a>父类的静态方法能否被子类重写</h2><p>不能.子类继承父类后,有相同的静态方法和非静态,这是非静态方法覆盖父类中的方法(即方法重写),父类的该静态方法被隐藏(如果对象是父类则调用该隐藏的方法),另外子类可集成父类的静态与非静态方法,至于方法重载我觉得它其中一要素就是在同一类中,不能说父类中的什么方法与子类里的什么方法是方法重载的体现.</p>\n<h2 id=\"什么是不可变对象\"><a href=\"#什么是不可变对象\" class=\"headerlink\" title=\"什么是不可变对象\"></a>什么是不可变对象</h2><p>不可变对象指对象一旦被创建，状态就不能再改变。任何修改都会创建一个新的对象，如 String、Integer及其它包装类。</p>\n<h2 id=\"能否创建一个包含可变对象的不可变对象\"><a href=\"#能否创建一个包含可变对象的不可变对象\" class=\"headerlink\" title=\"能否创建一个包含可变对象的不可变对象?\"></a>能否创建一个包含可变对象的不可变对象?</h2><p>当然可以创建一个包含可变对象的不可变对象的，你只需要谨慎一点，不要共享可变对象的引用就可以了，如果需要变化时，就返回原对象的一个拷贝。最常见的例子就是对象中包含一个日期对象的引用.</p>\n<h2 id=\"java-创建对象的几种方式\"><a href=\"#java-创建对象的几种方式\" class=\"headerlink\" title=\"java 创建对象的几种方式\"></a>java 创建对象的几种方式</h2><ol>\n<li>采用new</li>\n<li>通过反射</li>\n<li>采用clone</li>\n<li>通过序列化机制</li>\n</ol>\n<p>前2者都需要显式地调用构造方法.   造成耦合性最高的恰好是第一种,因此你发现无论什么框架,只要涉及到解耦必先减少new的使用.</p>\n<h2 id=\"switch中能否使用string做参数\"><a href=\"#switch中能否使用string做参数\" class=\"headerlink\" title=\"switch中能否使用string做参数\"></a>switch中能否使用string做参数</h2><p>在idk 1.7之前,switch只能支持byte,short,char,int或者其对应的封装类以及Enum类型。从idk 1.7之后switch开始支持String.</p>\n<h2 id=\"Object中有哪些公共方法\"><a href=\"#Object中有哪些公共方法\" class=\"headerlink\" title=\"Object中有哪些公共方法?\"></a>Object中有哪些公共方法?</h2><ol>\n<li><code>equals()</code></li>\n<li><code>clone()</code></li>\n<li><code>getClass()</code></li>\n<li><code>notify(),notifyAll(),wait()</code></li>\n</ol>\n<h2 id=\"java当中的四种引用\"><a href=\"#java当中的四种引用\" class=\"headerlink\" title=\"java当中的四种引用\"></a>java当中的四种引用</h2><p>强引用,软引用,弱引用,虚引用.不同的引用类型主要体现在GC上:</p>\n<ol>\n<li>强引用：如果一个对象具有强引用，它就不会被垃圾回收器回收。即使当前内存空间不足，JVM也不会回收它，而是抛出 OutOfMemoryError 错误，使程序异常终止。如果想中断强引用和某个对象之间的关联，可以显式地将引用赋值为null，这样一来的话，JVM在合适的时间就会回收该对象</li>\n<li>软引用：在使用软引用时，如果内存的空间足够，软引用就能继续被使用，而不会被垃圾回收器回收，只有在内存不足时，软引用才会被垃圾回收器回收。</li>\n<li>弱引用：具有弱引用的对象拥有的生命周期更短暂。因为当 JVM 进行垃圾回收，一旦发现弱引用对象，无论当前内存空间是否充足，都会将弱引用回收。不过由于垃圾回收器是一个优先级较低的线程，所以并不一定能迅速发现弱引用对象</li>\n<li>虚引用：顾名思义，就是形同虚设，如果一个对象仅持有虚引用，那么它相当于没有引用，在任何时候都可能被垃圾回收器回收。</li>\n</ol>\n<p>更多了解参见<a href=\"http://blog.csdn.net/dd864140130/article/details/49885811\" target=\"_blank\" rel=\"external\">深入对象引用</a></p>\n<h2 id=\"WeakReference与SoftReference的区别\"><a href=\"#WeakReference与SoftReference的区别\" class=\"headerlink\" title=\"WeakReference与SoftReference的区别?\"></a>WeakReference与SoftReference的区别?</h2><p>这点在四种引用类型中已经做了解释,这里简单说明一下即可:<br>虽然 WeakReference 与 SoftReference 都有利于提高 GC 和 内存的效率，但是 WeakReference ，一旦失去最后一个强引用，就会被 GC 回收，而软引用虽然不能阻止被回收，但是可以延迟到 JVM 内存不足的时候。</p>\n<h2 id=\"为什么要有不同的引用类型\"><a href=\"#为什么要有不同的引用类型\" class=\"headerlink\" title=\"为什么要有不同的引用类型\"></a>为什么要有不同的引用类型</h2><p>不像C语言,我们可以控制内存的申请和释放,在Java中有时候我们需要适当的控制对象被回收的时机,因此就诞生了不同的引用类型,可以说不同的引用类型实则是对GC回收时机不可控的妥协.有以下几个使用场景可以充分的说明:</p>\n<ol>\n<li>利用软引用和弱引用解决OOM问题：用一个HashMap来保存图片的路径和相应图片对象关联的软引用之间的映射关系，在内存不足时，JVM会自动回收这些缓存图片对象所占用的空间，从而有效地避免了OOM的问题.</li>\n<li>通过软引用实现Java对象的高速缓存:比如我们创建了一Person的类，如果每次需要查询一个人的信息,哪怕是几秒中之前刚刚查询过的，都要重新构建一个实例，这将引起大量Person对象的消耗,并且由于这些对象的生命周期相对较短,会引起多次GC影响性能。此时,通过软引用和 HashMap 的结合可以构建高速缓存,提供性能.</li>\n</ol>\n<h2 id=\"java中-和eqauls-的区别-equals-和-hashcode的区别\"><a href=\"#java中-和eqauls-的区别-equals-和-hashcode的区别\" class=\"headerlink\" title=\"java中==和eqauls()的区别,equals()和`hashcode的区别\"></a>java中==和<code>eqauls()</code>的区别,<code>equals()</code>和`hashcode的区别</h2><p>==是运算符,用于比较两个变量是否相等,而equals是Object类的方法,用于比较两个对象是否相等.默认Object类的equals方法是比较两个对象的地址,此时和==的结果一样.换句话说:基本类型比较用==,比较的是他们的值.默认下,对象用==比较时,比较的是内存地址,如果需要比较对象内容,需要重写equal方法</p>\n<p>##<code>equals()</code>和<code>hashcode()</code>的联系<br><code>hashCode()</code>是Object类的一个方法,返回一个哈希值.如果两个对象根据equal()方法比较相等,那么调用这两个对象中任意一个对象的hashCode()方法必须产生相同的哈希值.<br>如果两个对象根据eqaul()方法比较不相等,那么产生的哈希值不一定相等(碰撞的情况下还是会相等的.)</p>\n<h2 id=\"a-hashCode-有什么用-与a-equals-b-有什么关系\"><a href=\"#a-hashCode-有什么用-与a-equals-b-有什么关系\" class=\"headerlink\" title=\"a.hashCode()有什么用?与a.equals(b)有什么关系\"></a>a.hashCode()有什么用?与a.equals(b)有什么关系</h2><p>hashCode() 方法是相应对象整型的 hash 值。它常用于基于 hash 的集合类，如 Hashtable、HashMap、LinkedHashMap等等。它与 equals() 方法关系特别紧密。根据 Java 规范，两个使用 equal() 方法来判断相等的对象，必须具有相同的 hashcode。</p>\n<p>将对象放入到集合中时,首先判断要放入对象的hashcode是否已经在集合中存在,不存在则直接放入集合.如果hashcode相等,然后通过equal()方法判断要放入对象与集合中的任意对象是否相等:如果equal()判断不相等,直接将该元素放入集合中,否则不放入.</p>\n<h2 id=\"有没有可能两个不相等的对象有相同的hashcode\"><a href=\"#有没有可能两个不相等的对象有相同的hashcode\" class=\"headerlink\" title=\"有没有可能两个不相等的对象有相同的hashcode\"></a>有没有可能两个不相等的对象有相同的hashcode</h2><p>有可能，两个不相等的对象可能会有相同的 hashcode 值，这就是为什么在 hashmap 中会有冲突。相等 hashcode 值的规定只是说如果两个对象相等，必须有相同的hashcode 值，但是没有关于不相等对象的任何规定。</p>\n<h2 id=\"可以在hashcode中使用随机数字吗\"><a href=\"#可以在hashcode中使用随机数字吗\" class=\"headerlink\" title=\"可以在hashcode中使用随机数字吗?\"></a>可以在hashcode中使用随机数字吗?</h2><p>不行，因为同一对象的 hashcode 值必须是相同的</p>\n<h2 id=\"“a-b”与a-equals-b-有什么区别\"><a href=\"#“a-b”与a-equals-b-有什么区别\" class=\"headerlink\" title=\"“a==b”与a.equals(b)有什么区别\"></a>“a==b”与a.equals(b)有什么区别</h2><p>如果a 和b 都是对象，则 a==b 是比较两个对象的引用，只有当 a 和 b 指向的是堆中的同一个对象才会返回 true，而 a.equals(b) 是进行逻辑比较，所以通常需要重写该方法来提供逻辑一致性的比较。例如，String 类重写 equals() 方法，所以可以用于两个不同对象，但是包含的字母相同的比较。</p>\n<h2 id=\"3-0-1-0-3返回值是什么\"><a href=\"#3-0-1-0-3返回值是什么\" class=\"headerlink\" title=\"3*0.1==0.3返回值是什么\"></a><code>3*0.1==0.3</code>返回值是什么</h2><p>false，因为有些浮点数不能完全精确的表示出来。</p>\n<h2 id=\"a-a-b与a-b有什么区别吗\"><a href=\"#a-a-b与a-b有什么区别吗\" class=\"headerlink\" title=\"a=a+b与a+=b有什么区别吗?\"></a>a=a+b与a+=b有什么区别吗?</h2><p>隐式的将加操作的结果类型强制转换为持有结果的类型。如果两这个整型相加，如 byte、short 或者 int，首先会将它们提升到 int 类型，然后在执行加法操作。如果加法操作的结果比 a 的最大值要大，则 a+b 会出现编译错误，但是 a += b 没问题，如下：<br>byte a = 127;<br>byte b = 127;<br>b = a + b; // error : cannot convert from int to byte<br>b += a; // ok<br>（译者注：这个地方应该表述的有误，其实无论 a+b 的值为多少，编译器都会报错，因为 a+b 操作会将 a、b 提升为 int 类型，所以将 int 类型赋值给 byte 就会编译出错）</p>\n<h2 id=\"内部类的作用\"><a href=\"#内部类的作用\" class=\"headerlink\" title=\"内部类的作用\"></a>内部类的作用</h2><p>内部类可以用多个实例,每个实例都有自己的状态信息,并且与其他外围对象的信息相互独立.在单个外围类当中,可以让多个内部类以不同的方式实现同一接口,或者继承同一个类.创建内部类对象的时刻病不依赖于外部类对象的创建.内部类并没有令人疑惑的”is-a”关系,它就像是一个独立的实体.</p>\n<p>内部类提供了更好的封装,除了该外围类,其他类都不能访问</p>\n<h2 id=\"final-finalize和finally的不同之处\"><a href=\"#final-finalize和finally的不同之处\" class=\"headerlink\" title=\"final,finalize和finally的不同之处\"></a>final,finalize和finally的不同之处</h2><p>final 是一个修饰符，可以修饰变量、方法和类。如果 final 修饰变量，意味着该变量的值在初始化后不能被改变。finalize 方法是在对象被回收之前调用的方法，给对象自己最后一个复活的机会，但是什么时候调用 finalize 没有保证。finally 是一个关键字，与 try 和 catch 一起用于异常的处理。finally 块一定会被执行，无论在 try 块中是否有发生异常。</p>\n<h2 id=\"clone-是哪个类型的方法\"><a href=\"#clone-是哪个类型的方法\" class=\"headerlink\" title=\"clone()是哪个类型的方法?\"></a>clone()是哪个类型的方法?</h2><p>java.lang.Cloneable 是一个标示性接口，不包含任何方法，clone 方法在 object 类中定义。并且需要知道 clone() 方法是一个本地方法，这意味着它是由 c 或 c++ 或 其他本地语言实现的。</p>\n<h2 id=\"深拷贝和浅拷贝的区别是什么\"><a href=\"#深拷贝和浅拷贝的区别是什么\" class=\"headerlink\" title=\"深拷贝和浅拷贝的区别是什么?\"></a>深拷贝和浅拷贝的区别是什么?</h2><p>浅拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而所有的对其他对象的引用仍然指向原来的对象。换言之，浅拷贝仅仅复制所考虑的对象，而不复制它所引用的对象。</p>\n<p>深拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而那些引用其他对象的变量将指向被复制过的新对象，而不再是原有的那些被引用的对象。换言之，深拷贝把要复制的对象所引用的对象都复制了一遍。</p>\n<h2 id=\"static都有哪些用法\"><a href=\"#static都有哪些用法\" class=\"headerlink\" title=\"static都有哪些用法?\"></a>static都有哪些用法?</h2><p>几乎所有的人都知道static关键字这两个基本的用法:静态变量和静态方法.也就是被static所修饰的变量/方法都属于类的静态资源,类实例所共享.</p>\n<p>除了静态变量和静态方法之外,static也用于静态块,多用于初始化操作:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> calss PreCache&#123;</div><div class=\"line\">    <span class=\"keyword\">static</span>&#123;</div><div class=\"line\">        <span class=\"comment\">//执行相关操作</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>此外static也多用于修饰内部类,此时称之为静态内部类.</p>\n<p>最后一种用法就是静态导包,即<code>import static</code>.import static是在JDK 1.5之后引入的新特性,可以用来指定导入某个类中的静态资源,并且不需要使用类名.资源名,可以直接使用资源名,比如:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> <span class=\"keyword\">static</span> java.lang.Math.*;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">//System.out.println(Math.sin(20));传统做法</span></div><div class=\"line\">        System.out.println(sin(<span class=\"number\">20</span>));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"final有哪些用法\"><a href=\"#final有哪些用法\" class=\"headerlink\" title=\"final有哪些用法\"></a>final有哪些用法</h2><p>final也是很多面试喜欢问的地方,能回答下以下三点就不错了:<br>1.被final修饰的类不可以被继承<br>2.被final修饰的方法不可以被重写<br>3.被final修饰的变量不可以被改变.如果修饰的引用,那么表示引用不可变,引用指向的内容可变.<br>4.被final修饰的方法,JVM会尝试将其内联,以提高运行效率<br>5.被final修饰的常量,在编译阶段会存入常量池中.</p>\n<p>当前回答出编译器对final域要遵守的两个重排序规则更好:<br>1.在构造函数内对一个final域的写入,与随后把这个被构造对象的引用赋值给一个引用变量,这两个操作之间不能重排序.<br>2.初次读一个包含final域的对象的引用,与随后初次读这个final域,这两个操作之间不能重排序.</p>\n<hr>\n<p>#数据类型相关</p>\n<h2 id=\"java中int-char-long各占多少字节\"><a href=\"#java中int-char-long各占多少字节\" class=\"headerlink\" title=\"java中int char,long各占多少字节?\"></a>java中int char,long各占多少字节?</h2><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>位数</th>\n<th>字节数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>short</td>\n<td>2</td>\n<td>16</td>\n</tr>\n<tr>\n<td>int</td>\n<td>4</td>\n<td>32</td>\n</tr>\n<tr>\n<td>long</td>\n<td>8</td>\n<td>64</td>\n</tr>\n<tr>\n<td>float</td>\n<td>4</td>\n<td>32</td>\n</tr>\n<tr>\n<td>double</td>\n<td>8</td>\n<td>64</td>\n</tr>\n<tr>\n<td>char</td>\n<td>2</td>\n<td>16</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"64位的JVM当中-int的长度是多少\"><a href=\"#64位的JVM当中-int的长度是多少\" class=\"headerlink\" title=\"64位的JVM当中,int的长度是多少?\"></a>64位的JVM当中,int的长度是多少?</h2><p>Java 中，int 类型变量的长度是一个固定值，与平台无关，都是 32 位。意思就是说，在 32 位 和 64 位 的Java 虚拟机中，int 类型的长度是相同的。</p>\n<h2 id=\"java-int和Integer的区别\"><a href=\"#java-int和Integer的区别\" class=\"headerlink\" title=\"java int和Integer的区别\"></a>java int和Integer的区别</h2><p>Integer是int的包装类型,在拆箱和装箱中,而知自动转换.int是基本类型，直接存数值，而integer是对象，用一个引用指向这个对象.</p>\n<h2 id=\"int-和Integer谁占用的内存更多\"><a href=\"#int-和Integer谁占用的内存更多\" class=\"headerlink\" title=\"int 和Integer谁占用的内存更多?\"></a>int 和Integer谁占用的内存更多?</h2><p>Integer 对象会占用更多的内存。Integer是一个对象，需要存储对象的元数据。但是 int 是一个原始类型的数据，所以占用的空间更少。</p>\n<h2 id=\"String-StringBuffer和StringBuilder区别\"><a href=\"#String-StringBuffer和StringBuilder区别\" class=\"headerlink\" title=\"String,StringBuffer和StringBuilder区别\"></a>String,StringBuffer和StringBuilder区别</h2><p>String是字符串常量,final修饰;StringBuffer字符串变量(线程安全);<br>StringBuilder 字符串变量(线程不安全).</p>\n<h3 id=\"String和StringBuffer\"><a href=\"#String和StringBuffer\" class=\"headerlink\" title=\"String和StringBuffer\"></a>String和StringBuffer</h3><p>String和StringBuffer主要区别是性能:String是不可变对象,每次对String类型进行操作都等同于产生了一个新的String对象,然后指向新的String对象.所以尽量不在对String进行大量的拼接操作,否则会产生很多临时对象,导致GC开始工作,影响系统性能.</p>\n<p>StringBuffer是对对象本身操作,而不是产生新的对象,因此在通常在有大量拼接的情况下我们建议使用StringBuffer.</p>\n<p>但是需要注意现在JVM会对String拼接做一定的优化:<br><code>String s=“This is only ”+”simple”+”test”</code>会被虚拟机直接优化成<code>String s=“This is only simple test”</code>,此时就不存在拼接过程.</p>\n<h3 id=\"StringBuffer和StringBuilder\"><a href=\"#StringBuffer和StringBuilder\" class=\"headerlink\" title=\"StringBuffer和StringBuilder\"></a>StringBuffer和StringBuilder</h3><p>StringBuffer是线程安全的可变字符串,其内部实现是可变数组.StringBuilder是java 5.0新增的,其功能和StringBuffer类似,但是非线程安全.因此,在没有多线程问题的前提下,使用StringBuilder会取得更好的性能.</p>\n<h2 id=\"什么是编译器常量-使用它有什么风险\"><a href=\"#什么是编译器常量-使用它有什么风险\" class=\"headerlink\" title=\"什么是编译器常量?使用它有什么风险?\"></a>什么是编译器常量?使用它有什么风险?</h2><p>公共静态不可变（public static final ）变量也就是我们所说的编译期常量，这里的 public 可选的。实际上这些变量在编译时会被替换掉，因为编译器知道这些变量的值，并且知道这些变量在运行时不能改变。这种方式存在的一个问题是你使用了一个内部的或第三方库中的公有编译时常量，但是这个值后面被其他人改变了，但是你的客户端仍然在使用老的值，甚至你已经部署了一个新的jar。为了避免这种情况，当你在更新依赖 JAR 文件时，确保重新编译你的程序。</p>\n<h2 id=\"java当中使用什么类型表示价格比较好\"><a href=\"#java当中使用什么类型表示价格比较好\" class=\"headerlink\" title=\"java当中使用什么类型表示价格比较好?\"></a>java当中使用什么类型表示价格比较好?</h2><p>如果不是特别关心内存和性能的话，使用BigDecimal，否则使用预定义精度的 double 类型。</p>\n<h2 id=\"如何将byte转为String\"><a href=\"#如何将byte转为String\" class=\"headerlink\" title=\"如何将byte转为String\"></a>如何将byte转为String</h2><p>可以使用 String 接收 byte[] 参数的构造器来进行转换，需要注意的点是要使用的正确的编码，否则会使用平台默认编码，这个编码可能跟原来的编码相同，也可能不同。</p>\n<h2 id=\"可以将int强转为byte类型么-会产生什么问题\"><a href=\"#可以将int强转为byte类型么-会产生什么问题\" class=\"headerlink\" title=\"可以将int强转为byte类型么?会产生什么问题?\"></a>可以将int强转为byte类型么?会产生什么问题?</h2><p>我们可以做强制转换，但是Java中int是32位的而byte是8 位的，所以,如果强制转化int类型的高24位将会被丢弃，byte 类型的范围是从-128.到128</p>\n<hr>\n<h2 id=\"关于垃圾回收\"><a href=\"#关于垃圾回收\" class=\"headerlink\" title=\"关于垃圾回收\"></a>关于垃圾回收</h2><h2 id=\"你知道哪些垃圾回收算法\"><a href=\"#你知道哪些垃圾回收算法\" class=\"headerlink\" title=\"你知道哪些垃圾回收算法?\"></a>你知道哪些垃圾回收算法?</h2><p>垃圾回收从理论上非常容易理解,具体的方法有以下几种:</p>\n<ol>\n<li>标记-清除</li>\n<li>标记-复制</li>\n<li>标记-整理</li>\n<li>分代回收<br>更详细的内容参见<a href=\"http://blog.csdn.net/dd864140130/article/details/50084471\" target=\"_blank\" rel=\"external\">深入理解垃圾回收算法</a></li>\n</ol>\n<p>##如何判断一个对象是否应该被回收<br>这就是所谓的对象存活性判断,常用的方法有两种:1.引用计数法;2:对象可达性分析.由于引用计数法存在互相引用导致无法进行GC的问题,所以目前JVM虚拟机多使用对象可达性分析算法.</p>\n<p>##简单的解释一下垃圾回收<br>Java 垃圾回收机制最基本的做法是分代回收。内存中的区域被划分成不同的世代，对象根据其存活的时间被保存在对应世代的区域中。一般的实现是划分成3个世代：年轻、年老和永久。内存的分配是发生在年轻世代中的。当一个对象存活时间足够长的时候，它就会被复制到年老世代中。对于不同的世代可以使用不同的垃圾回收算法。进行世代划分的出发点是对应用中对象存活时间进行研究之后得出的统计规律。一般来说，一个应用中的大部分对象的存活时间都很短。比如局部变量的存活时间就只在方法的执行过程中。基于这一点，对于年轻世代的垃圾回收算法就可以很有针对性.</p>\n<h2 id=\"调用System-gc-会发生什么\"><a href=\"#调用System-gc-会发生什么\" class=\"headerlink\" title=\"调用System.gc()会发生什么?\"></a>调用System.gc()会发生什么?</h2><p>通知GC开始工作,但是GC真正开始的时间不确定.</p>\n<hr>\n<h1 id=\"进程-线程相关\"><a href=\"#进程-线程相关\" class=\"headerlink\" title=\"进程,线程相关\"></a>进程,线程相关</h1><h2 id=\"说说进程-线程-协程之间的区别\"><a href=\"#说说进程-线程-协程之间的区别\" class=\"headerlink\" title=\"说说进程,线程,协程之间的区别\"></a>说说进程,线程,协程之间的区别</h2><p>简而言之,进程是程序运行和资源分配的基本单位,一个程序至少有一个进程,一个进程至少有一个线程.进程在执行过程中拥有独立的内存单元,而多个线程共享内存资源,减少切换次数,从而效率更高.线程是进程的一个实体,是cpu调度和分派的基本单位,是比程序更小的能独立运行的基本单位.同一进程中的多个线程之间可以并发执行.</p>\n<h2 id=\"你了解守护线程吗-它和非守护线程有什么区别\"><a href=\"#你了解守护线程吗-它和非守护线程有什么区别\" class=\"headerlink\" title=\"你了解守护线程吗?它和非守护线程有什么区别\"></a>你了解守护线程吗?它和非守护线程有什么区别</h2><p>程序运行完毕,jvm会等待非守护线程完成后关闭,但是jvm不会等待守护线程.守护线程最典型的例子就是GC线程</p>\n<h2 id=\"什么是多线程上下文切换\"><a href=\"#什么是多线程上下文切换\" class=\"headerlink\" title=\"什么是多线程上下文切换\"></a>什么是多线程上下文切换</h2><p>多线程的上下文切换是指CPU控制权由一个已经正在运行的线程切换到另外一个就绪并等待获取CPU执行权的线程的过程。</p>\n<h2 id=\"创建两种线程的方式-他们有什么区别\"><a href=\"#创建两种线程的方式-他们有什么区别\" class=\"headerlink\" title=\"创建两种线程的方式?他们有什么区别?\"></a>创建两种线程的方式?他们有什么区别?</h2><p>通过实现java.lang.Runnable或者通过扩展java.lang.Thread类.相比扩展Thread,实现Runnable接口可能更优.原因有二:</p>\n<ol>\n<li>Java不支持多继承.因此扩展Thread类就代表这个子类不能扩展其他类.而实现Runnable接口的类还可能扩展另一个类.</li>\n<li>类可能只要求可执行即可,因此集成整个Thread类的开销过大.</li>\n</ol>\n<h2 id=\"Runnable和Callable的区别\"><a href=\"#Runnable和Callable的区别\" class=\"headerlink\" title=\"Runnable和Callable的区别\"></a>Runnable和Callable的区别</h2><p>Runnable接口中的run()方法的返回值是void，它做的事情只是纯粹地去执行run()方法中的代码而已；Callable接口中的call()方法是有返回值的，是一个泛型，和Future、FutureTask配合可以用来获取异步执行的结果。<br>这其实是很有用的一个特性，因为多线程相比单线程更难、更复杂的一个重要原因就是因为多线程充满着未知性，某条线程是否执行了？某条线程执行了多久？某条线程执行的时候我们期望的数据是否已经赋值完毕？无法得知，我们能做的只是等待这条多线程的任务执行完毕而已。而Callable+Future/FutureTask却可以获取多线程运行的结果，可以在等待时间太长没获取到需要的数据的情况下取消该线程的任务，真的是非常有用。</p>\n<h2 id=\"什么导致线程阻塞\"><a href=\"#什么导致线程阻塞\" class=\"headerlink\" title=\"什么导致线程阻塞\"></a>什么导致线程阻塞</h2><p>阻塞指的是暂停一个线程的执行以等待某个条件发生（如某资源就绪），学过操作系统的同学对它一定已经很熟悉了。Java 提供了大量方法来支持阻塞，下面让我们逐一分析。</p>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>sleep()</td>\n<td>sleep() 允许 指定以毫秒为单位的一段时间作为参数，它使得线程在指定的时间内进入阻塞状态，不能得到CPU 时间，指定的时间一过，线程重新进入可执行状态。 典型地，sleep() 被用在等待某个资源就绪的情形：测试发现条件不满足后，让线程阻塞一段时间后重新测试，直到条件满足为止</td>\n</tr>\n<tr>\n<td>suspend() 和 resume()</td>\n<td>两个方法配套使用，suspend()使得线程进入阻塞状态，并且不会自动恢复，必须其对应的resume() 被调用，才能使得线程重新进入可执行状态。典型地，suspend() 和 resume() 被用在等待另一个线程产生的结果的情形：测试发现结果还没有产生后，让线程阻塞，另一个线程产生了结果后，调用 resume() 使其恢复。</td>\n</tr>\n<tr>\n<td>yield()</td>\n<td>yield() 使得线程放弃当前分得的 CPU 时间，但是不使线程阻塞，即线程仍处于可执行状态，随时可能再次分得 CPU 时间。调用 yield() 的效果等价于调度程序认为该线程已执行了足够的时间从而转到另一个线程</td>\n</tr>\n<tr>\n<td>wait() 和 notify()</td>\n<td>两个方法配套使用，wait() 使得线程进入阻塞状态，它有两种形式，一种允许 指定以毫秒为单位的一段时间作为参数，另一种没有参数，前者当对应的 notify() 被调用或者超出指定时间时线程重新进入可执行状态，后者则必须对应的 notify() 被调用.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"wait-notify-和suspend-resume-之间的区别\"><a href=\"#wait-notify-和suspend-resume-之间的区别\" class=\"headerlink\" title=\"wait(),notify()和suspend(),resume()之间的区别\"></a>wait(),notify()和suspend(),resume()之间的区别</h2><p>初看起来它们与 suspend() 和 resume() 方法对没有什么分别，但是事实上它们是截然不同的。区别的核心在于，前面叙述的所有方法，阻塞时都不会释放占用的锁（如果占用了的话），而这一对方法则相反。上述的核心区别导致了一系列的细节上的区别。</p>\n<p>首先，前面叙述的所有方法都隶属于 Thread 类，但是这一对却直接隶属于 Object 类，也就是说，所有对象都拥有这一对方法。初看起来这十分不可思议，但是实际上却是很自然的，因为这一对方法阻塞时要释放占用的锁，而锁是任何对象都具有的，调用任意对象的 wait() 方法导致线程阻塞，并且该对象上的锁被释放。而调用 任意对象的notify()方法则导致因调用该对象的 wait() 方法而阻塞的线程中随机选择的一个解除阻塞（但要等到获得锁后才真正可执行）。</p>\n<p>其次，前面叙述的所有方法都可在任何位置调用，但是这一对方法却必须在 synchronized 方法或块中调用，理由也很简单，只有在synchronized 方法或块中当前线程才占有锁，才有锁可以释放。同样的道理，调用这一对方法的对象上的锁必须为当前线程所拥有，这样才有锁可以释放。因此，这一对方法调用必须放置在这样的 synchronized 方法或块中，该方法或块的上锁对象就是调用这一对方法的对象。若不满足这一条件，则程序虽然仍能编译，但在运行时会出现IllegalMonitorStateException 异常。</p>\n<p>wait() 和 notify() 方法的上述特性决定了它们经常和synchronized 方法或块一起使用，将它们和操作系统的进程间通信机制作一个比较就会发现它们的相似性：synchronized方法或块提供了类似于操作系统原语的功能，它们的执行不会受到多线程机制的干扰，而这一对方法则相当于 block 和wakeup 原语（这一对方法均声明为 synchronized）。它们的结合使得我们可以实现操作系统上一系列精妙的进程间通信的算法（如信号量算法），并用于解决各种复杂的线程间通信问题。</p>\n<p>关于 wait() 和 notify() 方法最后再说明两点：<br>第一：调用 notify() 方法导致解除阻塞的线程是从因调用该对象的 wait() 方法而阻塞的线程中随机选取的，我们无法预料哪一个线程将会被选择，所以编程时要特别小心，避免因这种不确定性而产生问题。</p>\n<p>第二：除了 notify()，还有一个方法 notifyAll() 也可起到类似作用，唯一的区别在于，调用 notifyAll() 方法将把因调用该对象的 wait() 方法而阻塞的所有线程一次性全部解除阻塞。当然，只有获得锁的那一个线程才能进入可执行状态。</p>\n<p>谈到阻塞，就不能不谈一谈死锁，略一分析就能发现，suspend() 方法和不指定超时期限的 wait() 方法的调用都可能产生死锁。遗憾的是，Java 并不在语言级别上支持死锁的避免，我们在编程中必须小心地避免死锁。</p>\n<p>以上我们对 Java 中实现线程阻塞的各种方法作了一番分析，我们重点分析了 wait() 和 notify() 方法，因为它们的功能最强大，使用也最灵活，但是这也导致了它们的效率较低，较容易出错。实际使用中我们应该灵活使用各种方法，以便更好地达到我们的目的。</p>\n<h2 id=\"为什么wait-方法和notify-notifyAll-方法要在同步块中被调用\"><a href=\"#为什么wait-方法和notify-notifyAll-方法要在同步块中被调用\" class=\"headerlink\" title=\"为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用\"></a>为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用</h2><p>这是JDK强制的，wait()方法和notify()/notifyAll()方法在调用前都必须先获得对象的锁</p>\n<h2 id=\"wait-方法和notify-notifyAll-方法在放弃对象监视器时有什么区别\"><a href=\"#wait-方法和notify-notifyAll-方法在放弃对象监视器时有什么区别\" class=\"headerlink\" title=\"wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别\"></a>wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别</h2><p>wait()方法和notify()/notifyAll()方法在放弃对象监视器的时候的区别在于：wait()方法立即释放对象监视器，notify()/notifyAll()方法则会等待线程剩余代码执行完毕才会放弃对象监视器。</p>\n<h2 id=\"wait-与sleep-的区别\"><a href=\"#wait-与sleep-的区别\" class=\"headerlink\" title=\"wait()与sleep()的区别\"></a>wait()与sleep()的区别</h2><p> 关于这两者已经在上面进行详细的说明,这里就做个概括好了:</p>\n<ul>\n<li>sleep()来自Thread类，和wait()来自Object类.调用sleep()方法的过程中，线程不会释放对象锁。而 调用 wait 方法线程会释放对象锁</li>\n<li>sleep()睡眠后不出让系统资源，wait让其他线程可以占用CPU</li>\n<li>sleep(milliseconds)需要指定一个睡眠时间，时间一到会自动唤醒.而wait()需要配合notify()或者notifyAll()使用</li>\n</ul>\n<h2 id=\"synchronized和ReentrantLock的区别\"><a href=\"#synchronized和ReentrantLock的区别\" class=\"headerlink\" title=\"synchronized和ReentrantLock的区别\"></a>synchronized和ReentrantLock的区别</h2><p>synchronized是和if、else、for、while一样的关键字，ReentrantLock是类，这是二者的本质区别。既然ReentrantLock是类，那么它就提供了比synchronized更多更灵活的特性，可以被继承、可以有方法、可以有各种各样的类变量，ReentrantLock比synchronized的扩展性体现在几点上：<br>（1）ReentrantLock可以对获取锁的等待时间进行设置，这样就避免了死锁<br>（2）ReentrantLock可以获取各种锁的信息<br>（3）ReentrantLock可以灵活地实现多路通知<br>另外，二者的锁机制其实也是不一样的:ReentrantLock底层调用的是Unsafe的park方法加锁，synchronized操作的应该是对象头中mark word.</p>\n<h2 id=\"FutureTask是什么\"><a href=\"#FutureTask是什么\" class=\"headerlink\" title=\"FutureTask是什么\"></a>FutureTask是什么</h2><p>这个其实前面有提到过，FutureTask表示一个异步运算的任务。FutureTask里面可以传入一个Callable的具体实现类，可以对这个异步运算的任务的结果进行等待获取、判断是否已经完成、取消任务等操作。当然，由于FutureTask也是Runnable接口的实现类，所以FutureTask也可以放入线程池中。</p>\n<h2 id=\"一个线程如果出现了运行时异常怎么办\"><a href=\"#一个线程如果出现了运行时异常怎么办\" class=\"headerlink\" title=\"一个线程如果出现了运行时异常怎么办?\"></a>一个线程如果出现了运行时异常怎么办?</h2><p>如果这个异常没有被捕获的话，这个线程就停止执行了。另外重要的一点是：如果这个线程持有某个某个对象的监视器，那么这个对象监视器会被立即释放</p>\n<h2 id=\"如何在两个线程间共享数据\"><a href=\"#如何在两个线程间共享数据\" class=\"headerlink\" title=\"如何在两个线程间共享数据\"></a>如何在两个线程间共享数据</h2><p>通过在线程之间共享对象就可以了，然后通过wait/notify/notifyAll、await/signal/signalAll进行唤起和等待，比方说阻塞队列BlockingQueue就是为线程之间共享数据而设计的</p>\n<h2 id=\"如何正确的使用wait-使用if还是while\"><a href=\"#如何正确的使用wait-使用if还是while\" class=\"headerlink\" title=\"如何正确的使用wait()?使用if还是while?\"></a>如何正确的使用wait()?使用if还是while?</h2><p>wait() 方法应该在循环调用，因为当线程获取到 CPU 开始执行的时候，其他条件可能还没有满足，所以在处理前，循环检测条件是否满足会更好。下面是一段标准的使用 wait 和 notify 方法的代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">synchronized (obj) &#123;</div><div class=\"line\">   while (condition does not hold)</div><div class=\"line\">     obj.wait(); // (Releases lock, and reacquires on wakeup)</div><div class=\"line\">     ... // Perform action appropriate to condition</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"什么是线程局部变量\"><a href=\"#什么是线程局部变量\" class=\"headerlink\" title=\"什么是线程局部变量\"></a>什么是线程局部变量</h2><p>线程局部变量是局限于线程内部的变量，属于线程自身所有，不在多个线程间共享。Java提供ThreadLocal类来支持线程局部变量，是一种实现线程安全的方式。但是在管理环境下（如 web 服务器）使用线程局部变量的时候要特别小心，在这种情况下，工作线程的生命周期比任何应用变量的生命周期都要长。任何线程局部变量一旦在工作完成后没有释放，Java 应用就存在内存泄露的风险。</p>\n<h2 id=\"ThreadLoal的作用是什么\"><a href=\"#ThreadLoal的作用是什么\" class=\"headerlink\" title=\"ThreadLoal的作用是什么?\"></a>ThreadLoal的作用是什么?</h2><p>简单说ThreadLocal就是一种以空间换时间的做法在每个Thread里面维护了一个ThreadLocal.ThreadLocalMap把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了.</p>\n<h2 id=\"生产者消费者模型的作用是什么\"><a href=\"#生产者消费者模型的作用是什么\" class=\"headerlink\" title=\"生产者消费者模型的作用是什么?\"></a>生产者消费者模型的作用是什么?</h2><p>（1）通过平衡生产者的生产能力和消费者的消费能力来提升整个系统的运行效率，这是生产者消费者模型最重要的作用<br>（2）解耦，这是生产者消费者模型附带的作用，解耦意味着生产者和消费者之间的联系少，联系越少越可以独自发展而不需要收到相互的制约</p>\n<h2 id=\"写一个生产者-消费者队列\"><a href=\"#写一个生产者-消费者队列\" class=\"headerlink\" title=\"写一个生产者-消费者队列\"></a>写一个生产者-消费者队列</h2><p>可以通过阻塞队列实现,也可以通过wait-notify来实现.</p>\n<h3 id=\"使用阻塞队列来实现\"><a href=\"#使用阻塞队列来实现\" class=\"headerlink\" title=\"使用阻塞队列来实现\"></a>使用阻塞队列来实现</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\">//消费者</div><div class=\"line\">public class Producer implements Runnable&#123;</div><div class=\"line\">    private final BlockingQueue&lt;Integer&gt; queue;</div><div class=\"line\"></div><div class=\"line\">    public Producer(BlockingQueue q)&#123;</div><div class=\"line\">        this.queue=q;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void run() &#123;</div><div class=\"line\">        try &#123;</div><div class=\"line\">            while (true)&#123;</div><div class=\"line\">                Thread.sleep(1000);//模拟耗时</div><div class=\"line\">                queue.put(produce());</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;catch (InterruptedException e)&#123;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private int produce() &#123;</div><div class=\"line\">        int n=new Random().nextInt(10000);</div><div class=\"line\">        System.out.println(&quot;Thread:&quot; + Thread.currentThread().getId() + &quot; produce:&quot; + n);</div><div class=\"line\">        return n;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//消费者</div><div class=\"line\">public class Consumer implements Runnable &#123;</div><div class=\"line\">    private final BlockingQueue&lt;Integer&gt; queue;</div><div class=\"line\"></div><div class=\"line\">    public Consumer(BlockingQueue q)&#123;</div><div class=\"line\">        this.queue=q;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void run() &#123;</div><div class=\"line\">        while (true)&#123;</div><div class=\"line\">            try &#123;</div><div class=\"line\">                Thread.sleep(2000);//模拟耗时</div><div class=\"line\">                consume(queue.take());</div><div class=\"line\">            &#125;catch (InterruptedException e)&#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private void consume(Integer n) &#123;</div><div class=\"line\">        System.out.println(&quot;Thread:&quot; + Thread.currentThread().getId() + &quot; consume:&quot; + n);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//测试</div><div class=\"line\">public class Main &#123;</div><div class=\"line\"></div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        BlockingQueue&lt;Integer&gt; queue=new ArrayBlockingQueue&lt;Integer&gt;(100);</div><div class=\"line\">        Producer p=new Producer(queue);</div><div class=\"line\">        Consumer c1=new Consumer(queue);</div><div class=\"line\">        Consumer c2=new Consumer(queue);</div><div class=\"line\"></div><div class=\"line\">        new Thread(p).start();</div><div class=\"line\">        new Thread(c1).start();</div><div class=\"line\">        new Thread(c2).start();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"使用wait-notify来实现\"><a href=\"#使用wait-notify来实现\" class=\"headerlink\" title=\"使用wait-notify来实现\"></a>使用wait-notify来实现</h3><p>该种方式应该最经典,这里就不做说明了</p>\n<h2 id=\"ConcurrentHashMap的并发度是什么\"><a href=\"#ConcurrentHashMap的并发度是什么\" class=\"headerlink\" title=\"ConcurrentHashMap的并发度是什么?\"></a>ConcurrentHashMap的并发度是什么?</h2><p>ConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势，任何情况下，Hashtable能同时有两条线程获取Hashtable中的数据吗？</p>\n<h2 id=\"CyclicBarrier和CountDownLatch区别\"><a href=\"#CyclicBarrier和CountDownLatch区别\" class=\"headerlink\" title=\"CyclicBarrier和CountDownLatch区别\"></a>CyclicBarrier和CountDownLatch区别</h2><p>这两个类非常类似，都在java.util.concurrent下，都可以用来表示代码运行到某个点上，二者的区别在于：</p>\n<ul>\n<li>CyclicBarrier的某个线程运行到某个点上之后，该线程即停止运行，直到所有的线程都到达了这个点，所有线程才重新运行；CountDownLatch则不是，某线程运行到某个点上之后，只是给某个数值-1而已，该线程继续运行</li>\n<li>CyclicBarrier只能唤起一个任务，CountDownLatch可以唤起多个任务</li>\n<li>CyclicBarrier可重用，CountDownLatch不可重用，计数值为0该CountDownLatch就不可再用了</li>\n</ul>\n<h2 id=\"java中的-操作符线程安全么\"><a href=\"#java中的-操作符线程安全么\" class=\"headerlink\" title=\"java中的++操作符线程安全么?\"></a>java中的++操作符线程安全么?</h2><p>不是线程安全的操作。它涉及到多个指令，如读取变量值，增加，然后存储回内存，这个过程可能会出现多个线程交差</p>\n<h2 id=\"你有哪些多线程开发良好的实践\"><a href=\"#你有哪些多线程开发良好的实践\" class=\"headerlink\" title=\"你有哪些多线程开发良好的实践?\"></a>你有哪些多线程开发良好的实践?</h2><ol>\n<li>给线程命名</li>\n<li>最小化同步范围</li>\n<li>优先使用volatile</li>\n<li>尽可能使用更高层次的并发工具而非wait和notify()来实现线程通信,如BlockingQueue,Semeaphore</li>\n<li>优先使用并发容器而非同步容器.</li>\n<li>考虑使用线程池</li>\n</ol>\n<hr>\n<p>#关于volatile关键字</p>\n<h2 id=\"可以创建Volatile数组吗\"><a href=\"#可以创建Volatile数组吗\" class=\"headerlink\" title=\"可以创建Volatile数组吗?\"></a>可以创建Volatile数组吗?</h2><p>Java 中可以创建 volatile类型数组，不过只是一个指向数组的引用，而不是整个数组。如果改变引用指向的数组，将会受到volatile 的保护，但是如果多个线程同时改变数组的元素，volatile标示符就不能起到之前的保护作用了</p>\n<h2 id=\"volatile能使得一个非原子操作变成原子操作吗\"><a href=\"#volatile能使得一个非原子操作变成原子操作吗\" class=\"headerlink\" title=\"volatile能使得一个非原子操作变成原子操作吗?\"></a>volatile能使得一个非原子操作变成原子操作吗?</h2><p>一个典型的例子是在类中有一个 long 类型的成员变量。如果你知道该成员变量会被多个线程访问，如计数器、价格等，你最好是将其设置为 volatile。为什么？因为 Java 中读取 long 类型变量不是原子的，需要分成两步，如果一个线程正在修改该 long 变量的值，另一个线程可能只能看到该值的一半（前 32 位）。但是对一个 volatile 型的 long 或 double 变量的读写是原子。</p>\n<p>一种实践是用 volatile 修饰 long 和 double 变量，使其能按原子类型来读写。double 和 long 都是64位宽，因此对这两种类型的读是分为两部分的，第一次读取第一个 32 位，然后再读剩下的 32 位，这个过程不是原子的，但 Java 中 volatile 型的 long 或 double 变量的读写是原子的。volatile 修复符的另一个作用是提供内存屏障（memory barrier），例如在分布式框架中的应用。简单的说，就是当你写一个 volatile 变量之前，Java 内存模型会插入一个写屏障（write barrier），读一个 volatile 变量之前，会插入一个读屏障（read barrier）。意思就是说，在你写一个 volatile 域时，能保证任何线程都能看到你写的值，同时，在写之前，也能保证任何数值的更新对所有线程是可见的，因为内存屏障会将其他所有写的值更新到缓存。</p>\n<h2 id=\"volatile类型变量提供什么保证\"><a href=\"#volatile类型变量提供什么保证\" class=\"headerlink\" title=\"volatile类型变量提供什么保证?\"></a>volatile类型变量提供什么保证?</h2><p>volatile 主要有两方面的作用:1.避免指令重排2.可见性保证.例如，JVM 或者 JIT为了获得更好的性能会对语句重排序，但是 volatile 类型变量即使在没有同步块的情况下赋值也不会与其他语句重排序。 volatile 提供 happens-before 的保证，确保一个线程的修改能对其他线程是可见的。某些情况下，volatile 还能提供原子性，如读 64 位数据类型，像 long 和 double 都不是原子的(低32位和高32位)，但 volatile 类型的 double 和 long 就是原子的.</p>\n<hr>\n<p>#关于集合</p>\n<h2 id=\"Java中的集合及其继承关系\"><a href=\"#Java中的集合及其继承关系\" class=\"headerlink\" title=\"Java中的集合及其继承关系\"></a>Java中的集合及其继承关系</h2><p>关于集合的体系是每个人都应该烂熟于心的,尤其是对我们经常使用的List,Map的原理更该如此.这里我们看这张图即可:<br><img src=\"http://img.blog.csdn.net/20141105193133812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZGQ4NjQxNDAxMzA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"这里写图片描述\"></p>\n<p>更多内容可见<a href=\"http://write.blog.csdn.net/postedit/40826423\" target=\"_blank\" rel=\"external\">集合类总结</a></p>\n<h2 id=\"poll-方法和remove-方法区别\"><a href=\"#poll-方法和remove-方法区别\" class=\"headerlink\" title=\"poll()方法和remove()方法区别?\"></a>poll()方法和remove()方法区别?</h2><p>poll() 和 remove() 都是从队列中取出一个元素，但是 poll() 在获取元素失败的时候会返回空，但是 remove() 失败的时候会抛出异常。</p>\n<h2 id=\"LinkedHashMap和PriorityQueue的区别\"><a href=\"#LinkedHashMap和PriorityQueue的区别\" class=\"headerlink\" title=\"LinkedHashMap和PriorityQueue的区别\"></a>LinkedHashMap和PriorityQueue的区别</h2><p>PriorityQueue 是一个优先级队列,保证最高或者最低优先级的的元素总是在队列头部，但是 LinkedHashMap 维持的顺序是元素插入的顺序。当遍历一个 PriorityQueue 时，没有任何顺序保证，但是 LinkedHashMap 课保证遍历顺序是元素插入的顺序。</p>\n<h2 id=\"WeakHashMap与HashMap的区别是什么\"><a href=\"#WeakHashMap与HashMap的区别是什么\" class=\"headerlink\" title=\"WeakHashMap与HashMap的区别是什么?\"></a>WeakHashMap与HashMap的区别是什么?</h2><p>WeakHashMap 的工作与正常的 HashMap 类似，但是使用弱引用作为 key，意思就是当 key 对象没有任何引用时，key/value 将会被回收。</p>\n<h2 id=\"ArrayList和LinkedList的区别\"><a href=\"#ArrayList和LinkedList的区别\" class=\"headerlink\" title=\"ArrayList和LinkedList的区别?\"></a>ArrayList和LinkedList的区别?</h2><p>最明显的区别是 ArrrayList底层的数据结构是数组，支持随机访问，而 LinkedList 的底层数据结构是双向循环链表，不支持随机访问。使用下标访问一个元素，ArrayList 的时间复杂度是 O(1)，而 LinkedList 是 O(n)。</p>\n<h2 id=\"ArrayList和HashMap默认大小\"><a href=\"#ArrayList和HashMap默认大小\" class=\"headerlink\" title=\"ArrayList和HashMap默认大小?\"></a>ArrayList和HashMap默认大小?</h2><p>在 Java 7 中，ArrayList 的默认大小是 10 个元素，HashMap 的默认大小是16个元素（必须是2的幂）。这就是 Java 7 中 ArrayList 和 HashMap 类的代码片段<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">private static final int DEFAULT_CAPACITY = 10;</div><div class=\"line\"> </div><div class=\"line\"> //from HashMap.java JDK 7</div><div class=\"line\"> static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16</div></pre></td></tr></table></figure></p>\n<h2 id=\"Comparator和Comparable的区别\"><a href=\"#Comparator和Comparable的区别\" class=\"headerlink\" title=\"Comparator和Comparable的区别?\"></a>Comparator和Comparable的区别?</h2><p>Comparable 接口用于定义对象的自然顺序，而 comparator 通常用于定义用户定制的顺序。Comparable 总是只有一个，但是可以有多个 comparator 来定义对象的顺序。</p>\n<h2 id=\"如何实现集合排序\"><a href=\"#如何实现集合排序\" class=\"headerlink\" title=\"如何实现集合排序?\"></a>如何实现集合排序?</h2><p>你可以使用有序集合，如 TreeSet 或 TreeMap，你也可以使用有顺序的的集合，如 list，然后通过 Collections.sort() 来排序。</p>\n<h2 id=\"如何打印数组内容\"><a href=\"#如何打印数组内容\" class=\"headerlink\" title=\"如何打印数组内容\"></a>如何打印数组内容</h2><p>你可以使用 Arrays.toString() 和 Arrays.deepToString() 方法来打印数组。由于数组没有实现 toString() 方法，所以如果将数组传递给 System.out.println() 方法，将无法打印出数组的内容，但是 Arrays.toString() 可以打印每个元素。</p>\n<h2 id=\"LinkedList的是单向链表还是双向\"><a href=\"#LinkedList的是单向链表还是双向\" class=\"headerlink\" title=\"LinkedList的是单向链表还是双向?\"></a>LinkedList的是单向链表还是双向?</h2><p>双向循环列表,具体实现自行查阅源码.</p>\n<h2 id=\"TreeMap是实现原理\"><a href=\"#TreeMap是实现原理\" class=\"headerlink\" title=\"TreeMap是实现原理\"></a>TreeMap是实现原理</h2><p>采用红黑树实现,具体实现自行查阅源码.</p>\n<h2 id=\"遍历ArrayList时如何正确移除一个元素\"><a href=\"#遍历ArrayList时如何正确移除一个元素\" class=\"headerlink\" title=\"遍历ArrayList时如何正确移除一个元素\"></a>遍历ArrayList时如何正确移除一个元素</h2><p>该问题的关键在于面试者使用的是 ArrayList 的 remove() 还是 Iterator 的 remove()方法。这有一段示例代码，是使用正确的方式来实现在遍历的过程中移除元素，而不会出现 ConcurrentModificationException 异常的示例代码。</p>\n<h2 id=\"什么是ArrayMap-它和HashMap有什么区别\"><a href=\"#什么是ArrayMap-它和HashMap有什么区别\" class=\"headerlink\" title=\"什么是ArrayMap?它和HashMap有什么区别?\"></a>什么是ArrayMap?它和HashMap有什么区别?</h2><p>ArrayMap是Android SDK中提供的,非Android开发者可以略过.<br>ArrayMap是用两个数组来模拟map,更少的内存占用空间,更高的效率.<br>具体参考这篇文章:<a href=\"http://lvable.com/?p=217%5D\" target=\"_blank\" rel=\"external\">ArrayMap VS HashMap</a></p>\n<h2 id=\"HashMap的实现原理\"><a href=\"#HashMap的实现原理\" class=\"headerlink\" title=\"HashMap的实现原理\"></a>HashMap的实现原理</h2><p>1   HashMap概述：  HashMap是基于哈希表的Map接口的非同步实现。此实现提供所有可选的映射操作，并允许使用null值和null键。此类不保证映射的顺序，特别是它不保证该顺序恒久不变。<br>2   HashMap的数据结构： 在java编程语言中，最基本的结构就是两种，一个是数组，另外一个是模拟指针（引用），所有的数据结构都可以用这两个基本结构来构造的，HashMap也不例外。HashMap实际上是一个“链表散列”的数据结构，即数组和链表的结合体。</p>\n<p>当我们往Hashmap中put元素时,首先根据key的hashcode重新计算hash值,根绝hash值得到这个元素在数组中的位置(下标),如果该数组在该位置上已经存放了其他元素,那么在这个位置上的元素将以链表的形式存放,新加入的放在链头,最先加入的放入链尾.如果数组中该位置没有元素,就直接将该元素放到数组的该位置上.</p>\n<h2 id=\"你了解Fail-Fast机制吗\"><a href=\"#你了解Fail-Fast机制吗\" class=\"headerlink\" title=\"你了解Fail-Fast机制吗\"></a>你了解Fail-Fast机制吗</h2><p>Fail-Fast即我们常说的快速失败,更多内容参看<a href=\"http://blog.csdn.net/chenssy/article/details/38151189\" target=\"_blank\" rel=\"external\">fail-fast机制</a></p>\n<hr>\n<h1 id=\"关于日期\"><a href=\"#关于日期\" class=\"headerlink\" title=\"关于日期\"></a>关于日期</h1><h2 id=\"SimpleDateFormat是线程安全的吗\"><a href=\"#SimpleDateFormat是线程安全的吗\" class=\"headerlink\" title=\"SimpleDateFormat是线程安全的吗?\"></a>SimpleDateFormat是线程安全的吗?</h2><p>非常不幸，DateFormat 的所有实现，包括 SimpleDateFormat 都不是线程安全的，因此你不应该在多线程序中使用，除非是在对外线程安全的环境中使用，如 将 SimpleDateFormat 限制在 ThreadLocal 中。如果你不这么做，在解析或者格式化日期的时候，可能会获取到一个不正确的结果。因此，从日期、时间处理的所有实践来说，我强力推荐 joda-time 库。</p>\n<h2 id=\"如何格式化日期\"><a href=\"#如何格式化日期\" class=\"headerlink\" title=\"如何格式化日期?\"></a>如何格式化日期?</h2><p>Java 中，可以使用 SimpleDateFormat 类或者 joda-time 库来格式日期。DateFormat 类允许你使用多种流行的格式来格式化日期。参见答案中的示例代码，代码中演示了将日期格式化成不同的格式，如 dd-MM-yyyy 或 ddMMyyyy。</p>\n<hr>\n<h1 id=\"关于异常\"><a href=\"#关于异常\" class=\"headerlink\" title=\"关于异常\"></a>关于异常</h1><h2 id=\"简单描述java异常体系\"><a href=\"#简单描述java异常体系\" class=\"headerlink\" title=\"简单描述java异常体系\"></a>简单描述java异常体系</h2><p>相比没有人不了解异常体系,关于异常体系的更多信息可以见:<a href=\"http://blog.csdn.net/dd864140130/article/details/42504189\" target=\"_blank\" rel=\"external\">白话异常机制</a></p>\n<h2 id=\"什么是异常链\"><a href=\"#什么是异常链\" class=\"headerlink\" title=\"什么是异常链\"></a>什么是异常链</h2><p>详情直接参见<a href=\"http://blog.csdn.net/dd864140130/article/details/42504189\" target=\"_blank\" rel=\"external\">白话异常机制</a>,不做解释了.</p>\n<h2 id=\"throw和throws的区别\"><a href=\"#throw和throws的区别\" class=\"headerlink\" title=\"throw和throws的区别\"></a>throw和throws的区别</h2><p>throw用于主动抛出java.lang.Throwable 类的一个实例化对象，意思是说你可以通过关键字 throw 抛出一个 Error 或者 一个Exception，如：<code>throw new IllegalArgumentException(“size must be multiple of 2″)</code>,<br>而throws 的作用是作为方法声明和签名的一部分，方法被抛出相应的异常以便调用者能处理。Java 中，任何未处理的受检查异常强制在 throws 子句中声明。</p>\n<hr>\n<h2 id=\"关于序列化\"><a href=\"#关于序列化\" class=\"headerlink\" title=\"关于序列化\"></a>关于序列化</h2><h2 id=\"Java-中，Serializable-与-Externalizable-的区别\"><a href=\"#Java-中，Serializable-与-Externalizable-的区别\" class=\"headerlink\" title=\"Java 中，Serializable 与 Externalizable 的区别\"></a>Java 中，Serializable 与 Externalizable 的区别</h2><p>Serializable 接口是一个序列化 Java 类的接口，以便于它们可以在网络上传输或者可以将它们的状态保存在磁盘上，是 JVM 内嵌的默认序列化方式，成本高、脆弱而且不安全。Externalizable 允许你控制整个序列化过程，指定特定的二进制格式，增加安全机制。</p>\n<hr>\n<p>#关于JVM</p>\n<h2 id=\"JVM特性\"><a href=\"#JVM特性\" class=\"headerlink\" title=\"JVM特性\"></a>JVM特性</h2><p>平台无关性.<br>Java语言的一个非常重要的特点就是与平台的无关性。而使用Java虚拟机是实现这一特点的关键。一般的高级语言如果要在不同的平台上运行，至少需要编译成不同的目标代码。而引入Java语言虚拟机后，Java语言在不同平台上运行时不需要重新编译。Java语言使用模式Java虚拟机屏蔽了与具体平台相关的信息，使得Java语言编译程序只需生成在Java虚拟机上运行的目标代码（字节码），就可以在多种平台上不加修改地运行。Java虚拟机在执行字节码时，把字节码解释成具体平台上的机器指令执行。</p>\n<h2 id=\"简单解释一下类加载器\"><a href=\"#简单解释一下类加载器\" class=\"headerlink\" title=\"简单解释一下类加载器\"></a>简单解释一下类加载器</h2><p>有关类加载器一般会问你四种类加载器的应用场景以及双亲委派模型,更多的内容参看<a href=\"http://blog.csdn.net/dd864140130/article/details/49817357\" target=\"_blank\" rel=\"external\">深入理解JVM加载器</a></p>\n<h2 id=\"简述堆和栈的区别\"><a href=\"#简述堆和栈的区别\" class=\"headerlink\" title=\"简述堆和栈的区别\"></a>简述堆和栈的区别</h2><p>VM 中堆和栈属于不同的内存区域，使用目的也不同。栈常用于保存方法帧和局部变量，而对象总是在堆上分配。栈通常都比堆小，也不会在多个线程之间共享，而堆被整个 JVM 的所有线程共享。</p>\n<h2 id=\"简述JVM内存分配\"><a href=\"#简述JVM内存分配\" class=\"headerlink\" title=\"简述JVM内存分配\"></a>简述JVM内存分配</h2><ol>\n<li>基本数据类型比变量和对象的引用都是在栈分配的</li>\n<li>堆内存用来存放由new创建的对象和数组</li>\n<li>类变量（static修饰的变量），程序在一加载的时候就在堆中为类变量分配内存，堆中的内存地址存放在栈中</li>\n<li>实例变量：当你使用java关键字new的时候，系统在堆中开辟并不一定是连续的空间分配给变量，是根据零散的堆内存地址，通过哈希算法换算为一长串数字以表征这个变量在堆中的”物理位置”,实例变量的生命周期–当实例变量的引用丢失后，将被GC（垃圾回收器）列入可回收“名单”中，但并不是马上就释放堆中内存</li>\n<li>局部变量: 由声明在某方法，或某代码段里（比如for循环），执行到它的时候在栈中开辟内存，当局部变量一但脱离作用域，内存立即释放</li>\n</ol>\n<hr>\n<p>#其他</p>\n<h2 id=\"java当中采用的是大端还是小端\"><a href=\"#java当中采用的是大端还是小端\" class=\"headerlink\" title=\"java当中采用的是大端还是小端?\"></a>java当中采用的是大端还是小端?</h2><h2 id=\"XML解析的几种方式和特点\"><a href=\"#XML解析的几种方式和特点\" class=\"headerlink\" title=\"XML解析的几种方式和特点\"></a>XML解析的几种方式和特点</h2><p>DOM,SAX,PULL三种解析方式:</p>\n<ul>\n<li>DOM:消耗内存：先把xml文档都读到内存中，然后再用DOM API来访问树形结构，并获取数据。这个写起来很简单，但是很消耗内存。要是数据过大，手机不够牛逼，可能手机直接死机</li>\n<li>SAX:解析效率高，占用内存少，基于事件驱动的：更加简单地说就是对文档进行顺序扫描，当扫描到文档(document)开始与结束、元素(element)开始与结束、文档(document)结束等地方时通知事件处理函数，由事件处理函数做相应动作，然后继续同样的扫描，直至文档结束。</li>\n<li>PULL:与 SAX 类似，也是基于事件驱动，我们可以调用它的next（）方法，来获取下一个解析事件（就是开始文档，结束文档，开始标签，结束标签），当处于某个元素时可以调用XmlPullParser的getAttributte()方法来获取属性的值，也可调用它的nextText()获取本节点的值。</li>\n</ul>\n<h2 id=\"JDK-1-7特性\"><a href=\"#JDK-1-7特性\" class=\"headerlink\" title=\"JDK 1.7特性\"></a>JDK 1.7特性</h2><p>然 JDK 1.7 不像 JDK 5 和 8 一样的大版本，但是，还是有很多新的特性，如 try-with-resource 语句，这样你在使用流或者资源的时候，就不需要手动关闭，Java 会自动关闭。Fork-Join 池某种程度上实现 Java 版的 Map-reduce。允许 Switch 中有 String 变量和文本。菱形操作符(\\&lt;>)用于类型推断，不再需要在变量声明的右边申明泛型，因此可以写出可读写更强、更简洁的代码</p>\n<h2 id=\"JDK-1-8特性\"><a href=\"#JDK-1-8特性\" class=\"headerlink\" title=\"JDK 1.8特性\"></a>JDK 1.8特性</h2><p>java 8 在 Java 历史上是一个开创新的版本，下面 JDK 8 中 5 个主要的特性：<br>Lambda 表达式，允许像对象一样传递匿名函数<br>Stream API，充分利用现代多核 CPU，可以写出很简洁的代码<br>Date 与 Time API，最终，有一个稳定、简单的日期和时间库可供你使用<br>扩展方法，现在，接口中可以有静态、默认方法。<br>重复注解，现在你可以将相同的注解在同一类型上使用多次。</p>\n<h2 id=\"Maven和ANT有什么区别\"><a href=\"#Maven和ANT有什么区别\" class=\"headerlink\" title=\"Maven和ANT有什么区别?\"></a>Maven和ANT有什么区别?</h2><p>虽然两者都是构建工具，都用于创建 Java 应用，但是 Maven 做的事情更多，在基于“约定优于配置”的概念下，提供标准的Java 项目结构，同时能为应用自动管理依赖（应用中所依赖的 JAR 文件），Maven 与 ANT 工具更多的不同之处请参见答案。<br>这就是所有的面试题，如此之多，是不是？我可以保证，如果你能回答列表中的所有问题，你就可以很轻松的应付任何核心 Java 或者高级 Java 面试。虽然，这里没有涵盖 Servlet、JSP、JSF、JPA，JMS，EJB 及其它 Java EE 技术，也没有包含主流的框架如 spring MVC，Struts 2.0，hibernate，也没有包含 SOAP 和 RESTful web service，但是这份列表对做 Java 开发的、准备应聘 Java web 开发职位的人还是同样有用的，因为所有的 Java 面试，开始的问题都是 Java 基础和 JDK API 相关的。如果你认为我这里有任何应该在这份列表中而被我遗漏了的 Java 流行的问题，你可以自由的给我建议。我的目的是从最近的面试中创建一份最新的、最优的 Java 面试问题列表。</p>\n<h2 id=\"JDBC最佳实践\"><a href=\"#JDBC最佳实践\" class=\"headerlink\" title=\"JDBC最佳实践\"></a>JDBC最佳实践</h2><ul>\n<li>优先使用批量操作来插入和更新数据</li>\n<li>使用PreparedStatement来避免SQL漏洞</li>\n<li>使用数据连接池</li>\n<li>通过列名来获取结果集</li>\n</ul>\n<h2 id=\"IO操作最佳实践\"><a href=\"#IO操作最佳实践\" class=\"headerlink\" title=\"IO操作最佳实践\"></a>IO操作最佳实践</h2><ol>\n<li>使用有缓冲的IO类,不要单独读取字节或字符</li>\n<li>使用NIO和NIO 2或者AIO,而非BIO</li>\n<li>在finally中关闭流</li>\n<li>使用内存映射文件获取更快的IO</li>\n</ol>\n","excerpt":"<p>文章转自：<br><a href=\"http://blog.csdn.net/dd864140130/article/details/55833087\">java面试题</a></p>\n<h1 id=\"Java面试宝典\"><a href=\"#Java面试宝典\" class=\"headerlink\" title=\"Java面试宝典\"></a>Java面试宝典</h1><h1 id=\"相关概念\"><a href=\"#相关概念\" class=\"headerlink\" title=\"相关概念\"></a>相关概念</h1><h2 id=\"面向对象的三个特征\"><a href=\"#面向对象的三个特征\" class=\"headerlink\" title=\"面向对象的三个特征\"></a>面向对象的三个特征</h2><p>封装,继承,多态.这个应该是人人皆知.有时候也会加上抽象.</p>\n<h2 id=\"多态的好处\"><a href=\"#多态的好处\" class=\"headerlink\" title=\"多态的好处\"></a>多态的好处</h2><p>允许不同类对象对同一消息做出响应,即同一消息可以根据发送对象的不同而采用多种不同的行为方式(发送消息就是函数调用).主要有以下优点:</p>\n<ol>\n<li>可替换性:多态对已存在代码具有可替换性.</li>\n<li>可扩充性:增加新的子类不影响已经存在的类结构.</li>\n<li>接口性:多态是超累通过方法签名,想子类提供一个公共接口,由子类来完善或者重写它来实现的.</li>\n<li>灵活性:</li>\n<li>简化性:</li>\n</ol>\n<h3 id=\"代码中如何实现多态\"><a href=\"#代码中如何实现多态\" class=\"headerlink\" title=\"代码中如何实现多态\"></a>代码中如何实现多态</h3><p>实现多态主要有以下三种方式:</p>\n<ol>\n<li>接口实现</li>\n<li>继承父类重写方法</li>\n<li>同一类中进行方法重载</li></ol>","more":"<h3 id=\"虚拟机是如何实现多态的\"><a href=\"#虚拟机是如何实现多态的\" class=\"headerlink\" title=\"虚拟机是如何实现多态的\"></a>虚拟机是如何实现多态的</h3>动态绑定技术(dynamic binding),执行期间判断所引用对象的实际类型,根据实际类型调用对应的方法.\n\n<h2 id=\"接口的意义\"><a href=\"#接口的意义\" class=\"headerlink\" title=\"接口的意义\"></a>接口的意义</h2><p>接口的意义用三个词就可以概括:规范,扩展,回调.</p>\n<h2 id=\"抽象类的意义\"><a href=\"#抽象类的意义\" class=\"headerlink\" title=\"抽象类的意义\"></a>抽象类的意义</h2><p>抽象类的意义可以用三句话来概括:</p>\n<ol>\n<li>为其他子类提供一个公共的类型</li>\n<li>封装子类中重复定义的内容</li>\n<li>定义抽象方法,子类虽然有不同的实现,但是定义时一致的<h2 id=\"接口和抽象类的区别\"><a href=\"#接口和抽象类的区别\" class=\"headerlink\" title=\"接口和抽象类的区别\"></a>接口和抽象类的区别</h2></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th>比较</th>\n<th>抽象类</th>\n<th>接口</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>默认方法</td>\n<td>抽象类可以有默认的方法实现</td>\n<td>,java 8之前,接口中不存在方法的实现.</td>\n</tr>\n<tr>\n<td>实现方式</td>\n<td>子类使用extends关键字来继承抽象类.如果子类不是抽象类,子类需要提供抽象类中所声明方法的实现.</td>\n<td>子类使用implements来实现接口,需要提供接口中所有声明的实现.</td>\n</tr>\n<tr>\n<td>构造器</td>\n<td>抽象类中可以有构造器,</td>\n<td>接口中不能</td>\n</tr>\n<tr>\n<td>和正常类区别</td>\n<td>抽象类不能被实例化</td>\n<td>接口则是完全不同的类型</td>\n</tr>\n<tr>\n<td>访问修饰符</td>\n<td>抽象方法可以有public,protected和default等修饰</td>\n<td>接口默认是public,不能使用其他修饰符</td>\n</tr>\n<tr>\n<td>多继承</td>\n<td>一个子类只能存在一个父类</td>\n<td>一个子类可以存在多个接口</td>\n</tr>\n<tr>\n<td>添加新方法</td>\n<td>想抽象类中添加新方法,可以提供默认的实现,因此可以不修改子类现有的代码</td>\n<td>如果往接口中添加新方法,则子类中需要实现该方法.</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"父类的静态方法能否被子类重写\"><a href=\"#父类的静态方法能否被子类重写\" class=\"headerlink\" title=\"父类的静态方法能否被子类重写\"></a>父类的静态方法能否被子类重写</h2><p>不能.子类继承父类后,有相同的静态方法和非静态,这是非静态方法覆盖父类中的方法(即方法重写),父类的该静态方法被隐藏(如果对象是父类则调用该隐藏的方法),另外子类可集成父类的静态与非静态方法,至于方法重载我觉得它其中一要素就是在同一类中,不能说父类中的什么方法与子类里的什么方法是方法重载的体现.</p>\n<h2 id=\"什么是不可变对象\"><a href=\"#什么是不可变对象\" class=\"headerlink\" title=\"什么是不可变对象\"></a>什么是不可变对象</h2><p>不可变对象指对象一旦被创建，状态就不能再改变。任何修改都会创建一个新的对象，如 String、Integer及其它包装类。</p>\n<h2 id=\"能否创建一个包含可变对象的不可变对象\"><a href=\"#能否创建一个包含可变对象的不可变对象\" class=\"headerlink\" title=\"能否创建一个包含可变对象的不可变对象?\"></a>能否创建一个包含可变对象的不可变对象?</h2><p>当然可以创建一个包含可变对象的不可变对象的，你只需要谨慎一点，不要共享可变对象的引用就可以了，如果需要变化时，就返回原对象的一个拷贝。最常见的例子就是对象中包含一个日期对象的引用.</p>\n<h2 id=\"java-创建对象的几种方式\"><a href=\"#java-创建对象的几种方式\" class=\"headerlink\" title=\"java 创建对象的几种方式\"></a>java 创建对象的几种方式</h2><ol>\n<li>采用new</li>\n<li>通过反射</li>\n<li>采用clone</li>\n<li>通过序列化机制</li>\n</ol>\n<p>前2者都需要显式地调用构造方法.   造成耦合性最高的恰好是第一种,因此你发现无论什么框架,只要涉及到解耦必先减少new的使用.</p>\n<h2 id=\"switch中能否使用string做参数\"><a href=\"#switch中能否使用string做参数\" class=\"headerlink\" title=\"switch中能否使用string做参数\"></a>switch中能否使用string做参数</h2><p>在idk 1.7之前,switch只能支持byte,short,char,int或者其对应的封装类以及Enum类型。从idk 1.7之后switch开始支持String.</p>\n<h2 id=\"Object中有哪些公共方法\"><a href=\"#Object中有哪些公共方法\" class=\"headerlink\" title=\"Object中有哪些公共方法?\"></a>Object中有哪些公共方法?</h2><ol>\n<li><code>equals()</code></li>\n<li><code>clone()</code></li>\n<li><code>getClass()</code></li>\n<li><code>notify(),notifyAll(),wait()</code></li>\n</ol>\n<h2 id=\"java当中的四种引用\"><a href=\"#java当中的四种引用\" class=\"headerlink\" title=\"java当中的四种引用\"></a>java当中的四种引用</h2><p>强引用,软引用,弱引用,虚引用.不同的引用类型主要体现在GC上:</p>\n<ol>\n<li>强引用：如果一个对象具有强引用，它就不会被垃圾回收器回收。即使当前内存空间不足，JVM也不会回收它，而是抛出 OutOfMemoryError 错误，使程序异常终止。如果想中断强引用和某个对象之间的关联，可以显式地将引用赋值为null，这样一来的话，JVM在合适的时间就会回收该对象</li>\n<li>软引用：在使用软引用时，如果内存的空间足够，软引用就能继续被使用，而不会被垃圾回收器回收，只有在内存不足时，软引用才会被垃圾回收器回收。</li>\n<li>弱引用：具有弱引用的对象拥有的生命周期更短暂。因为当 JVM 进行垃圾回收，一旦发现弱引用对象，无论当前内存空间是否充足，都会将弱引用回收。不过由于垃圾回收器是一个优先级较低的线程，所以并不一定能迅速发现弱引用对象</li>\n<li>虚引用：顾名思义，就是形同虚设，如果一个对象仅持有虚引用，那么它相当于没有引用，在任何时候都可能被垃圾回收器回收。</li>\n</ol>\n<p>更多了解参见<a href=\"http://blog.csdn.net/dd864140130/article/details/49885811\">深入对象引用</a></p>\n<h2 id=\"WeakReference与SoftReference的区别\"><a href=\"#WeakReference与SoftReference的区别\" class=\"headerlink\" title=\"WeakReference与SoftReference的区别?\"></a>WeakReference与SoftReference的区别?</h2><p>这点在四种引用类型中已经做了解释,这里简单说明一下即可:<br>虽然 WeakReference 与 SoftReference 都有利于提高 GC 和 内存的效率，但是 WeakReference ，一旦失去最后一个强引用，就会被 GC 回收，而软引用虽然不能阻止被回收，但是可以延迟到 JVM 内存不足的时候。</p>\n<h2 id=\"为什么要有不同的引用类型\"><a href=\"#为什么要有不同的引用类型\" class=\"headerlink\" title=\"为什么要有不同的引用类型\"></a>为什么要有不同的引用类型</h2><p>不像C语言,我们可以控制内存的申请和释放,在Java中有时候我们需要适当的控制对象被回收的时机,因此就诞生了不同的引用类型,可以说不同的引用类型实则是对GC回收时机不可控的妥协.有以下几个使用场景可以充分的说明:</p>\n<ol>\n<li>利用软引用和弱引用解决OOM问题：用一个HashMap来保存图片的路径和相应图片对象关联的软引用之间的映射关系，在内存不足时，JVM会自动回收这些缓存图片对象所占用的空间，从而有效地避免了OOM的问题.</li>\n<li>通过软引用实现Java对象的高速缓存:比如我们创建了一Person的类，如果每次需要查询一个人的信息,哪怕是几秒中之前刚刚查询过的，都要重新构建一个实例，这将引起大量Person对象的消耗,并且由于这些对象的生命周期相对较短,会引起多次GC影响性能。此时,通过软引用和 HashMap 的结合可以构建高速缓存,提供性能.</li>\n</ol>\n<h2 id=\"java中-和eqauls-的区别-equals-和-hashcode的区别\"><a href=\"#java中-和eqauls-的区别-equals-和-hashcode的区别\" class=\"headerlink\" title=\"java中==和eqauls()的区别,equals()和`hashcode的区别\"></a>java中==和<code>eqauls()</code>的区别,<code>equals()</code>和`hashcode的区别</h2><p>==是运算符,用于比较两个变量是否相等,而equals是Object类的方法,用于比较两个对象是否相等.默认Object类的equals方法是比较两个对象的地址,此时和==的结果一样.换句话说:基本类型比较用==,比较的是他们的值.默认下,对象用==比较时,比较的是内存地址,如果需要比较对象内容,需要重写equal方法</p>\n<p>##<code>equals()</code>和<code>hashcode()</code>的联系<br><code>hashCode()</code>是Object类的一个方法,返回一个哈希值.如果两个对象根据equal()方法比较相等,那么调用这两个对象中任意一个对象的hashCode()方法必须产生相同的哈希值.<br>如果两个对象根据eqaul()方法比较不相等,那么产生的哈希值不一定相等(碰撞的情况下还是会相等的.)</p>\n<h2 id=\"a-hashCode-有什么用-与a-equals-b-有什么关系\"><a href=\"#a-hashCode-有什么用-与a-equals-b-有什么关系\" class=\"headerlink\" title=\"a.hashCode()有什么用?与a.equals(b)有什么关系\"></a>a.hashCode()有什么用?与a.equals(b)有什么关系</h2><p>hashCode() 方法是相应对象整型的 hash 值。它常用于基于 hash 的集合类，如 Hashtable、HashMap、LinkedHashMap等等。它与 equals() 方法关系特别紧密。根据 Java 规范，两个使用 equal() 方法来判断相等的对象，必须具有相同的 hashcode。</p>\n<p>将对象放入到集合中时,首先判断要放入对象的hashcode是否已经在集合中存在,不存在则直接放入集合.如果hashcode相等,然后通过equal()方法判断要放入对象与集合中的任意对象是否相等:如果equal()判断不相等,直接将该元素放入集合中,否则不放入.</p>\n<h2 id=\"有没有可能两个不相等的对象有相同的hashcode\"><a href=\"#有没有可能两个不相等的对象有相同的hashcode\" class=\"headerlink\" title=\"有没有可能两个不相等的对象有相同的hashcode\"></a>有没有可能两个不相等的对象有相同的hashcode</h2><p>有可能，两个不相等的对象可能会有相同的 hashcode 值，这就是为什么在 hashmap 中会有冲突。相等 hashcode 值的规定只是说如果两个对象相等，必须有相同的hashcode 值，但是没有关于不相等对象的任何规定。</p>\n<h2 id=\"可以在hashcode中使用随机数字吗\"><a href=\"#可以在hashcode中使用随机数字吗\" class=\"headerlink\" title=\"可以在hashcode中使用随机数字吗?\"></a>可以在hashcode中使用随机数字吗?</h2><p>不行，因为同一对象的 hashcode 值必须是相同的</p>\n<h2 id=\"“a-b”与a-equals-b-有什么区别\"><a href=\"#“a-b”与a-equals-b-有什么区别\" class=\"headerlink\" title=\"“a==b”与a.equals(b)有什么区别\"></a>“a==b”与a.equals(b)有什么区别</h2><p>如果a 和b 都是对象，则 a==b 是比较两个对象的引用，只有当 a 和 b 指向的是堆中的同一个对象才会返回 true，而 a.equals(b) 是进行逻辑比较，所以通常需要重写该方法来提供逻辑一致性的比较。例如，String 类重写 equals() 方法，所以可以用于两个不同对象，但是包含的字母相同的比较。</p>\n<h2 id=\"3-0-1-0-3返回值是什么\"><a href=\"#3-0-1-0-3返回值是什么\" class=\"headerlink\" title=\"3*0.1==0.3返回值是什么\"></a><code>3*0.1==0.3</code>返回值是什么</h2><p>false，因为有些浮点数不能完全精确的表示出来。</p>\n<h2 id=\"a-a-b与a-b有什么区别吗\"><a href=\"#a-a-b与a-b有什么区别吗\" class=\"headerlink\" title=\"a=a+b与a+=b有什么区别吗?\"></a>a=a+b与a+=b有什么区别吗?</h2><p>隐式的将加操作的结果类型强制转换为持有结果的类型。如果两这个整型相加，如 byte、short 或者 int，首先会将它们提升到 int 类型，然后在执行加法操作。如果加法操作的结果比 a 的最大值要大，则 a+b 会出现编译错误，但是 a += b 没问题，如下：<br>byte a = 127;<br>byte b = 127;<br>b = a + b; // error : cannot convert from int to byte<br>b += a; // ok<br>（译者注：这个地方应该表述的有误，其实无论 a+b 的值为多少，编译器都会报错，因为 a+b 操作会将 a、b 提升为 int 类型，所以将 int 类型赋值给 byte 就会编译出错）</p>\n<h2 id=\"内部类的作用\"><a href=\"#内部类的作用\" class=\"headerlink\" title=\"内部类的作用\"></a>内部类的作用</h2><p>内部类可以用多个实例,每个实例都有自己的状态信息,并且与其他外围对象的信息相互独立.在单个外围类当中,可以让多个内部类以不同的方式实现同一接口,或者继承同一个类.创建内部类对象的时刻病不依赖于外部类对象的创建.内部类并没有令人疑惑的”is-a”关系,它就像是一个独立的实体.</p>\n<p>内部类提供了更好的封装,除了该外围类,其他类都不能访问</p>\n<h2 id=\"final-finalize和finally的不同之处\"><a href=\"#final-finalize和finally的不同之处\" class=\"headerlink\" title=\"final,finalize和finally的不同之处\"></a>final,finalize和finally的不同之处</h2><p>final 是一个修饰符，可以修饰变量、方法和类。如果 final 修饰变量，意味着该变量的值在初始化后不能被改变。finalize 方法是在对象被回收之前调用的方法，给对象自己最后一个复活的机会，但是什么时候调用 finalize 没有保证。finally 是一个关键字，与 try 和 catch 一起用于异常的处理。finally 块一定会被执行，无论在 try 块中是否有发生异常。</p>\n<h2 id=\"clone-是哪个类型的方法\"><a href=\"#clone-是哪个类型的方法\" class=\"headerlink\" title=\"clone()是哪个类型的方法?\"></a>clone()是哪个类型的方法?</h2><p>java.lang.Cloneable 是一个标示性接口，不包含任何方法，clone 方法在 object 类中定义。并且需要知道 clone() 方法是一个本地方法，这意味着它是由 c 或 c++ 或 其他本地语言实现的。</p>\n<h2 id=\"深拷贝和浅拷贝的区别是什么\"><a href=\"#深拷贝和浅拷贝的区别是什么\" class=\"headerlink\" title=\"深拷贝和浅拷贝的区别是什么?\"></a>深拷贝和浅拷贝的区别是什么?</h2><p>浅拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而所有的对其他对象的引用仍然指向原来的对象。换言之，浅拷贝仅仅复制所考虑的对象，而不复制它所引用的对象。</p>\n<p>深拷贝：被复制对象的所有变量都含有与原来的对象相同的值，而那些引用其他对象的变量将指向被复制过的新对象，而不再是原有的那些被引用的对象。换言之，深拷贝把要复制的对象所引用的对象都复制了一遍。</p>\n<h2 id=\"static都有哪些用法\"><a href=\"#static都有哪些用法\" class=\"headerlink\" title=\"static都有哪些用法?\"></a>static都有哪些用法?</h2><p>几乎所有的人都知道static关键字这两个基本的用法:静态变量和静态方法.也就是被static所修饰的变量/方法都属于类的静态资源,类实例所共享.</p>\n<p>除了静态变量和静态方法之外,static也用于静态块,多用于初始化操作:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> calss PreCache&#123;</div><div class=\"line\">    <span class=\"keyword\">static</span>&#123;</div><div class=\"line\">        <span class=\"comment\">//执行相关操作</span></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>此外static也多用于修饰内部类,此时称之为静态内部类.</p>\n<p>最后一种用法就是静态导包,即<code>import static</code>.import static是在JDK 1.5之后引入的新特性,可以用来指定导入某个类中的静态资源,并且不需要使用类名.资源名,可以直接使用资源名,比如:<br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> <span class=\"keyword\">static</span> java.lang.Math.*;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span></span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">//System.out.println(Math.sin(20));传统做法</span></div><div class=\"line\">        System.out.println(sin(<span class=\"number\">20</span>));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"final有哪些用法\"><a href=\"#final有哪些用法\" class=\"headerlink\" title=\"final有哪些用法\"></a>final有哪些用法</h2><p>final也是很多面试喜欢问的地方,能回答下以下三点就不错了:<br>1.被final修饰的类不可以被继承<br>2.被final修饰的方法不可以被重写<br>3.被final修饰的变量不可以被改变.如果修饰的引用,那么表示引用不可变,引用指向的内容可变.<br>4.被final修饰的方法,JVM会尝试将其内联,以提高运行效率<br>5.被final修饰的常量,在编译阶段会存入常量池中.</p>\n<p>当前回答出编译器对final域要遵守的两个重排序规则更好:<br>1.在构造函数内对一个final域的写入,与随后把这个被构造对象的引用赋值给一个引用变量,这两个操作之间不能重排序.<br>2.初次读一个包含final域的对象的引用,与随后初次读这个final域,这两个操作之间不能重排序.</p>\n<hr>\n<p>#数据类型相关</p>\n<h2 id=\"java中int-char-long各占多少字节\"><a href=\"#java中int-char-long各占多少字节\" class=\"headerlink\" title=\"java中int char,long各占多少字节?\"></a>java中int char,long各占多少字节?</h2><table>\n<thead>\n<tr>\n<th>类型</th>\n<th>位数</th>\n<th>字节数</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>short</td>\n<td>2</td>\n<td>16</td>\n</tr>\n<tr>\n<td>int</td>\n<td>4</td>\n<td>32</td>\n</tr>\n<tr>\n<td>long</td>\n<td>8</td>\n<td>64</td>\n</tr>\n<tr>\n<td>float</td>\n<td>4</td>\n<td>32</td>\n</tr>\n<tr>\n<td>double</td>\n<td>8</td>\n<td>64</td>\n</tr>\n<tr>\n<td>char</td>\n<td>2</td>\n<td>16</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"64位的JVM当中-int的长度是多少\"><a href=\"#64位的JVM当中-int的长度是多少\" class=\"headerlink\" title=\"64位的JVM当中,int的长度是多少?\"></a>64位的JVM当中,int的长度是多少?</h2><p>Java 中，int 类型变量的长度是一个固定值，与平台无关，都是 32 位。意思就是说，在 32 位 和 64 位 的Java 虚拟机中，int 类型的长度是相同的。</p>\n<h2 id=\"java-int和Integer的区别\"><a href=\"#java-int和Integer的区别\" class=\"headerlink\" title=\"java int和Integer的区别\"></a>java int和Integer的区别</h2><p>Integer是int的包装类型,在拆箱和装箱中,而知自动转换.int是基本类型，直接存数值，而integer是对象，用一个引用指向这个对象.</p>\n<h2 id=\"int-和Integer谁占用的内存更多\"><a href=\"#int-和Integer谁占用的内存更多\" class=\"headerlink\" title=\"int 和Integer谁占用的内存更多?\"></a>int 和Integer谁占用的内存更多?</h2><p>Integer 对象会占用更多的内存。Integer是一个对象，需要存储对象的元数据。但是 int 是一个原始类型的数据，所以占用的空间更少。</p>\n<h2 id=\"String-StringBuffer和StringBuilder区别\"><a href=\"#String-StringBuffer和StringBuilder区别\" class=\"headerlink\" title=\"String,StringBuffer和StringBuilder区别\"></a>String,StringBuffer和StringBuilder区别</h2><p>String是字符串常量,final修饰;StringBuffer字符串变量(线程安全);<br>StringBuilder 字符串变量(线程不安全).</p>\n<h3 id=\"String和StringBuffer\"><a href=\"#String和StringBuffer\" class=\"headerlink\" title=\"String和StringBuffer\"></a>String和StringBuffer</h3><p>String和StringBuffer主要区别是性能:String是不可变对象,每次对String类型进行操作都等同于产生了一个新的String对象,然后指向新的String对象.所以尽量不在对String进行大量的拼接操作,否则会产生很多临时对象,导致GC开始工作,影响系统性能.</p>\n<p>StringBuffer是对对象本身操作,而不是产生新的对象,因此在通常在有大量拼接的情况下我们建议使用StringBuffer.</p>\n<p>但是需要注意现在JVM会对String拼接做一定的优化:<br><code>String s=“This is only ”+”simple”+”test”</code>会被虚拟机直接优化成<code>String s=“This is only simple test”</code>,此时就不存在拼接过程.</p>\n<h3 id=\"StringBuffer和StringBuilder\"><a href=\"#StringBuffer和StringBuilder\" class=\"headerlink\" title=\"StringBuffer和StringBuilder\"></a>StringBuffer和StringBuilder</h3><p>StringBuffer是线程安全的可变字符串,其内部实现是可变数组.StringBuilder是java 5.0新增的,其功能和StringBuffer类似,但是非线程安全.因此,在没有多线程问题的前提下,使用StringBuilder会取得更好的性能.</p>\n<h2 id=\"什么是编译器常量-使用它有什么风险\"><a href=\"#什么是编译器常量-使用它有什么风险\" class=\"headerlink\" title=\"什么是编译器常量?使用它有什么风险?\"></a>什么是编译器常量?使用它有什么风险?</h2><p>公共静态不可变（public static final ）变量也就是我们所说的编译期常量，这里的 public 可选的。实际上这些变量在编译时会被替换掉，因为编译器知道这些变量的值，并且知道这些变量在运行时不能改变。这种方式存在的一个问题是你使用了一个内部的或第三方库中的公有编译时常量，但是这个值后面被其他人改变了，但是你的客户端仍然在使用老的值，甚至你已经部署了一个新的jar。为了避免这种情况，当你在更新依赖 JAR 文件时，确保重新编译你的程序。</p>\n<h2 id=\"java当中使用什么类型表示价格比较好\"><a href=\"#java当中使用什么类型表示价格比较好\" class=\"headerlink\" title=\"java当中使用什么类型表示价格比较好?\"></a>java当中使用什么类型表示价格比较好?</h2><p>如果不是特别关心内存和性能的话，使用BigDecimal，否则使用预定义精度的 double 类型。</p>\n<h2 id=\"如何将byte转为String\"><a href=\"#如何将byte转为String\" class=\"headerlink\" title=\"如何将byte转为String\"></a>如何将byte转为String</h2><p>可以使用 String 接收 byte[] 参数的构造器来进行转换，需要注意的点是要使用的正确的编码，否则会使用平台默认编码，这个编码可能跟原来的编码相同，也可能不同。</p>\n<h2 id=\"可以将int强转为byte类型么-会产生什么问题\"><a href=\"#可以将int强转为byte类型么-会产生什么问题\" class=\"headerlink\" title=\"可以将int强转为byte类型么?会产生什么问题?\"></a>可以将int强转为byte类型么?会产生什么问题?</h2><p>我们可以做强制转换，但是Java中int是32位的而byte是8 位的，所以,如果强制转化int类型的高24位将会被丢弃，byte 类型的范围是从-128.到128</p>\n<hr>\n<h2 id=\"关于垃圾回收\"><a href=\"#关于垃圾回收\" class=\"headerlink\" title=\"关于垃圾回收\"></a>关于垃圾回收</h2><h2 id=\"你知道哪些垃圾回收算法\"><a href=\"#你知道哪些垃圾回收算法\" class=\"headerlink\" title=\"你知道哪些垃圾回收算法?\"></a>你知道哪些垃圾回收算法?</h2><p>垃圾回收从理论上非常容易理解,具体的方法有以下几种:</p>\n<ol>\n<li>标记-清除</li>\n<li>标记-复制</li>\n<li>标记-整理</li>\n<li>分代回收<br>更详细的内容参见<a href=\"http://blog.csdn.net/dd864140130/article/details/50084471\">深入理解垃圾回收算法</a></li>\n</ol>\n<p>##如何判断一个对象是否应该被回收<br>这就是所谓的对象存活性判断,常用的方法有两种:1.引用计数法;2:对象可达性分析.由于引用计数法存在互相引用导致无法进行GC的问题,所以目前JVM虚拟机多使用对象可达性分析算法.</p>\n<p>##简单的解释一下垃圾回收<br>Java 垃圾回收机制最基本的做法是分代回收。内存中的区域被划分成不同的世代，对象根据其存活的时间被保存在对应世代的区域中。一般的实现是划分成3个世代：年轻、年老和永久。内存的分配是发生在年轻世代中的。当一个对象存活时间足够长的时候，它就会被复制到年老世代中。对于不同的世代可以使用不同的垃圾回收算法。进行世代划分的出发点是对应用中对象存活时间进行研究之后得出的统计规律。一般来说，一个应用中的大部分对象的存活时间都很短。比如局部变量的存活时间就只在方法的执行过程中。基于这一点，对于年轻世代的垃圾回收算法就可以很有针对性.</p>\n<h2 id=\"调用System-gc-会发生什么\"><a href=\"#调用System-gc-会发生什么\" class=\"headerlink\" title=\"调用System.gc()会发生什么?\"></a>调用System.gc()会发生什么?</h2><p>通知GC开始工作,但是GC真正开始的时间不确定.</p>\n<hr>\n<h1 id=\"进程-线程相关\"><a href=\"#进程-线程相关\" class=\"headerlink\" title=\"进程,线程相关\"></a>进程,线程相关</h1><h2 id=\"说说进程-线程-协程之间的区别\"><a href=\"#说说进程-线程-协程之间的区别\" class=\"headerlink\" title=\"说说进程,线程,协程之间的区别\"></a>说说进程,线程,协程之间的区别</h2><p>简而言之,进程是程序运行和资源分配的基本单位,一个程序至少有一个进程,一个进程至少有一个线程.进程在执行过程中拥有独立的内存单元,而多个线程共享内存资源,减少切换次数,从而效率更高.线程是进程的一个实体,是cpu调度和分派的基本单位,是比程序更小的能独立运行的基本单位.同一进程中的多个线程之间可以并发执行.</p>\n<h2 id=\"你了解守护线程吗-它和非守护线程有什么区别\"><a href=\"#你了解守护线程吗-它和非守护线程有什么区别\" class=\"headerlink\" title=\"你了解守护线程吗?它和非守护线程有什么区别\"></a>你了解守护线程吗?它和非守护线程有什么区别</h2><p>程序运行完毕,jvm会等待非守护线程完成后关闭,但是jvm不会等待守护线程.守护线程最典型的例子就是GC线程</p>\n<h2 id=\"什么是多线程上下文切换\"><a href=\"#什么是多线程上下文切换\" class=\"headerlink\" title=\"什么是多线程上下文切换\"></a>什么是多线程上下文切换</h2><p>多线程的上下文切换是指CPU控制权由一个已经正在运行的线程切换到另外一个就绪并等待获取CPU执行权的线程的过程。</p>\n<h2 id=\"创建两种线程的方式-他们有什么区别\"><a href=\"#创建两种线程的方式-他们有什么区别\" class=\"headerlink\" title=\"创建两种线程的方式?他们有什么区别?\"></a>创建两种线程的方式?他们有什么区别?</h2><p>通过实现java.lang.Runnable或者通过扩展java.lang.Thread类.相比扩展Thread,实现Runnable接口可能更优.原因有二:</p>\n<ol>\n<li>Java不支持多继承.因此扩展Thread类就代表这个子类不能扩展其他类.而实现Runnable接口的类还可能扩展另一个类.</li>\n<li>类可能只要求可执行即可,因此集成整个Thread类的开销过大.</li>\n</ol>\n<h2 id=\"Runnable和Callable的区别\"><a href=\"#Runnable和Callable的区别\" class=\"headerlink\" title=\"Runnable和Callable的区别\"></a>Runnable和Callable的区别</h2><p>Runnable接口中的run()方法的返回值是void，它做的事情只是纯粹地去执行run()方法中的代码而已；Callable接口中的call()方法是有返回值的，是一个泛型，和Future、FutureTask配合可以用来获取异步执行的结果。<br>这其实是很有用的一个特性，因为多线程相比单线程更难、更复杂的一个重要原因就是因为多线程充满着未知性，某条线程是否执行了？某条线程执行了多久？某条线程执行的时候我们期望的数据是否已经赋值完毕？无法得知，我们能做的只是等待这条多线程的任务执行完毕而已。而Callable+Future/FutureTask却可以获取多线程运行的结果，可以在等待时间太长没获取到需要的数据的情况下取消该线程的任务，真的是非常有用。</p>\n<h2 id=\"什么导致线程阻塞\"><a href=\"#什么导致线程阻塞\" class=\"headerlink\" title=\"什么导致线程阻塞\"></a>什么导致线程阻塞</h2><p>阻塞指的是暂停一个线程的执行以等待某个条件发生（如某资源就绪），学过操作系统的同学对它一定已经很熟悉了。Java 提供了大量方法来支持阻塞，下面让我们逐一分析。</p>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>sleep()</td>\n<td>sleep() 允许 指定以毫秒为单位的一段时间作为参数，它使得线程在指定的时间内进入阻塞状态，不能得到CPU 时间，指定的时间一过，线程重新进入可执行状态。 典型地，sleep() 被用在等待某个资源就绪的情形：测试发现条件不满足后，让线程阻塞一段时间后重新测试，直到条件满足为止</td>\n</tr>\n<tr>\n<td>suspend() 和 resume()</td>\n<td>两个方法配套使用，suspend()使得线程进入阻塞状态，并且不会自动恢复，必须其对应的resume() 被调用，才能使得线程重新进入可执行状态。典型地，suspend() 和 resume() 被用在等待另一个线程产生的结果的情形：测试发现结果还没有产生后，让线程阻塞，另一个线程产生了结果后，调用 resume() 使其恢复。</td>\n</tr>\n<tr>\n<td>yield()</td>\n<td>yield() 使得线程放弃当前分得的 CPU 时间，但是不使线程阻塞，即线程仍处于可执行状态，随时可能再次分得 CPU 时间。调用 yield() 的效果等价于调度程序认为该线程已执行了足够的时间从而转到另一个线程</td>\n</tr>\n<tr>\n<td>wait() 和 notify()</td>\n<td>两个方法配套使用，wait() 使得线程进入阻塞状态，它有两种形式，一种允许 指定以毫秒为单位的一段时间作为参数，另一种没有参数，前者当对应的 notify() 被调用或者超出指定时间时线程重新进入可执行状态，后者则必须对应的 notify() 被调用.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"wait-notify-和suspend-resume-之间的区别\"><a href=\"#wait-notify-和suspend-resume-之间的区别\" class=\"headerlink\" title=\"wait(),notify()和suspend(),resume()之间的区别\"></a>wait(),notify()和suspend(),resume()之间的区别</h2><p>初看起来它们与 suspend() 和 resume() 方法对没有什么分别，但是事实上它们是截然不同的。区别的核心在于，前面叙述的所有方法，阻塞时都不会释放占用的锁（如果占用了的话），而这一对方法则相反。上述的核心区别导致了一系列的细节上的区别。</p>\n<p>首先，前面叙述的所有方法都隶属于 Thread 类，但是这一对却直接隶属于 Object 类，也就是说，所有对象都拥有这一对方法。初看起来这十分不可思议，但是实际上却是很自然的，因为这一对方法阻塞时要释放占用的锁，而锁是任何对象都具有的，调用任意对象的 wait() 方法导致线程阻塞，并且该对象上的锁被释放。而调用 任意对象的notify()方法则导致因调用该对象的 wait() 方法而阻塞的线程中随机选择的一个解除阻塞（但要等到获得锁后才真正可执行）。</p>\n<p>其次，前面叙述的所有方法都可在任何位置调用，但是这一对方法却必须在 synchronized 方法或块中调用，理由也很简单，只有在synchronized 方法或块中当前线程才占有锁，才有锁可以释放。同样的道理，调用这一对方法的对象上的锁必须为当前线程所拥有，这样才有锁可以释放。因此，这一对方法调用必须放置在这样的 synchronized 方法或块中，该方法或块的上锁对象就是调用这一对方法的对象。若不满足这一条件，则程序虽然仍能编译，但在运行时会出现IllegalMonitorStateException 异常。</p>\n<p>wait() 和 notify() 方法的上述特性决定了它们经常和synchronized 方法或块一起使用，将它们和操作系统的进程间通信机制作一个比较就会发现它们的相似性：synchronized方法或块提供了类似于操作系统原语的功能，它们的执行不会受到多线程机制的干扰，而这一对方法则相当于 block 和wakeup 原语（这一对方法均声明为 synchronized）。它们的结合使得我们可以实现操作系统上一系列精妙的进程间通信的算法（如信号量算法），并用于解决各种复杂的线程间通信问题。</p>\n<p>关于 wait() 和 notify() 方法最后再说明两点：<br>第一：调用 notify() 方法导致解除阻塞的线程是从因调用该对象的 wait() 方法而阻塞的线程中随机选取的，我们无法预料哪一个线程将会被选择，所以编程时要特别小心，避免因这种不确定性而产生问题。</p>\n<p>第二：除了 notify()，还有一个方法 notifyAll() 也可起到类似作用，唯一的区别在于，调用 notifyAll() 方法将把因调用该对象的 wait() 方法而阻塞的所有线程一次性全部解除阻塞。当然，只有获得锁的那一个线程才能进入可执行状态。</p>\n<p>谈到阻塞，就不能不谈一谈死锁，略一分析就能发现，suspend() 方法和不指定超时期限的 wait() 方法的调用都可能产生死锁。遗憾的是，Java 并不在语言级别上支持死锁的避免，我们在编程中必须小心地避免死锁。</p>\n<p>以上我们对 Java 中实现线程阻塞的各种方法作了一番分析，我们重点分析了 wait() 和 notify() 方法，因为它们的功能最强大，使用也最灵活，但是这也导致了它们的效率较低，较容易出错。实际使用中我们应该灵活使用各种方法，以便更好地达到我们的目的。</p>\n<h2 id=\"为什么wait-方法和notify-notifyAll-方法要在同步块中被调用\"><a href=\"#为什么wait-方法和notify-notifyAll-方法要在同步块中被调用\" class=\"headerlink\" title=\"为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用\"></a>为什么wait()方法和notify()/notifyAll()方法要在同步块中被调用</h2><p>这是JDK强制的，wait()方法和notify()/notifyAll()方法在调用前都必须先获得对象的锁</p>\n<h2 id=\"wait-方法和notify-notifyAll-方法在放弃对象监视器时有什么区别\"><a href=\"#wait-方法和notify-notifyAll-方法在放弃对象监视器时有什么区别\" class=\"headerlink\" title=\"wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别\"></a>wait()方法和notify()/notifyAll()方法在放弃对象监视器时有什么区别</h2><p>wait()方法和notify()/notifyAll()方法在放弃对象监视器的时候的区别在于：wait()方法立即释放对象监视器，notify()/notifyAll()方法则会等待线程剩余代码执行完毕才会放弃对象监视器。</p>\n<h2 id=\"wait-与sleep-的区别\"><a href=\"#wait-与sleep-的区别\" class=\"headerlink\" title=\"wait()与sleep()的区别\"></a>wait()与sleep()的区别</h2><p> 关于这两者已经在上面进行详细的说明,这里就做个概括好了:</p>\n<ul>\n<li>sleep()来自Thread类，和wait()来自Object类.调用sleep()方法的过程中，线程不会释放对象锁。而 调用 wait 方法线程会释放对象锁</li>\n<li>sleep()睡眠后不出让系统资源，wait让其他线程可以占用CPU</li>\n<li>sleep(milliseconds)需要指定一个睡眠时间，时间一到会自动唤醒.而wait()需要配合notify()或者notifyAll()使用</li>\n</ul>\n<h2 id=\"synchronized和ReentrantLock的区别\"><a href=\"#synchronized和ReentrantLock的区别\" class=\"headerlink\" title=\"synchronized和ReentrantLock的区别\"></a>synchronized和ReentrantLock的区别</h2><p>synchronized是和if、else、for、while一样的关键字，ReentrantLock是类，这是二者的本质区别。既然ReentrantLock是类，那么它就提供了比synchronized更多更灵活的特性，可以被继承、可以有方法、可以有各种各样的类变量，ReentrantLock比synchronized的扩展性体现在几点上：<br>（1）ReentrantLock可以对获取锁的等待时间进行设置，这样就避免了死锁<br>（2）ReentrantLock可以获取各种锁的信息<br>（3）ReentrantLock可以灵活地实现多路通知<br>另外，二者的锁机制其实也是不一样的:ReentrantLock底层调用的是Unsafe的park方法加锁，synchronized操作的应该是对象头中mark word.</p>\n<h2 id=\"FutureTask是什么\"><a href=\"#FutureTask是什么\" class=\"headerlink\" title=\"FutureTask是什么\"></a>FutureTask是什么</h2><p>这个其实前面有提到过，FutureTask表示一个异步运算的任务。FutureTask里面可以传入一个Callable的具体实现类，可以对这个异步运算的任务的结果进行等待获取、判断是否已经完成、取消任务等操作。当然，由于FutureTask也是Runnable接口的实现类，所以FutureTask也可以放入线程池中。</p>\n<h2 id=\"一个线程如果出现了运行时异常怎么办\"><a href=\"#一个线程如果出现了运行时异常怎么办\" class=\"headerlink\" title=\"一个线程如果出现了运行时异常怎么办?\"></a>一个线程如果出现了运行时异常怎么办?</h2><p>如果这个异常没有被捕获的话，这个线程就停止执行了。另外重要的一点是：如果这个线程持有某个某个对象的监视器，那么这个对象监视器会被立即释放</p>\n<h2 id=\"如何在两个线程间共享数据\"><a href=\"#如何在两个线程间共享数据\" class=\"headerlink\" title=\"如何在两个线程间共享数据\"></a>如何在两个线程间共享数据</h2><p>通过在线程之间共享对象就可以了，然后通过wait/notify/notifyAll、await/signal/signalAll进行唤起和等待，比方说阻塞队列BlockingQueue就是为线程之间共享数据而设计的</p>\n<h2 id=\"如何正确的使用wait-使用if还是while\"><a href=\"#如何正确的使用wait-使用if还是while\" class=\"headerlink\" title=\"如何正确的使用wait()?使用if还是while?\"></a>如何正确的使用wait()?使用if还是while?</h2><p>wait() 方法应该在循环调用，因为当线程获取到 CPU 开始执行的时候，其他条件可能还没有满足，所以在处理前，循环检测条件是否满足会更好。下面是一段标准的使用 wait 和 notify 方法的代码：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">synchronized (obj) &#123;</div><div class=\"line\">   while (condition does not hold)</div><div class=\"line\">     obj.wait(); // (Releases lock, and reacquires on wakeup)</div><div class=\"line\">     ... // Perform action appropriate to condition</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"什么是线程局部变量\"><a href=\"#什么是线程局部变量\" class=\"headerlink\" title=\"什么是线程局部变量\"></a>什么是线程局部变量</h2><p>线程局部变量是局限于线程内部的变量，属于线程自身所有，不在多个线程间共享。Java提供ThreadLocal类来支持线程局部变量，是一种实现线程安全的方式。但是在管理环境下（如 web 服务器）使用线程局部变量的时候要特别小心，在这种情况下，工作线程的生命周期比任何应用变量的生命周期都要长。任何线程局部变量一旦在工作完成后没有释放，Java 应用就存在内存泄露的风险。</p>\n<h2 id=\"ThreadLoal的作用是什么\"><a href=\"#ThreadLoal的作用是什么\" class=\"headerlink\" title=\"ThreadLoal的作用是什么?\"></a>ThreadLoal的作用是什么?</h2><p>简单说ThreadLocal就是一种以空间换时间的做法在每个Thread里面维护了一个ThreadLocal.ThreadLocalMap把数据进行隔离，数据不共享，自然就没有线程安全方面的问题了.</p>\n<h2 id=\"生产者消费者模型的作用是什么\"><a href=\"#生产者消费者模型的作用是什么\" class=\"headerlink\" title=\"生产者消费者模型的作用是什么?\"></a>生产者消费者模型的作用是什么?</h2><p>（1）通过平衡生产者的生产能力和消费者的消费能力来提升整个系统的运行效率，这是生产者消费者模型最重要的作用<br>（2）解耦，这是生产者消费者模型附带的作用，解耦意味着生产者和消费者之间的联系少，联系越少越可以独自发展而不需要收到相互的制约</p>\n<h2 id=\"写一个生产者-消费者队列\"><a href=\"#写一个生产者-消费者队列\" class=\"headerlink\" title=\"写一个生产者-消费者队列\"></a>写一个生产者-消费者队列</h2><p>可以通过阻塞队列实现,也可以通过wait-notify来实现.</p>\n<h3 id=\"使用阻塞队列来实现\"><a href=\"#使用阻塞队列来实现\" class=\"headerlink\" title=\"使用阻塞队列来实现\"></a>使用阻塞队列来实现</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div></pre></td><td class=\"code\"><pre><div class=\"line\">//消费者</div><div class=\"line\">public class Producer implements Runnable&#123;</div><div class=\"line\">    private final BlockingQueue&lt;Integer&gt; queue;</div><div class=\"line\"></div><div class=\"line\">    public Producer(BlockingQueue q)&#123;</div><div class=\"line\">        this.queue=q;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void run() &#123;</div><div class=\"line\">        try &#123;</div><div class=\"line\">            while (true)&#123;</div><div class=\"line\">                Thread.sleep(1000);//模拟耗时</div><div class=\"line\">                queue.put(produce());</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;catch (InterruptedException e)&#123;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private int produce() &#123;</div><div class=\"line\">        int n=new Random().nextInt(10000);</div><div class=\"line\">        System.out.println(&quot;Thread:&quot; + Thread.currentThread().getId() + &quot; produce:&quot; + n);</div><div class=\"line\">        return n;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//消费者</div><div class=\"line\">public class Consumer implements Runnable &#123;</div><div class=\"line\">    private final BlockingQueue&lt;Integer&gt; queue;</div><div class=\"line\"></div><div class=\"line\">    public Consumer(BlockingQueue q)&#123;</div><div class=\"line\">        this.queue=q;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void run() &#123;</div><div class=\"line\">        while (true)&#123;</div><div class=\"line\">            try &#123;</div><div class=\"line\">                Thread.sleep(2000);//模拟耗时</div><div class=\"line\">                consume(queue.take());</div><div class=\"line\">            &#125;catch (InterruptedException e)&#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private void consume(Integer n) &#123;</div><div class=\"line\">        System.out.println(&quot;Thread:&quot; + Thread.currentThread().getId() + &quot; consume:&quot; + n);</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">//测试</div><div class=\"line\">public class Main &#123;</div><div class=\"line\"></div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        BlockingQueue&lt;Integer&gt; queue=new ArrayBlockingQueue&lt;Integer&gt;(100);</div><div class=\"line\">        Producer p=new Producer(queue);</div><div class=\"line\">        Consumer c1=new Consumer(queue);</div><div class=\"line\">        Consumer c2=new Consumer(queue);</div><div class=\"line\"></div><div class=\"line\">        new Thread(p).start();</div><div class=\"line\">        new Thread(c1).start();</div><div class=\"line\">        new Thread(c2).start();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"使用wait-notify来实现\"><a href=\"#使用wait-notify来实现\" class=\"headerlink\" title=\"使用wait-notify来实现\"></a>使用wait-notify来实现</h3><p>该种方式应该最经典,这里就不做说明了</p>\n<h2 id=\"ConcurrentHashMap的并发度是什么\"><a href=\"#ConcurrentHashMap的并发度是什么\" class=\"headerlink\" title=\"ConcurrentHashMap的并发度是什么?\"></a>ConcurrentHashMap的并发度是什么?</h2><p>ConcurrentHashMap的并发度就是segment的大小，默认为16，这意味着最多同时可以有16条线程操作ConcurrentHashMap，这也是ConcurrentHashMap对Hashtable的最大优势，任何情况下，Hashtable能同时有两条线程获取Hashtable中的数据吗？</p>\n<h2 id=\"CyclicBarrier和CountDownLatch区别\"><a href=\"#CyclicBarrier和CountDownLatch区别\" class=\"headerlink\" title=\"CyclicBarrier和CountDownLatch区别\"></a>CyclicBarrier和CountDownLatch区别</h2><p>这两个类非常类似，都在java.util.concurrent下，都可以用来表示代码运行到某个点上，二者的区别在于：</p>\n<ul>\n<li>CyclicBarrier的某个线程运行到某个点上之后，该线程即停止运行，直到所有的线程都到达了这个点，所有线程才重新运行；CountDownLatch则不是，某线程运行到某个点上之后，只是给某个数值-1而已，该线程继续运行</li>\n<li>CyclicBarrier只能唤起一个任务，CountDownLatch可以唤起多个任务</li>\n<li>CyclicBarrier可重用，CountDownLatch不可重用，计数值为0该CountDownLatch就不可再用了</li>\n</ul>\n<h2 id=\"java中的-操作符线程安全么\"><a href=\"#java中的-操作符线程安全么\" class=\"headerlink\" title=\"java中的++操作符线程安全么?\"></a>java中的++操作符线程安全么?</h2><p>不是线程安全的操作。它涉及到多个指令，如读取变量值，增加，然后存储回内存，这个过程可能会出现多个线程交差</p>\n<h2 id=\"你有哪些多线程开发良好的实践\"><a href=\"#你有哪些多线程开发良好的实践\" class=\"headerlink\" title=\"你有哪些多线程开发良好的实践?\"></a>你有哪些多线程开发良好的实践?</h2><ol>\n<li>给线程命名</li>\n<li>最小化同步范围</li>\n<li>优先使用volatile</li>\n<li>尽可能使用更高层次的并发工具而非wait和notify()来实现线程通信,如BlockingQueue,Semeaphore</li>\n<li>优先使用并发容器而非同步容器.</li>\n<li>考虑使用线程池</li>\n</ol>\n<hr>\n<p>#关于volatile关键字</p>\n<h2 id=\"可以创建Volatile数组吗\"><a href=\"#可以创建Volatile数组吗\" class=\"headerlink\" title=\"可以创建Volatile数组吗?\"></a>可以创建Volatile数组吗?</h2><p>Java 中可以创建 volatile类型数组，不过只是一个指向数组的引用，而不是整个数组。如果改变引用指向的数组，将会受到volatile 的保护，但是如果多个线程同时改变数组的元素，volatile标示符就不能起到之前的保护作用了</p>\n<h2 id=\"volatile能使得一个非原子操作变成原子操作吗\"><a href=\"#volatile能使得一个非原子操作变成原子操作吗\" class=\"headerlink\" title=\"volatile能使得一个非原子操作变成原子操作吗?\"></a>volatile能使得一个非原子操作变成原子操作吗?</h2><p>一个典型的例子是在类中有一个 long 类型的成员变量。如果你知道该成员变量会被多个线程访问，如计数器、价格等，你最好是将其设置为 volatile。为什么？因为 Java 中读取 long 类型变量不是原子的，需要分成两步，如果一个线程正在修改该 long 变量的值，另一个线程可能只能看到该值的一半（前 32 位）。但是对一个 volatile 型的 long 或 double 变量的读写是原子。</p>\n<p>一种实践是用 volatile 修饰 long 和 double 变量，使其能按原子类型来读写。double 和 long 都是64位宽，因此对这两种类型的读是分为两部分的，第一次读取第一个 32 位，然后再读剩下的 32 位，这个过程不是原子的，但 Java 中 volatile 型的 long 或 double 变量的读写是原子的。volatile 修复符的另一个作用是提供内存屏障（memory barrier），例如在分布式框架中的应用。简单的说，就是当你写一个 volatile 变量之前，Java 内存模型会插入一个写屏障（write barrier），读一个 volatile 变量之前，会插入一个读屏障（read barrier）。意思就是说，在你写一个 volatile 域时，能保证任何线程都能看到你写的值，同时，在写之前，也能保证任何数值的更新对所有线程是可见的，因为内存屏障会将其他所有写的值更新到缓存。</p>\n<h2 id=\"volatile类型变量提供什么保证\"><a href=\"#volatile类型变量提供什么保证\" class=\"headerlink\" title=\"volatile类型变量提供什么保证?\"></a>volatile类型变量提供什么保证?</h2><p>volatile 主要有两方面的作用:1.避免指令重排2.可见性保证.例如，JVM 或者 JIT为了获得更好的性能会对语句重排序，但是 volatile 类型变量即使在没有同步块的情况下赋值也不会与其他语句重排序。 volatile 提供 happens-before 的保证，确保一个线程的修改能对其他线程是可见的。某些情况下，volatile 还能提供原子性，如读 64 位数据类型，像 long 和 double 都不是原子的(低32位和高32位)，但 volatile 类型的 double 和 long 就是原子的.</p>\n<hr>\n<p>#关于集合</p>\n<h2 id=\"Java中的集合及其继承关系\"><a href=\"#Java中的集合及其继承关系\" class=\"headerlink\" title=\"Java中的集合及其继承关系\"></a>Java中的集合及其继承关系</h2><p>关于集合的体系是每个人都应该烂熟于心的,尤其是对我们经常使用的List,Map的原理更该如此.这里我们看这张图即可:<br><img src=\"http://img.blog.csdn.net/20141105193133812?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZGQ4NjQxNDAxMzA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center\" alt=\"这里写图片描述\"></p>\n<p>更多内容可见<a href=\"http://write.blog.csdn.net/postedit/40826423\">集合类总结</a></p>\n<h2 id=\"poll-方法和remove-方法区别\"><a href=\"#poll-方法和remove-方法区别\" class=\"headerlink\" title=\"poll()方法和remove()方法区别?\"></a>poll()方法和remove()方法区别?</h2><p>poll() 和 remove() 都是从队列中取出一个元素，但是 poll() 在获取元素失败的时候会返回空，但是 remove() 失败的时候会抛出异常。</p>\n<h2 id=\"LinkedHashMap和PriorityQueue的区别\"><a href=\"#LinkedHashMap和PriorityQueue的区别\" class=\"headerlink\" title=\"LinkedHashMap和PriorityQueue的区别\"></a>LinkedHashMap和PriorityQueue的区别</h2><p>PriorityQueue 是一个优先级队列,保证最高或者最低优先级的的元素总是在队列头部，但是 LinkedHashMap 维持的顺序是元素插入的顺序。当遍历一个 PriorityQueue 时，没有任何顺序保证，但是 LinkedHashMap 课保证遍历顺序是元素插入的顺序。</p>\n<h2 id=\"WeakHashMap与HashMap的区别是什么\"><a href=\"#WeakHashMap与HashMap的区别是什么\" class=\"headerlink\" title=\"WeakHashMap与HashMap的区别是什么?\"></a>WeakHashMap与HashMap的区别是什么?</h2><p>WeakHashMap 的工作与正常的 HashMap 类似，但是使用弱引用作为 key，意思就是当 key 对象没有任何引用时，key/value 将会被回收。</p>\n<h2 id=\"ArrayList和LinkedList的区别\"><a href=\"#ArrayList和LinkedList的区别\" class=\"headerlink\" title=\"ArrayList和LinkedList的区别?\"></a>ArrayList和LinkedList的区别?</h2><p>最明显的区别是 ArrrayList底层的数据结构是数组，支持随机访问，而 LinkedList 的底层数据结构是双向循环链表，不支持随机访问。使用下标访问一个元素，ArrayList 的时间复杂度是 O(1)，而 LinkedList 是 O(n)。</p>\n<h2 id=\"ArrayList和HashMap默认大小\"><a href=\"#ArrayList和HashMap默认大小\" class=\"headerlink\" title=\"ArrayList和HashMap默认大小?\"></a>ArrayList和HashMap默认大小?</h2><p>在 Java 7 中，ArrayList 的默认大小是 10 个元素，HashMap 的默认大小是16个元素（必须是2的幂）。这就是 Java 7 中 ArrayList 和 HashMap 类的代码片段<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">private static final int DEFAULT_CAPACITY = 10;</div><div class=\"line\"> </div><div class=\"line\"> //from HashMap.java JDK 7</div><div class=\"line\"> static final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16</div></pre></td></tr></table></figure></p>\n<h2 id=\"Comparator和Comparable的区别\"><a href=\"#Comparator和Comparable的区别\" class=\"headerlink\" title=\"Comparator和Comparable的区别?\"></a>Comparator和Comparable的区别?</h2><p>Comparable 接口用于定义对象的自然顺序，而 comparator 通常用于定义用户定制的顺序。Comparable 总是只有一个，但是可以有多个 comparator 来定义对象的顺序。</p>\n<h2 id=\"如何实现集合排序\"><a href=\"#如何实现集合排序\" class=\"headerlink\" title=\"如何实现集合排序?\"></a>如何实现集合排序?</h2><p>你可以使用有序集合，如 TreeSet 或 TreeMap，你也可以使用有顺序的的集合，如 list，然后通过 Collections.sort() 来排序。</p>\n<h2 id=\"如何打印数组内容\"><a href=\"#如何打印数组内容\" class=\"headerlink\" title=\"如何打印数组内容\"></a>如何打印数组内容</h2><p>你可以使用 Arrays.toString() 和 Arrays.deepToString() 方法来打印数组。由于数组没有实现 toString() 方法，所以如果将数组传递给 System.out.println() 方法，将无法打印出数组的内容，但是 Arrays.toString() 可以打印每个元素。</p>\n<h2 id=\"LinkedList的是单向链表还是双向\"><a href=\"#LinkedList的是单向链表还是双向\" class=\"headerlink\" title=\"LinkedList的是单向链表还是双向?\"></a>LinkedList的是单向链表还是双向?</h2><p>双向循环列表,具体实现自行查阅源码.</p>\n<h2 id=\"TreeMap是实现原理\"><a href=\"#TreeMap是实现原理\" class=\"headerlink\" title=\"TreeMap是实现原理\"></a>TreeMap是实现原理</h2><p>采用红黑树实现,具体实现自行查阅源码.</p>\n<h2 id=\"遍历ArrayList时如何正确移除一个元素\"><a href=\"#遍历ArrayList时如何正确移除一个元素\" class=\"headerlink\" title=\"遍历ArrayList时如何正确移除一个元素\"></a>遍历ArrayList时如何正确移除一个元素</h2><p>该问题的关键在于面试者使用的是 ArrayList 的 remove() 还是 Iterator 的 remove()方法。这有一段示例代码，是使用正确的方式来实现在遍历的过程中移除元素，而不会出现 ConcurrentModificationException 异常的示例代码。</p>\n<h2 id=\"什么是ArrayMap-它和HashMap有什么区别\"><a href=\"#什么是ArrayMap-它和HashMap有什么区别\" class=\"headerlink\" title=\"什么是ArrayMap?它和HashMap有什么区别?\"></a>什么是ArrayMap?它和HashMap有什么区别?</h2><p>ArrayMap是Android SDK中提供的,非Android开发者可以略过.<br>ArrayMap是用两个数组来模拟map,更少的内存占用空间,更高的效率.<br>具体参考这篇文章:<a href=\"http://lvable.com/?p=217%5D\">ArrayMap VS HashMap</a></p>\n<h2 id=\"HashMap的实现原理\"><a href=\"#HashMap的实现原理\" class=\"headerlink\" title=\"HashMap的实现原理\"></a>HashMap的实现原理</h2><p>1   HashMap概述：  HashMap是基于哈希表的Map接口的非同步实现。此实现提供所有可选的映射操作，并允许使用null值和null键。此类不保证映射的顺序，特别是它不保证该顺序恒久不变。<br>2   HashMap的数据结构： 在java编程语言中，最基本的结构就是两种，一个是数组，另外一个是模拟指针（引用），所有的数据结构都可以用这两个基本结构来构造的，HashMap也不例外。HashMap实际上是一个“链表散列”的数据结构，即数组和链表的结合体。</p>\n<p>当我们往Hashmap中put元素时,首先根据key的hashcode重新计算hash值,根绝hash值得到这个元素在数组中的位置(下标),如果该数组在该位置上已经存放了其他元素,那么在这个位置上的元素将以链表的形式存放,新加入的放在链头,最先加入的放入链尾.如果数组中该位置没有元素,就直接将该元素放到数组的该位置上.</p>\n<h2 id=\"你了解Fail-Fast机制吗\"><a href=\"#你了解Fail-Fast机制吗\" class=\"headerlink\" title=\"你了解Fail-Fast机制吗\"></a>你了解Fail-Fast机制吗</h2><p>Fail-Fast即我们常说的快速失败,更多内容参看<a href=\"http://blog.csdn.net/chenssy/article/details/38151189\">fail-fast机制</a></p>\n<hr>\n<h1 id=\"关于日期\"><a href=\"#关于日期\" class=\"headerlink\" title=\"关于日期\"></a>关于日期</h1><h2 id=\"SimpleDateFormat是线程安全的吗\"><a href=\"#SimpleDateFormat是线程安全的吗\" class=\"headerlink\" title=\"SimpleDateFormat是线程安全的吗?\"></a>SimpleDateFormat是线程安全的吗?</h2><p>非常不幸，DateFormat 的所有实现，包括 SimpleDateFormat 都不是线程安全的，因此你不应该在多线程序中使用，除非是在对外线程安全的环境中使用，如 将 SimpleDateFormat 限制在 ThreadLocal 中。如果你不这么做，在解析或者格式化日期的时候，可能会获取到一个不正确的结果。因此，从日期、时间处理的所有实践来说，我强力推荐 joda-time 库。</p>\n<h2 id=\"如何格式化日期\"><a href=\"#如何格式化日期\" class=\"headerlink\" title=\"如何格式化日期?\"></a>如何格式化日期?</h2><p>Java 中，可以使用 SimpleDateFormat 类或者 joda-time 库来格式日期。DateFormat 类允许你使用多种流行的格式来格式化日期。参见答案中的示例代码，代码中演示了将日期格式化成不同的格式，如 dd-MM-yyyy 或 ddMMyyyy。</p>\n<hr>\n<h1 id=\"关于异常\"><a href=\"#关于异常\" class=\"headerlink\" title=\"关于异常\"></a>关于异常</h1><h2 id=\"简单描述java异常体系\"><a href=\"#简单描述java异常体系\" class=\"headerlink\" title=\"简单描述java异常体系\"></a>简单描述java异常体系</h2><p>相比没有人不了解异常体系,关于异常体系的更多信息可以见:<a href=\"http://blog.csdn.net/dd864140130/article/details/42504189\">白话异常机制</a></p>\n<h2 id=\"什么是异常链\"><a href=\"#什么是异常链\" class=\"headerlink\" title=\"什么是异常链\"></a>什么是异常链</h2><p>详情直接参见<a href=\"http://blog.csdn.net/dd864140130/article/details/42504189\">白话异常机制</a>,不做解释了.</p>\n<h2 id=\"throw和throws的区别\"><a href=\"#throw和throws的区别\" class=\"headerlink\" title=\"throw和throws的区别\"></a>throw和throws的区别</h2><p>throw用于主动抛出java.lang.Throwable 类的一个实例化对象，意思是说你可以通过关键字 throw 抛出一个 Error 或者 一个Exception，如：<code>throw new IllegalArgumentException(“size must be multiple of 2″)</code>,<br>而throws 的作用是作为方法声明和签名的一部分，方法被抛出相应的异常以便调用者能处理。Java 中，任何未处理的受检查异常强制在 throws 子句中声明。</p>\n<hr>\n<h2 id=\"关于序列化\"><a href=\"#关于序列化\" class=\"headerlink\" title=\"关于序列化\"></a>关于序列化</h2><h2 id=\"Java-中，Serializable-与-Externalizable-的区别\"><a href=\"#Java-中，Serializable-与-Externalizable-的区别\" class=\"headerlink\" title=\"Java 中，Serializable 与 Externalizable 的区别\"></a>Java 中，Serializable 与 Externalizable 的区别</h2><p>Serializable 接口是一个序列化 Java 类的接口，以便于它们可以在网络上传输或者可以将它们的状态保存在磁盘上，是 JVM 内嵌的默认序列化方式，成本高、脆弱而且不安全。Externalizable 允许你控制整个序列化过程，指定特定的二进制格式，增加安全机制。</p>\n<hr>\n<p>#关于JVM</p>\n<h2 id=\"JVM特性\"><a href=\"#JVM特性\" class=\"headerlink\" title=\"JVM特性\"></a>JVM特性</h2><p>平台无关性.<br>Java语言的一个非常重要的特点就是与平台的无关性。而使用Java虚拟机是实现这一特点的关键。一般的高级语言如果要在不同的平台上运行，至少需要编译成不同的目标代码。而引入Java语言虚拟机后，Java语言在不同平台上运行时不需要重新编译。Java语言使用模式Java虚拟机屏蔽了与具体平台相关的信息，使得Java语言编译程序只需生成在Java虚拟机上运行的目标代码（字节码），就可以在多种平台上不加修改地运行。Java虚拟机在执行字节码时，把字节码解释成具体平台上的机器指令执行。</p>\n<h2 id=\"简单解释一下类加载器\"><a href=\"#简单解释一下类加载器\" class=\"headerlink\" title=\"简单解释一下类加载器\"></a>简单解释一下类加载器</h2><p>有关类加载器一般会问你四种类加载器的应用场景以及双亲委派模型,更多的内容参看<a href=\"http://blog.csdn.net/dd864140130/article/details/49817357\">深入理解JVM加载器</a></p>\n<h2 id=\"简述堆和栈的区别\"><a href=\"#简述堆和栈的区别\" class=\"headerlink\" title=\"简述堆和栈的区别\"></a>简述堆和栈的区别</h2><p>VM 中堆和栈属于不同的内存区域，使用目的也不同。栈常用于保存方法帧和局部变量，而对象总是在堆上分配。栈通常都比堆小，也不会在多个线程之间共享，而堆被整个 JVM 的所有线程共享。</p>\n<h2 id=\"简述JVM内存分配\"><a href=\"#简述JVM内存分配\" class=\"headerlink\" title=\"简述JVM内存分配\"></a>简述JVM内存分配</h2><ol>\n<li>基本数据类型比变量和对象的引用都是在栈分配的</li>\n<li>堆内存用来存放由new创建的对象和数组</li>\n<li>类变量（static修饰的变量），程序在一加载的时候就在堆中为类变量分配内存，堆中的内存地址存放在栈中</li>\n<li>实例变量：当你使用java关键字new的时候，系统在堆中开辟并不一定是连续的空间分配给变量，是根据零散的堆内存地址，通过哈希算法换算为一长串数字以表征这个变量在堆中的”物理位置”,实例变量的生命周期–当实例变量的引用丢失后，将被GC（垃圾回收器）列入可回收“名单”中，但并不是马上就释放堆中内存</li>\n<li>局部变量: 由声明在某方法，或某代码段里（比如for循环），执行到它的时候在栈中开辟内存，当局部变量一但脱离作用域，内存立即释放</li>\n</ol>\n<hr>\n<p>#其他</p>\n<h2 id=\"java当中采用的是大端还是小端\"><a href=\"#java当中采用的是大端还是小端\" class=\"headerlink\" title=\"java当中采用的是大端还是小端?\"></a>java当中采用的是大端还是小端?</h2><h2 id=\"XML解析的几种方式和特点\"><a href=\"#XML解析的几种方式和特点\" class=\"headerlink\" title=\"XML解析的几种方式和特点\"></a>XML解析的几种方式和特点</h2><p>DOM,SAX,PULL三种解析方式:</p>\n<ul>\n<li>DOM:消耗内存：先把xml文档都读到内存中，然后再用DOM API来访问树形结构，并获取数据。这个写起来很简单，但是很消耗内存。要是数据过大，手机不够牛逼，可能手机直接死机</li>\n<li>SAX:解析效率高，占用内存少，基于事件驱动的：更加简单地说就是对文档进行顺序扫描，当扫描到文档(document)开始与结束、元素(element)开始与结束、文档(document)结束等地方时通知事件处理函数，由事件处理函数做相应动作，然后继续同样的扫描，直至文档结束。</li>\n<li>PULL:与 SAX 类似，也是基于事件驱动，我们可以调用它的next（）方法，来获取下一个解析事件（就是开始文档，结束文档，开始标签，结束标签），当处于某个元素时可以调用XmlPullParser的getAttributte()方法来获取属性的值，也可调用它的nextText()获取本节点的值。</li>\n</ul>\n<h2 id=\"JDK-1-7特性\"><a href=\"#JDK-1-7特性\" class=\"headerlink\" title=\"JDK 1.7特性\"></a>JDK 1.7特性</h2><p>然 JDK 1.7 不像 JDK 5 和 8 一样的大版本，但是，还是有很多新的特性，如 try-with-resource 语句，这样你在使用流或者资源的时候，就不需要手动关闭，Java 会自动关闭。Fork-Join 池某种程度上实现 Java 版的 Map-reduce。允许 Switch 中有 String 变量和文本。菱形操作符(\\&lt;>)用于类型推断，不再需要在变量声明的右边申明泛型，因此可以写出可读写更强、更简洁的代码</p>\n<h2 id=\"JDK-1-8特性\"><a href=\"#JDK-1-8特性\" class=\"headerlink\" title=\"JDK 1.8特性\"></a>JDK 1.8特性</h2><p>java 8 在 Java 历史上是一个开创新的版本，下面 JDK 8 中 5 个主要的特性：<br>Lambda 表达式，允许像对象一样传递匿名函数<br>Stream API，充分利用现代多核 CPU，可以写出很简洁的代码<br>Date 与 Time API，最终，有一个稳定、简单的日期和时间库可供你使用<br>扩展方法，现在，接口中可以有静态、默认方法。<br>重复注解，现在你可以将相同的注解在同一类型上使用多次。</p>\n<h2 id=\"Maven和ANT有什么区别\"><a href=\"#Maven和ANT有什么区别\" class=\"headerlink\" title=\"Maven和ANT有什么区别?\"></a>Maven和ANT有什么区别?</h2><p>虽然两者都是构建工具，都用于创建 Java 应用，但是 Maven 做的事情更多，在基于“约定优于配置”的概念下，提供标准的Java 项目结构，同时能为应用自动管理依赖（应用中所依赖的 JAR 文件），Maven 与 ANT 工具更多的不同之处请参见答案。<br>这就是所有的面试题，如此之多，是不是？我可以保证，如果你能回答列表中的所有问题，你就可以很轻松的应付任何核心 Java 或者高级 Java 面试。虽然，这里没有涵盖 Servlet、JSP、JSF、JPA，JMS，EJB 及其它 Java EE 技术，也没有包含主流的框架如 spring MVC，Struts 2.0，hibernate，也没有包含 SOAP 和 RESTful web service，但是这份列表对做 Java 开发的、准备应聘 Java web 开发职位的人还是同样有用的，因为所有的 Java 面试，开始的问题都是 Java 基础和 JDK API 相关的。如果你认为我这里有任何应该在这份列表中而被我遗漏了的 Java 流行的问题，你可以自由的给我建议。我的目的是从最近的面试中创建一份最新的、最优的 Java 面试问题列表。</p>\n<h2 id=\"JDBC最佳实践\"><a href=\"#JDBC最佳实践\" class=\"headerlink\" title=\"JDBC最佳实践\"></a>JDBC最佳实践</h2><ul>\n<li>优先使用批量操作来插入和更新数据</li>\n<li>使用PreparedStatement来避免SQL漏洞</li>\n<li>使用数据连接池</li>\n<li>通过列名来获取结果集</li>\n</ul>\n<h2 id=\"IO操作最佳实践\"><a href=\"#IO操作最佳实践\" class=\"headerlink\" title=\"IO操作最佳实践\"></a>IO操作最佳实践</h2><ol>\n<li>使用有缓冲的IO类,不要单独读取字节或字符</li>\n<li>使用NIO和NIO 2或者AIO,而非BIO</li>\n<li>在finally中关闭流</li>\n<li>使用内存映射文件获取更快的IO</li>\n</ol>"},{"title":"android studio配置git","date":"2017-01-27T09:01:10.000Z","_content":"\n摘要:\n\t如今开发时代处于团队合作的时代，团队合作的工具是必不可少的，像git就是团队合作比较好的工具，这篇告诉大家如何在android studio中配置git版本控制工具，方便开发。\n<!-- more -->\n正文：\n部分教程来自[全面介绍Android Studio中Git 的使用（一）](http://blog.csdn.net/gao_chun/article/details/49817229/)\n\n当前文章目录：\n\n[TOC]\n## 首先当然是先创建一个本地仓库\n首先在一个目录准备作为仓库的目录下，右键“git bash here”\n \n ![这里写图片描述](http://img.blog.csdn.net/20170123012152124?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n ![这里写图片描述](http://img.blog.csdn.net/20170123012239765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n这样本地仓库创建完成了\n##配置远程仓库（提交的时候要注意，仓库至少要有一个文件，git不允许仓库为空）\n首先要知道“commit”是提交到本地仓库，“push”是提交到远程仓库，所以光有本地仓库是不能团队合作的，我要将本地仓库和远程仓库进行关联\n关联远程仓库，一个重要的条件就是本地git的“SSH”要和远程仓库的“SSH”相匹配。\n我首先要配置创建一个SSH在本地（在C盘本地用户目录里面）\n### 1、先配置git用户（不作截图）\n$ git config --global user.name \"xuhaiyan\"\n$ git config --global user.email \"haiyan.xu.vip@gmail.com\"\n###2、创建SSH，创建目录在C盘当前用户下\n\nssh-keygen -t rsa -C “zengmianhui”\n双引号内为电脑登录时的用户名\n ![这里写图片描述](http://img.blog.csdn.net/20170123012354325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) \n ![这里写图片描述](http://img.blog.csdn.net/20170123014626433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170123012425579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n### 3、\t查看SSH代码，并将其设置到远程仓库（这里示例github）\n ![这里写图片描述](http://img.blog.csdn.net/20170123012436748?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n ![这里写图片描述](http://img.blog.csdn.net/20170123012528858?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n \n### 4、\t将本地仓库关联到远程仓库\ngit remote add origin [url]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012548454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 在Settings中选择Version Control 并配置Git，不多说，上个图\n ![这里写图片描述](http://img.blog.csdn.net/20170123012559015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n配置完后我们点下路径后的Test按钮，若出现该Success提示框则表明配置成功：\n ![这里写图片描述](http://img.blog.csdn.net/20170123012634579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n配置好后我们点击Version Control的时候，在右侧会提示该项目所采用的版本控制工具\n ![这里写图片描述](http://img.blog.csdn.net/20170123012659220?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n若发现该路径为灰色，需要选中，点击\"+\"\n ![这里写图片描述](http://img.blog.csdn.net/20170123012731236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n因为我们是在一个已有的项目上创建的仓库，所以配置完后需要为项目指定版本控制工具，也可以在最开始Create项目的时候直接指定仓库路径。\n\n## 提交代码\n起初，我们项目所有文件颜色，都是 [白色：正常文件的颜色]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012757502?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n但是当我们为项目指定仓库路径后，所有文件颜色的颜色变了 [红色：指定仓库路径后，未Add的文件]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012811659?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n切换为Project视图，对项目右键，Add文件。（在创建仓库的时候.gitignore文件已默认生成，可以修改添加需要ignore的文件）\n ![这里写图片描述](http://img.blog.csdn.net/20170123012834488?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\nAdd成功后，我们在看看文件的颜色为 [绿色：已Add，但未commit的文件]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012855174?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n也可查看Log日志\n ![这里写图片描述](http://img.blog.csdn.net/20170123012920552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\nCommit文件可通过 项目右键--> Git --> Commit Directory...  也可点击 工具栏上的两个按钮。\n ![这里写图片描述](http://img.blog.csdn.net/20170123012947721?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n填写提交信息，然后可先Commit 然后再 Push 或者直接选择 Commit And Push ...\n ![这里写图片描述](http://img.blog.csdn.net/20170123013016053?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n当我们对某个类进行修改后，会发现文件颜色又变了 [墨蓝色：提交成功后修改过的文件]，到此就将项目上传至仓库了，可以通过Studio中的Version Control一目了然的查看提交Log。\n\n ![这里写图片描述](http://img.blog.csdn.net/20170123013030897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n关于如何下拉代码，我们可以点击工具栏上的“CVS↓”![这里写图片描述](http://img.blog.csdn.net/20170123013206754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) 按钮，然后在在弹出框中选择 Merge 合并。\n \n![这里写图片描述](http://img.blog.csdn.net/20170123013226629?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/android-studio配置git.md","raw":"---\ntitle: android studio配置git\ndate: 2017-01-27 17:01:10\ncategories:\n  - android\n  - android studio\ntags:\n  - android\n  - android studio\n  - git\n---\n\n摘要:\n\t如今开发时代处于团队合作的时代，团队合作的工具是必不可少的，像git就是团队合作比较好的工具，这篇告诉大家如何在android studio中配置git版本控制工具，方便开发。\n<!-- more -->\n正文：\n部分教程来自[全面介绍Android Studio中Git 的使用（一）](http://blog.csdn.net/gao_chun/article/details/49817229/)\n\n当前文章目录：\n\n[TOC]\n## 首先当然是先创建一个本地仓库\n首先在一个目录准备作为仓库的目录下，右键“git bash here”\n \n ![这里写图片描述](http://img.blog.csdn.net/20170123012152124?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n ![这里写图片描述](http://img.blog.csdn.net/20170123012239765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n这样本地仓库创建完成了\n##配置远程仓库（提交的时候要注意，仓库至少要有一个文件，git不允许仓库为空）\n首先要知道“commit”是提交到本地仓库，“push”是提交到远程仓库，所以光有本地仓库是不能团队合作的，我要将本地仓库和远程仓库进行关联\n关联远程仓库，一个重要的条件就是本地git的“SSH”要和远程仓库的“SSH”相匹配。\n我首先要配置创建一个SSH在本地（在C盘本地用户目录里面）\n### 1、先配置git用户（不作截图）\n$ git config --global user.name \"xuhaiyan\"\n$ git config --global user.email \"haiyan.xu.vip@gmail.com\"\n###2、创建SSH，创建目录在C盘当前用户下\n\nssh-keygen -t rsa -C “zengmianhui”\n双引号内为电脑登录时的用户名\n ![这里写图片描述](http://img.blog.csdn.net/20170123012354325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) \n ![这里写图片描述](http://img.blog.csdn.net/20170123014626433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170123012425579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n### 3、\t查看SSH代码，并将其设置到远程仓库（这里示例github）\n ![这里写图片描述](http://img.blog.csdn.net/20170123012436748?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n ![这里写图片描述](http://img.blog.csdn.net/20170123012528858?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n \n### 4、\t将本地仓库关联到远程仓库\ngit remote add origin [url]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012548454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 在Settings中选择Version Control 并配置Git，不多说，上个图\n ![这里写图片描述](http://img.blog.csdn.net/20170123012559015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n配置完后我们点下路径后的Test按钮，若出现该Success提示框则表明配置成功：\n ![这里写图片描述](http://img.blog.csdn.net/20170123012634579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n配置好后我们点击Version Control的时候，在右侧会提示该项目所采用的版本控制工具\n ![这里写图片描述](http://img.blog.csdn.net/20170123012659220?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n若发现该路径为灰色，需要选中，点击\"+\"\n ![这里写图片描述](http://img.blog.csdn.net/20170123012731236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n因为我们是在一个已有的项目上创建的仓库，所以配置完后需要为项目指定版本控制工具，也可以在最开始Create项目的时候直接指定仓库路径。\n\n## 提交代码\n起初，我们项目所有文件颜色，都是 [白色：正常文件的颜色]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012757502?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n但是当我们为项目指定仓库路径后，所有文件颜色的颜色变了 [红色：指定仓库路径后，未Add的文件]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012811659?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n切换为Project视图，对项目右键，Add文件。（在创建仓库的时候.gitignore文件已默认生成，可以修改添加需要ignore的文件）\n ![这里写图片描述](http://img.blog.csdn.net/20170123012834488?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\nAdd成功后，我们在看看文件的颜色为 [绿色：已Add，但未commit的文件]\n ![这里写图片描述](http://img.blog.csdn.net/20170123012855174?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n也可查看Log日志\n ![这里写图片描述](http://img.blog.csdn.net/20170123012920552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\nCommit文件可通过 项目右键--> Git --> Commit Directory...  也可点击 工具栏上的两个按钮。\n ![这里写图片描述](http://img.blog.csdn.net/20170123012947721?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n填写提交信息，然后可先Commit 然后再 Push 或者直接选择 Commit And Push ...\n ![这里写图片描述](http://img.blog.csdn.net/20170123013016053?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n当我们对某个类进行修改后，会发现文件颜色又变了 [墨蓝色：提交成功后修改过的文件]，到此就将项目上传至仓库了，可以通过Studio中的Version Control一目了然的查看提交Log。\n\n ![这里写图片描述](http://img.blog.csdn.net/20170123013030897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n关于如何下拉代码，我们可以点击工具栏上的“CVS↓”![这里写图片描述](http://img.blog.csdn.net/20170123013206754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast) 按钮，然后在在弹出框中选择 Merge 合并。\n \n![这里写图片描述](http://img.blog.csdn.net/20170123013226629?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"android-studio配置git","published":1,"updated":"2017-01-29T04:17:19.403Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ak4000ga0uslz91pynn","content":"<p>摘要:<br>    如今开发时代处于团队合作的时代，团队合作的工具是必不可少的，像git就是团队合作比较好的工具，这篇告诉大家如何在android studio中配置git版本控制工具，方便开发。<br><a id=\"more\"></a><br>正文：<br>部分教程来自<a href=\"http://blog.csdn.net/gao_chun/article/details/49817229/\" target=\"_blank\" rel=\"external\">全面介绍Android Studio中Git 的使用（一）</a></p>\n<p>当前文章目录：</p>\n<p>[TOC]</p>\n<h2 id=\"首先当然是先创建一个本地仓库\"><a href=\"#首先当然是先创建一个本地仓库\" class=\"headerlink\" title=\"首先当然是先创建一个本地仓库\"></a>首先当然是先创建一个本地仓库</h2><p>首先在一个目录准备作为仓库的目录下，右键“git bash here”</p>\n<p> <img src=\"http://img.blog.csdn.net/20170123012152124?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123012239765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>这样本地仓库创建完成了</p>\n<p>##配置远程仓库（提交的时候要注意，仓库至少要有一个文件，git不允许仓库为空）<br>首先要知道“commit”是提交到本地仓库，“push”是提交到远程仓库，所以光有本地仓库是不能团队合作的，我要将本地仓库和远程仓库进行关联<br>关联远程仓库，一个重要的条件就是本地git的“SSH”要和远程仓库的“SSH”相匹配。<br>我首先要配置创建一个SSH在本地（在C盘本地用户目录里面）</p>\n<h3 id=\"1、先配置git用户（不作截图）\"><a href=\"#1、先配置git用户（不作截图）\" class=\"headerlink\" title=\"1、先配置git用户（不作截图）\"></a>1、先配置git用户（不作截图）</h3><p>$ git config –global user.name “xuhaiyan”<br>$ git config –global user.email “haiyan.xu.vip@gmail.com”</p>\n<p>###2、创建SSH，创建目录在C盘当前用户下</p>\n<p>ssh-keygen -t rsa -C “zengmianhui”<br>双引号内为电脑登录时的用户名<br> <img src=\"http://img.blog.csdn.net/20170123012354325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123014626433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170123012425579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"3、-查看SSH代码，并将其设置到远程仓库（这里示例github）\"><a href=\"#3、-查看SSH代码，并将其设置到远程仓库（这里示例github）\" class=\"headerlink\" title=\"3、    查看SSH代码，并将其设置到远程仓库（这里示例github）\"></a>3、    查看SSH代码，并将其设置到远程仓库（这里示例github）</h3><p> <img src=\"http://img.blog.csdn.net/20170123012436748?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123012528858?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"4、-将本地仓库关联到远程仓库\"><a href=\"#4、-将本地仓库关联到远程仓库\" class=\"headerlink\" title=\"4、    将本地仓库关联到远程仓库\"></a>4、    将本地仓库关联到远程仓库</h3><p>git remote add origin [url]<br> <img src=\"http://img.blog.csdn.net/20170123012548454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"在Settings中选择Version-Control-并配置Git，不多说，上个图\"><a href=\"#在Settings中选择Version-Control-并配置Git，不多说，上个图\" class=\"headerlink\" title=\"在Settings中选择Version Control 并配置Git，不多说，上个图\"></a>在Settings中选择Version Control 并配置Git，不多说，上个图</h2><p> <img src=\"http://img.blog.csdn.net/20170123012559015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>配置完后我们点下路径后的Test按钮，若出现该Success提示框则表明配置成功：<br> <img src=\"http://img.blog.csdn.net/20170123012634579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>配置好后我们点击Version Control的时候，在右侧会提示该项目所采用的版本控制工具<br> <img src=\"http://img.blog.csdn.net/20170123012659220?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>若发现该路径为灰色，需要选中，点击”+”<br> <img src=\"http://img.blog.csdn.net/20170123012731236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>因为我们是在一个已有的项目上创建的仓库，所以配置完后需要为项目指定版本控制工具，也可以在最开始Create项目的时候直接指定仓库路径。</p>\n<h2 id=\"提交代码\"><a href=\"#提交代码\" class=\"headerlink\" title=\"提交代码\"></a>提交代码</h2><p>起初，我们项目所有文件颜色，都是 [白色：正常文件的颜色]<br> <img src=\"http://img.blog.csdn.net/20170123012757502?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>但是当我们为项目指定仓库路径后，所有文件颜色的颜色变了 [红色：指定仓库路径后，未Add的文件]<br> <img src=\"http://img.blog.csdn.net/20170123012811659?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>切换为Project视图，对项目右键，Add文件。（在创建仓库的时候.gitignore文件已默认生成，可以修改添加需要ignore的文件）<br> <img src=\"http://img.blog.csdn.net/20170123012834488?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>Add成功后，我们在看看文件的颜色为 [绿色：已Add，但未commit的文件]<br> <img src=\"http://img.blog.csdn.net/20170123012855174?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>也可查看Log日志<br> <img src=\"http://img.blog.csdn.net/20170123012920552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>Commit文件可通过 项目右键–&gt; Git –&gt; Commit Directory…  也可点击 工具栏上的两个按钮。<br> <img src=\"http://img.blog.csdn.net/20170123012947721?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>填写提交信息，然后可先Commit 然后再 Push 或者直接选择 Commit And Push …<br> <img src=\"http://img.blog.csdn.net/20170123013016053?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>当我们对某个类进行修改后，会发现文件颜色又变了 [墨蓝色：提交成功后修改过的文件]，到此就将项目上传至仓库了，可以通过Studio中的Version Control一目了然的查看提交Log。</p>\n<p> <img src=\"http://img.blog.csdn.net/20170123013030897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>关于如何下拉代码，我们可以点击工具栏上的“CVS↓”<img src=\"http://img.blog.csdn.net/20170123013206754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"> 按钮，然后在在弹出框中选择 Merge 合并。</p>\n<p><img src=\"http://img.blog.csdn.net/20170123013226629?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n","excerpt":"<p>摘要:<br>    如今开发时代处于团队合作的时代，团队合作的工具是必不可少的，像git就是团队合作比较好的工具，这篇告诉大家如何在android studio中配置git版本控制工具，方便开发。<br></p>","more":"<br>正文：<br>部分教程来自<a href=\"http://blog.csdn.net/gao_chun/article/details/49817229/\">全面介绍Android Studio中Git 的使用（一）</a><p></p>\n<p>当前文章目录：</p>\n<p>[TOC]</p>\n<h2 id=\"首先当然是先创建一个本地仓库\"><a href=\"#首先当然是先创建一个本地仓库\" class=\"headerlink\" title=\"首先当然是先创建一个本地仓库\"></a>首先当然是先创建一个本地仓库</h2><p>首先在一个目录准备作为仓库的目录下，右键“git bash here”</p>\n<p> <img src=\"http://img.blog.csdn.net/20170123012152124?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123012239765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>这样本地仓库创建完成了</p>\n<p>##配置远程仓库（提交的时候要注意，仓库至少要有一个文件，git不允许仓库为空）<br>首先要知道“commit”是提交到本地仓库，“push”是提交到远程仓库，所以光有本地仓库是不能团队合作的，我要将本地仓库和远程仓库进行关联<br>关联远程仓库，一个重要的条件就是本地git的“SSH”要和远程仓库的“SSH”相匹配。<br>我首先要配置创建一个SSH在本地（在C盘本地用户目录里面）</p>\n<h3 id=\"1、先配置git用户（不作截图）\"><a href=\"#1、先配置git用户（不作截图）\" class=\"headerlink\" title=\"1、先配置git用户（不作截图）\"></a>1、先配置git用户（不作截图）</h3><p>$ git config –global user.name “xuhaiyan”<br>$ git config –global user.email “haiyan.xu.vip@gmail.com”</p>\n<p>###2、创建SSH，创建目录在C盘当前用户下</p>\n<p>ssh-keygen -t rsa -C “zengmianhui”<br>双引号内为电脑登录时的用户名<br> <img src=\"http://img.blog.csdn.net/20170123012354325?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123014626433?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170123012425579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"3、-查看SSH代码，并将其设置到远程仓库（这里示例github）\"><a href=\"#3、-查看SSH代码，并将其设置到远程仓库（这里示例github）\" class=\"headerlink\" title=\"3、    查看SSH代码，并将其设置到远程仓库（这里示例github）\"></a>3、    查看SSH代码，并将其设置到远程仓库（这里示例github）</h3><p> <img src=\"http://img.blog.csdn.net/20170123012436748?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> <img src=\"http://img.blog.csdn.net/20170123012528858?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"4、-将本地仓库关联到远程仓库\"><a href=\"#4、-将本地仓库关联到远程仓库\" class=\"headerlink\" title=\"4、    将本地仓库关联到远程仓库\"></a>4、    将本地仓库关联到远程仓库</h3><p>git remote add origin [url]<br> <img src=\"http://img.blog.csdn.net/20170123012548454?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"在Settings中选择Version-Control-并配置Git，不多说，上个图\"><a href=\"#在Settings中选择Version-Control-并配置Git，不多说，上个图\" class=\"headerlink\" title=\"在Settings中选择Version Control 并配置Git，不多说，上个图\"></a>在Settings中选择Version Control 并配置Git，不多说，上个图</h2><p> <img src=\"http://img.blog.csdn.net/20170123012559015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>配置完后我们点下路径后的Test按钮，若出现该Success提示框则表明配置成功：<br> <img src=\"http://img.blog.csdn.net/20170123012634579?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>配置好后我们点击Version Control的时候，在右侧会提示该项目所采用的版本控制工具<br> <img src=\"http://img.blog.csdn.net/20170123012659220?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>若发现该路径为灰色，需要选中，点击”+”<br> <img src=\"http://img.blog.csdn.net/20170123012731236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>因为我们是在一个已有的项目上创建的仓库，所以配置完后需要为项目指定版本控制工具，也可以在最开始Create项目的时候直接指定仓库路径。</p>\n<h2 id=\"提交代码\"><a href=\"#提交代码\" class=\"headerlink\" title=\"提交代码\"></a>提交代码</h2><p>起初，我们项目所有文件颜色，都是 [白色：正常文件的颜色]<br> <img src=\"http://img.blog.csdn.net/20170123012757502?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>但是当我们为项目指定仓库路径后，所有文件颜色的颜色变了 [红色：指定仓库路径后，未Add的文件]<br> <img src=\"http://img.blog.csdn.net/20170123012811659?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>切换为Project视图，对项目右键，Add文件。（在创建仓库的时候.gitignore文件已默认生成，可以修改添加需要ignore的文件）<br> <img src=\"http://img.blog.csdn.net/20170123012834488?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>Add成功后，我们在看看文件的颜色为 [绿色：已Add，但未commit的文件]<br> <img src=\"http://img.blog.csdn.net/20170123012855174?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>也可查看Log日志<br> <img src=\"http://img.blog.csdn.net/20170123012920552?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>Commit文件可通过 项目右键–&gt; Git –&gt; Commit Directory…  也可点击 工具栏上的两个按钮。<br> <img src=\"http://img.blog.csdn.net/20170123012947721?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>填写提交信息，然后可先Commit 然后再 Push 或者直接选择 Commit And Push …<br> <img src=\"http://img.blog.csdn.net/20170123013016053?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>当我们对某个类进行修改后，会发现文件颜色又变了 [墨蓝色：提交成功后修改过的文件]，到此就将项目上传至仓库了，可以通过Studio中的Version Control一目了然的查看提交Log。</p>\n<p> <img src=\"http://img.blog.csdn.net/20170123013030897?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>关于如何下拉代码，我们可以点击工具栏上的“CVS↓”<img src=\"http://img.blog.csdn.net/20170123013206754?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"> 按钮，然后在在弹出框中选择 Merge 合并。</p>\n<p><img src=\"http://img.blog.csdn.net/20170123013226629?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>"},{"title":"android Material Design 底部导航栏","date":"2017-02-07T19:22:38.000Z","_content":"\n# android Material Design 底部导航栏\n## 实现效果\n![这里写图片描述](http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置gradle依赖\n\n```\ncompile 'com.android.support:appcompat-v7:25.1.0'\n//注意：V4包一定要加，material design是依赖V4包的\n//不加，某些类可能报“ClassNotFoundException”\ncompile 'com.android.support:support-v4:25.1.0'\ncompile 'com.android.support:design:25.1.0'\n```\n## 使用BottomNavigationView\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kangda.app.MainActivity\">\n    <!--一定要加入V4包和Material Design包的依赖-->\n    <!--itemIconTint设置图标的颜色-->\n    <!--itemTextColor设置文本标题的颜色-->\n    <android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_bottom\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        app:itemIconTint=\"#767676\"\n        app:itemTextColor=\"#767676\"\n        app:menu=\"@menu/nav_bottom_item\"\n        > </android.support.design.widget.BottomNavigationView>\n</RelativeLayout>\n\n```\n## res/menu/nav_bottom_item.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有剩余空间就显示出来，否则隐藏-->\n    <item android:id=\"@+id/menu_pk\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_pk\"\n        android:icon=\"@mipmap/menu_pk\" />\n    <item android:id=\"@+id/menu_home\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_home\"\n        android:icon=\"@mipmap/menu_home_press\" />\n    <item android:id=\"@+id/menu_mine\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_mine\"\n        android:icon=\"@mipmap/menu_mine\" />\n</menu>\n```\n## src/MainActivity.java\n@BindView这注解依赖ButterKnife，这个不必理会\n```\n@BindView(R.id.nav_bottom)\n    protected BottomNavigationView navBottom;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.menu_pk:\n                        Toast.makeText(MainActivity.this, \"PK\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_home:\n                        Toast.makeText(MainActivity.this, \"主页\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_mine:\n                        Toast.makeText(MainActivity.this, \"我的\", Toast.LENGTH_SHORT).show();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n```\n\n## 注意\n \n\n> 盲目照抄android官方文档带来的问题\n\n> 以下是官方文档抄过来的，有点问题\n> 问题在这一句代码\n> xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n> 正确的代码是\n> xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\n```\nlayout resource file:\n <android.support.design.widget.BottomNavigationView\n     xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n     android:id=\"@+id/navigation\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"56dp\"\n     android:layout_gravity=\"start\"\n     design:menu=\"@menu/my_navigation_items\" />\n\n res/menu/my_navigation_items.xml:\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n     <item android:id=\"@+id/action_search\"\n          android:title=\"@string/menu_search\"\n          android:icon=\"@drawable/ic_search\" />\n     <item android:id=\"@+id/action_settings\"\n          android:title=\"@string/menu_settings\"\n          android:icon=\"@drawable/ic_add\" />\n     <item android:id=\"@+id/action_navigation\"\n          android:title=\"@string/menu_navigation\"\n          android:icon=\"@drawable/ic_action_navigation_menu\" />\n </menu>\n```\n这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。\n## 问题总结\n> viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击","source":"_posts/android-Material-Design-底部导航栏.md","raw":"---\ntitle: android Material Design 底部导航栏\ndate: 2017-02-08 03:22:38\ncategories:\n  - android\n  - Material Design\ntags:\n  - android\n  - Material Design\n---\n\n# android Material Design 底部导航栏\n## 实现效果\n![这里写图片描述](http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置gradle依赖\n\n```\ncompile 'com.android.support:appcompat-v7:25.1.0'\n//注意：V4包一定要加，material design是依赖V4包的\n//不加，某些类可能报“ClassNotFoundException”\ncompile 'com.android.support:support-v4:25.1.0'\ncompile 'com.android.support:design:25.1.0'\n```\n## 使用BottomNavigationView\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kangda.app.MainActivity\">\n    <!--一定要加入V4包和Material Design包的依赖-->\n    <!--itemIconTint设置图标的颜色-->\n    <!--itemTextColor设置文本标题的颜色-->\n    <android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_bottom\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        app:itemIconTint=\"#767676\"\n        app:itemTextColor=\"#767676\"\n        app:menu=\"@menu/nav_bottom_item\"\n        > </android.support.design.widget.BottomNavigationView>\n</RelativeLayout>\n\n```\n## res/menu/nav_bottom_item.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有剩余空间就显示出来，否则隐藏-->\n    <item android:id=\"@+id/menu_pk\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_pk\"\n        android:icon=\"@mipmap/menu_pk\" />\n    <item android:id=\"@+id/menu_home\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_home\"\n        android:icon=\"@mipmap/menu_home_press\" />\n    <item android:id=\"@+id/menu_mine\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_mine\"\n        android:icon=\"@mipmap/menu_mine\" />\n</menu>\n```\n## src/MainActivity.java\n@BindView这注解依赖ButterKnife，这个不必理会\n```\n@BindView(R.id.nav_bottom)\n    protected BottomNavigationView navBottom;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.menu_pk:\n                        Toast.makeText(MainActivity.this, \"PK\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_home:\n                        Toast.makeText(MainActivity.this, \"主页\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_mine:\n                        Toast.makeText(MainActivity.this, \"我的\", Toast.LENGTH_SHORT).show();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n```\n\n## 注意\n \n\n> 盲目照抄android官方文档带来的问题\n\n> 以下是官方文档抄过来的，有点问题\n> 问题在这一句代码\n> xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n> 正确的代码是\n> xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\n```\nlayout resource file:\n <android.support.design.widget.BottomNavigationView\n     xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n     android:id=\"@+id/navigation\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"56dp\"\n     android:layout_gravity=\"start\"\n     design:menu=\"@menu/my_navigation_items\" />\n\n res/menu/my_navigation_items.xml:\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n     <item android:id=\"@+id/action_search\"\n          android:title=\"@string/menu_search\"\n          android:icon=\"@drawable/ic_search\" />\n     <item android:id=\"@+id/action_settings\"\n          android:title=\"@string/menu_settings\"\n          android:icon=\"@drawable/ic_add\" />\n     <item android:id=\"@+id/action_navigation\"\n          android:title=\"@string/menu_navigation\"\n          android:icon=\"@drawable/ic_action_navigation_menu\" />\n </menu>\n```\n这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。\n## 问题总结\n> viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击","slug":"android-Material-Design-底部导航栏","published":1,"updated":"2017-08-26T04:44:42.993Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ak9000ia0usq5r3ev4h","content":"<h1 id=\"android-Material-Design-底部导航栏\"><a href=\"#android-Material-Design-底部导航栏\" class=\"headerlink\" title=\"android Material Design 底部导航栏\"></a>android Material Design 底部导航栏</h1><h2 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h2><p><img src=\"http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><a id=\"more\"></a></p>\n<h2 id=\"配置gradle依赖\"><a href=\"#配置gradle依赖\" class=\"headerlink\" title=\"配置gradle依赖\"></a>配置gradle依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.0&apos;</div><div class=\"line\">//注意：V4包一定要加，material design是依赖V4包的</div><div class=\"line\">//不加，某些类可能报“ClassNotFoundException”</div><div class=\"line\">compile &apos;com.android.support:support-v4:25.1.0&apos;</div><div class=\"line\">compile &apos;com.android.support:design:25.1.0&apos;</div></pre></td></tr></table></figure>\n<h2 id=\"使用BottomNavigationView\"><a href=\"#使用BottomNavigationView\" class=\"headerlink\" title=\"使用BottomNavigationView\"></a>使用BottomNavigationView</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:id=&quot;@+id/activity_main&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot;</div><div class=\"line\">    tools:context=&quot;com.kangda.app.MainActivity&quot;&gt;</div><div class=\"line\">    &lt;!--一定要加入V4包和Material Design包的依赖--&gt;</div><div class=\"line\">    &lt;!--itemIconTint设置图标的颜色--&gt;</div><div class=\"line\">    &lt;!--itemTextColor设置文本标题的颜色--&gt;</div><div class=\"line\">    &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">        android:id=&quot;@+id/nav_bottom&quot;</div><div class=\"line\">        android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">        android:layout_height=&quot;50dp&quot;</div><div class=\"line\">        android:layout_alignParentBottom=&quot;true&quot;</div><div class=\"line\">        app:itemIconTint=&quot;#767676&quot;</div><div class=\"line\">        app:itemTextColor=&quot;#767676&quot;</div><div class=\"line\">        app:menu=&quot;@menu/nav_bottom_item&quot;</div><div class=\"line\">        &gt; &lt;/android.support.design.widget.BottomNavigationView&gt;</div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"res-menu-nav-bottom-item-xml\"><a href=\"#res-menu-nav-bottom-item-xml\" class=\"headerlink\" title=\"res/menu/nav_bottom_item.xml\"></a>res/menu/nav_bottom_item.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有剩余空间就显示出来，否则隐藏--&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_pk&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_pk&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_pk&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_home&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_home&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_home_press&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_mine&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_mine&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_mine&quot; /&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"src-MainActivity-java\"><a href=\"#src-MainActivity-java\" class=\"headerlink\" title=\"src/MainActivity.java\"></a>src/MainActivity.java</h2><p>@BindView这注解依赖ButterKnife，这个不必理会<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">@BindView(R.id.nav_bottom)</div><div class=\"line\">    protected BottomNavigationView navBottom;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        ButterKnife.bind(this);</div><div class=\"line\">        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onNavigationItemSelected(@NonNull MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.menu_pk:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;PK&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_home:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;主页&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_mine:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><blockquote>\n<p>盲目照抄android官方文档带来的问题</p>\n<p>以下是官方文档抄过来的，有点问题<br>问题在这一句代码<br>xmlns:design=”<a href=\"http://schema.android.com/apk/res/android.support.design\" target=\"_blank\" rel=\"external\">http://schema.android.com/apk/res/android.support.design</a>“<br>正确的代码是<br>xmlns:app=”<a href=\"http://schemas.android.com/apk/res-auto\" target=\"_blank\" rel=\"external\">http://schemas.android.com/apk/res-auto</a>“</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">layout resource file:</div><div class=\"line\"> &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">     xmlns:design=&quot;http://schema.android.com/apk/res/android.support.design&quot;</div><div class=\"line\">     android:id=&quot;@+id/navigation&quot;</div><div class=\"line\">     android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">     android:layout_height=&quot;56dp&quot;</div><div class=\"line\">     android:layout_gravity=&quot;start&quot;</div><div class=\"line\">     design:menu=&quot;@menu/my_navigation_items&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\"> res/menu/my_navigation_items.xml:</div><div class=\"line\"> &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_search&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_search&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_search&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_settings&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_settings&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_add&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_navigation&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_navigation&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_action_navigation_menu&quot; /&gt;</div><div class=\"line\"> &lt;/menu&gt;</div></pre></td></tr></table></figure>\n<p>这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。</p>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><blockquote>\n<p>viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击</p>\n</blockquote>\n","excerpt":"<h1 id=\"android-Material-Design-底部导航栏\"><a href=\"#android-Material-Design-底部导航栏\" class=\"headerlink\" title=\"android Material Design 底部导航栏\"></a>android Material Design 底部导航栏</h1><h2 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h2><p><img src=\"http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br></p>","more":"<p></p>\n<h2 id=\"配置gradle依赖\"><a href=\"#配置gradle依赖\" class=\"headerlink\" title=\"配置gradle依赖\"></a>配置gradle依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.0&apos;</div><div class=\"line\">//注意：V4包一定要加，material design是依赖V4包的</div><div class=\"line\">//不加，某些类可能报“ClassNotFoundException”</div><div class=\"line\">compile &apos;com.android.support:support-v4:25.1.0&apos;</div><div class=\"line\">compile &apos;com.android.support:design:25.1.0&apos;</div></pre></td></tr></table></figure>\n<h2 id=\"使用BottomNavigationView\"><a href=\"#使用BottomNavigationView\" class=\"headerlink\" title=\"使用BottomNavigationView\"></a>使用BottomNavigationView</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:id=&quot;@+id/activity_main&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot;</div><div class=\"line\">    tools:context=&quot;com.kangda.app.MainActivity&quot;&gt;</div><div class=\"line\">    &lt;!--一定要加入V4包和Material Design包的依赖--&gt;</div><div class=\"line\">    &lt;!--itemIconTint设置图标的颜色--&gt;</div><div class=\"line\">    &lt;!--itemTextColor设置文本标题的颜色--&gt;</div><div class=\"line\">    &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">        android:id=&quot;@+id/nav_bottom&quot;</div><div class=\"line\">        android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">        android:layout_height=&quot;50dp&quot;</div><div class=\"line\">        android:layout_alignParentBottom=&quot;true&quot;</div><div class=\"line\">        app:itemIconTint=&quot;#767676&quot;</div><div class=\"line\">        app:itemTextColor=&quot;#767676&quot;</div><div class=\"line\">        app:menu=&quot;@menu/nav_bottom_item&quot;</div><div class=\"line\">        &gt; &lt;/android.support.design.widget.BottomNavigationView&gt;</div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"res-menu-nav-bottom-item-xml\"><a href=\"#res-menu-nav-bottom-item-xml\" class=\"headerlink\" title=\"res/menu/nav_bottom_item.xml\"></a>res/menu/nav_bottom_item.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有剩余空间就显示出来，否则隐藏--&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_pk&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_pk&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_pk&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_home&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_home&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_home_press&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_mine&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_mine&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_mine&quot; /&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"src-MainActivity-java\"><a href=\"#src-MainActivity-java\" class=\"headerlink\" title=\"src/MainActivity.java\"></a>src/MainActivity.java</h2><p>@BindView这注解依赖ButterKnife，这个不必理会<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">@BindView(R.id.nav_bottom)</div><div class=\"line\">    protected BottomNavigationView navBottom;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        ButterKnife.bind(this);</div><div class=\"line\">        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onNavigationItemSelected(@NonNull MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.menu_pk:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;PK&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_home:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;主页&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_mine:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><blockquote>\n<p>盲目照抄android官方文档带来的问题</p>\n<p>以下是官方文档抄过来的，有点问题<br>问题在这一句代码<br>xmlns:design=”<a href=\"http://schema.android.com/apk/res/android.support.design\">http://schema.android.com/apk/res/android.support.design</a>“<br>正确的代码是<br>xmlns:app=”<a href=\"http://schemas.android.com/apk/res-auto\">http://schemas.android.com/apk/res-auto</a>“</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">layout resource file:</div><div class=\"line\"> &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">     xmlns:design=&quot;http://schema.android.com/apk/res/android.support.design&quot;</div><div class=\"line\">     android:id=&quot;@+id/navigation&quot;</div><div class=\"line\">     android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">     android:layout_height=&quot;56dp&quot;</div><div class=\"line\">     android:layout_gravity=&quot;start&quot;</div><div class=\"line\">     design:menu=&quot;@menu/my_navigation_items&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\"> res/menu/my_navigation_items.xml:</div><div class=\"line\"> &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_search&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_search&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_search&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_settings&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_settings&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_add&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_navigation&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_navigation&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_action_navigation_menu&quot; /&gt;</div><div class=\"line\"> &lt;/menu&gt;</div></pre></td></tr></table></figure>\n<p>这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。</p>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><blockquote>\n<p>viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击</p>\n</blockquote>"},{"title":"android Toolbar的使用","date":"2017-02-08T17:53:47.000Z","_content":"# android Toolbar的使用\n## 参考文章\n[ToolBar详解（手把手教程）](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1118/2006.html)\n[stackoverflow-Android toolbar menu is not showing](http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing)\n[actionBar和Toolbar中如何动态隐藏和修改menu上的菜单](http://blog.csdn.net/chenguang79/article/details/48826199)\n## 效果图\n![这里写图片描述](http://img.blog.csdn.net/20170209010427047?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置material design\n请确保有依赖以下三项\n```\n\tcompile 'com.android.support:appcompat-v7:25.1.1'\n    compile 'com.android.support:support-v4:25.1.1'\n    compile 'com.android.support:design:25.1.1'\n```\n## 去除原有的actionBar\n\n```\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n        <!--增加以下三行，为app去除原有actionBar-->\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"android:windowNoTitle\">true</item>\n        <item name=\"windowNoTitle\">true</item>\n    </style>\n```\n\n## toolbar代码\nres\\layout\\toolbar.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!--colorPrimary是主题使用的颜色，可以value/color.xml中修改-->\n<!--actionBarSize是系统actionBar的高度-->\n<android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"?attr/colorPrimary\"\n    app:menu=\"@menu/menu_toolbar\"\n    >\n\n</android.support.v7.widget.Toolbar>\n```\n一般来说toolbar会应用多个activity，所以我单独作为一个xml来使用，\n在activity.xml中只需使用include标签，方便使用\n\n```\n\t<include\n        android:id=\"@+id/toolbar\"\n        layout=\"@layout/toolbar\"\n        />\n```\n## 编写menu/menu_toolbar.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有足够的空间会显示出来，否则隐藏在工具栏里面-->\n    <item\n        android:id=\"@+id/search\"\n        android:icon=\"@mipmap/search\"\n        android:title=\"搜索\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n    <item\n        android:id=\"@+id/write\"\n        android:icon=\"@mipmap/write\"\n        android:title=\"书写\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n    <item\n        android:id=\"@+id/book\"\n        android:icon=\"@mipmap/book\"\n        android:title=\"书籍\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n</menu>\n```\n\n## java注意setSupportActionBar和onPrepareOptionsMenu\nsrc\\MainActivity.java\n```\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        final TextView hello= (TextView) findViewById(R.id.hello);\n        Toolbar toolbar= (Toolbar) findViewById(R.id.toolbar);\n        //配置代替actionBar\n        setSupportActionBar(toolbar);\n        //设置图标\n        toolbar.setLogo(getResources().getDrawable(R.mipmap.ic_launcher));\n        toolbar.setNavigationIcon(R.mipmap.ic_launcher);\n        toolbar.setTitle(\"setTitle主标题\");\n        toolbar.setSubtitle(\"setSubtitle副标题\");\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n            @Override\n            public boolean onMenuItemClick(MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.search:\n                        hello.setText(\"您点击了搜索\");\n                        break;\n                    case R.id.write:\n                        hello.setText(\"您点击了书写\");\n                        break;\n                    case R.id.book:\n                        hello.setText(\"您点击了书籍\");\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_toolbar,menu);\n        return super.onPrepareOptionsMenu(menu);\n    }\n```\n## 遇见的问题\n### menu没有展示\n出现我第一时间考虑，没有使用menu属性配置。\n很显然我是有的\n\n```\n<android.support.v7.widget.Toolbar\n……\napp:menu=\"@menu/menu_toolbar\"\n>\n</android.support.v7.widget.Toolbar>\n```\n\n[stackoverflow-Android toolbar menu is not showing](http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing)\n我在参考了stackoverflow的问题，之后发现是我没有使用\nonPrepareOptionsMenu()\n\n```\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_toolbar,menu);\n        return super.onPrepareOptionsMenu(menu);\n    }\n```\n后来，我尝试保留onPrepareOptionsMenu()，把setSupportActionBar()去掉，发现menu同样也会消失不见。\n我由此估计，menu是actionbar才有的功能，toolbar只是调用了actionbar功能的部分方法。\n\n所以，才有先用setSupportActionBar()替换actionbar\n再onPrepareOptionsMenu();创建menu\n### onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\nonCreateOptionsMenu():创建菜单，但是从初始开始就只运行一次，所以activity实例化后，无法修改菜单内容\nonOptionsItemSelected():对选中的菜单进行操作\nonPrepareOptionsMenu()：创建菜单，activity初始化后仍会调用此方法，所以可在方法编写activity初始化后的功能\n","source":"_posts/android-Toolbar的使用.md","raw":"---\ntitle: android Toolbar的使用\ndate: 2017-02-09 01:53:47\ncategories:\n  - android\n  - Material Design\ntags:\n  - android\n  - Material Design\n---\n# android Toolbar的使用\n## 参考文章\n[ToolBar详解（手把手教程）](http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1118/2006.html)\n[stackoverflow-Android toolbar menu is not showing](http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing)\n[actionBar和Toolbar中如何动态隐藏和修改menu上的菜单](http://blog.csdn.net/chenguang79/article/details/48826199)\n## 效果图\n![这里写图片描述](http://img.blog.csdn.net/20170209010427047?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置material design\n请确保有依赖以下三项\n```\n\tcompile 'com.android.support:appcompat-v7:25.1.1'\n    compile 'com.android.support:support-v4:25.1.1'\n    compile 'com.android.support:design:25.1.1'\n```\n## 去除原有的actionBar\n\n```\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n        <!--增加以下三行，为app去除原有actionBar-->\n        <item name=\"windowActionBar\">false</item>\n        <item name=\"android:windowNoTitle\">true</item>\n        <item name=\"windowNoTitle\">true</item>\n    </style>\n```\n\n## toolbar代码\nres\\layout\\toolbar.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<!--colorPrimary是主题使用的颜色，可以value/color.xml中修改-->\n<!--actionBarSize是系统actionBar的高度-->\n<android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:background=\"?attr/colorPrimary\"\n    app:menu=\"@menu/menu_toolbar\"\n    >\n\n</android.support.v7.widget.Toolbar>\n```\n一般来说toolbar会应用多个activity，所以我单独作为一个xml来使用，\n在activity.xml中只需使用include标签，方便使用\n\n```\n\t<include\n        android:id=\"@+id/toolbar\"\n        layout=\"@layout/toolbar\"\n        />\n```\n## 编写menu/menu_toolbar.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有足够的空间会显示出来，否则隐藏在工具栏里面-->\n    <item\n        android:id=\"@+id/search\"\n        android:icon=\"@mipmap/search\"\n        android:title=\"搜索\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n    <item\n        android:id=\"@+id/write\"\n        android:icon=\"@mipmap/write\"\n        android:title=\"书写\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n    <item\n        android:id=\"@+id/book\"\n        android:icon=\"@mipmap/book\"\n        android:title=\"书籍\"\n        app:showAsAction=\"ifRoom\"\n        >\n    </item>\n</menu>\n```\n\n## java注意setSupportActionBar和onPrepareOptionsMenu\nsrc\\MainActivity.java\n```\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        final TextView hello= (TextView) findViewById(R.id.hello);\n        Toolbar toolbar= (Toolbar) findViewById(R.id.toolbar);\n        //配置代替actionBar\n        setSupportActionBar(toolbar);\n        //设置图标\n        toolbar.setLogo(getResources().getDrawable(R.mipmap.ic_launcher));\n        toolbar.setNavigationIcon(R.mipmap.ic_launcher);\n        toolbar.setTitle(\"setTitle主标题\");\n        toolbar.setSubtitle(\"setSubtitle副标题\");\n        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n            @Override\n            public boolean onMenuItemClick(MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.search:\n                        hello.setText(\"您点击了搜索\");\n                        break;\n                    case R.id.write:\n                        hello.setText(\"您点击了书写\");\n                        break;\n                    case R.id.book:\n                        hello.setText(\"您点击了书籍\");\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_toolbar,menu);\n        return super.onPrepareOptionsMenu(menu);\n    }\n```\n## 遇见的问题\n### menu没有展示\n出现我第一时间考虑，没有使用menu属性配置。\n很显然我是有的\n\n```\n<android.support.v7.widget.Toolbar\n……\napp:menu=\"@menu/menu_toolbar\"\n>\n</android.support.v7.widget.Toolbar>\n```\n\n[stackoverflow-Android toolbar menu is not showing](http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing)\n我在参考了stackoverflow的问题，之后发现是我没有使用\nonPrepareOptionsMenu()\n\n```\n    @Override\n    public boolean onPrepareOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_toolbar,menu);\n        return super.onPrepareOptionsMenu(menu);\n    }\n```\n后来，我尝试保留onPrepareOptionsMenu()，把setSupportActionBar()去掉，发现menu同样也会消失不见。\n我由此估计，menu是actionbar才有的功能，toolbar只是调用了actionbar功能的部分方法。\n\n所以，才有先用setSupportActionBar()替换actionbar\n再onPrepareOptionsMenu();创建menu\n### onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\nonCreateOptionsMenu():创建菜单，但是从初始开始就只运行一次，所以activity实例化后，无法修改菜单内容\nonOptionsItemSelected():对选中的菜单进行操作\nonPrepareOptionsMenu()：创建菜单，activity初始化后仍会调用此方法，所以可在方法编写activity初始化后的功能\n","slug":"android-Toolbar的使用","published":1,"updated":"2017-02-08T17:55:10.663Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3akf000ma0uslswzxkng","content":"<h1 id=\"android-Toolbar的使用\"><a href=\"#android-Toolbar的使用\" class=\"headerlink\" title=\"android Toolbar的使用\"></a>android Toolbar的使用</h1><h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1118/2006.html\" target=\"_blank\" rel=\"external\">ToolBar详解（手把手教程）</a><br><a href=\"http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing\" target=\"_blank\" rel=\"external\">stackoverflow-Android toolbar menu is not showing</a><br><a href=\"http://blog.csdn.net/chenguang79/article/details/48826199\" target=\"_blank\" rel=\"external\">actionBar和Toolbar中如何动态隐藏和修改menu上的菜单</a></p>\n<h2 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h2><p><img src=\"http://img.blog.csdn.net/20170209010427047?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><a id=\"more\"></a></p>\n<h2 id=\"配置material-design\"><a href=\"#配置material-design\" class=\"headerlink\" title=\"配置material design\"></a>配置material design</h2><p>请确保有依赖以下三项<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.1&apos;</div><div class=\"line\">   compile &apos;com.android.support:support-v4:25.1.1&apos;</div><div class=\"line\">   compile &apos;com.android.support:design:25.1.1&apos;</div></pre></td></tr></table></figure></p>\n<h2 id=\"去除原有的actionBar\"><a href=\"#去除原有的actionBar\" class=\"headerlink\" title=\"去除原有的actionBar\"></a>去除原有的actionBar</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</div><div class=\"line\">    &lt;!-- Customize your theme here. --&gt;</div><div class=\"line\">    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;</div><div class=\"line\">    &lt;!--增加以下三行，为app去除原有actionBar--&gt;</div><div class=\"line\">    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class=\"line\">&lt;/style&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"toolbar代码\"><a href=\"#toolbar代码\" class=\"headerlink\" title=\"toolbar代码\"></a>toolbar代码</h2><p>res\\layout\\toolbar.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;!--colorPrimary是主题使用的颜色，可以value/color.xml中修改--&gt;</div><div class=\"line\">&lt;!--actionBarSize是系统actionBar的高度--&gt;</div><div class=\"line\">&lt;android.support.v7.widget.Toolbar</div><div class=\"line\">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;?attr/actionBarSize&quot;</div><div class=\"line\">    android:background=&quot;?attr/colorPrimary&quot;</div><div class=\"line\">    app:menu=&quot;@menu/menu_toolbar&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/android.support.v7.widget.Toolbar&gt;</div></pre></td></tr></table></figure></p>\n<p>一般来说toolbar会应用多个activity，所以我单独作为一个xml来使用，<br>在activity.xml中只需使用include标签，方便使用</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;include</div><div class=\"line\">       android:id=&quot;@+id/toolbar&quot;</div><div class=\"line\">       layout=&quot;@layout/toolbar&quot;</div><div class=\"line\">       /&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"编写menu-menu-toolbar-xml\"><a href=\"#编写menu-menu-toolbar-xml\" class=\"headerlink\" title=\"编写menu/menu_toolbar.xml\"></a>编写menu/menu_toolbar.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有足够的空间会显示出来，否则隐藏在工具栏里面--&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/search&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/search&quot;</div><div class=\"line\">        android:title=&quot;搜索&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/write&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/write&quot;</div><div class=\"line\">        android:title=&quot;书写&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/book&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/book&quot;</div><div class=\"line\">        android:title=&quot;书籍&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"java注意setSupportActionBar和onPrepareOptionsMenu\"><a href=\"#java注意setSupportActionBar和onPrepareOptionsMenu\" class=\"headerlink\" title=\"java注意setSupportActionBar和onPrepareOptionsMenu\"></a>java注意setSupportActionBar和onPrepareOptionsMenu</h2><p>src\\MainActivity.java<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        final TextView hello= (TextView) findViewById(R.id.hello);</div><div class=\"line\">        Toolbar toolbar= (Toolbar) findViewById(R.id.toolbar);</div><div class=\"line\">        //配置代替actionBar</div><div class=\"line\">        setSupportActionBar(toolbar);</div><div class=\"line\">        //设置图标</div><div class=\"line\">        toolbar.setLogo(getResources().getDrawable(R.mipmap.ic_launcher));</div><div class=\"line\">        toolbar.setNavigationIcon(R.mipmap.ic_launcher);</div><div class=\"line\">        toolbar.setTitle(&quot;setTitle主标题&quot;);</div><div class=\"line\">        toolbar.setSubtitle(&quot;setSubtitle副标题&quot;);</div><div class=\"line\">        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onMenuItemClick(MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.search:</div><div class=\"line\">                        hello.setText(&quot;您点击了搜索&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.write:</div><div class=\"line\">                        hello.setText(&quot;您点击了书写&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.book:</div><div class=\"line\">                        hello.setText(&quot;您点击了书籍&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public boolean onPrepareOptionsMenu(Menu menu) &#123;</div><div class=\"line\">        getMenuInflater().inflate(R.menu.menu_toolbar,menu);</div><div class=\"line\">        return super.onPrepareOptionsMenu(menu);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"遇见的问题\"><a href=\"#遇见的问题\" class=\"headerlink\" title=\"遇见的问题\"></a>遇见的问题</h2><h3 id=\"menu没有展示\"><a href=\"#menu没有展示\" class=\"headerlink\" title=\"menu没有展示\"></a>menu没有展示</h3><p>出现我第一时间考虑，没有使用menu属性配置。<br>很显然我是有的</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;android.support.v7.widget.Toolbar</div><div class=\"line\">……</div><div class=\"line\">app:menu=&quot;@menu/menu_toolbar&quot;</div><div class=\"line\">&gt;</div><div class=\"line\">&lt;/android.support.v7.widget.Toolbar&gt;</div></pre></td></tr></table></figure>\n<p><a href=\"http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing\" target=\"_blank\" rel=\"external\">stackoverflow-Android toolbar menu is not showing</a><br>我在参考了stackoverflow的问题，之后发现是我没有使用<br>onPrepareOptionsMenu()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public boolean onPrepareOptionsMenu(Menu menu) &#123;</div><div class=\"line\">    getMenuInflater().inflate(R.menu.menu_toolbar,menu);</div><div class=\"line\">    return super.onPrepareOptionsMenu(menu);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>后来，我尝试保留onPrepareOptionsMenu()，把setSupportActionBar()去掉，发现menu同样也会消失不见。<br>我由此估计，menu是actionbar才有的功能，toolbar只是调用了actionbar功能的部分方法。</p>\n<p>所以，才有先用setSupportActionBar()替换actionbar<br>再onPrepareOptionsMenu();创建menu</p>\n<h3 id=\"onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\"><a href=\"#onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\" class=\"headerlink\" title=\"onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\"></a>onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系</h3><p>onCreateOptionsMenu():创建菜单，但是从初始开始就只运行一次，所以activity实例化后，无法修改菜单内容<br>onOptionsItemSelected():对选中的菜单进行操作<br>onPrepareOptionsMenu()：创建菜单，activity初始化后仍会调用此方法，所以可在方法编写activity初始化后的功能</p>\n","excerpt":"<h1 id=\"android-Toolbar的使用\"><a href=\"#android-Toolbar的使用\" class=\"headerlink\" title=\"android Toolbar的使用\"></a>android Toolbar的使用</h1><h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1118/2006.html\">ToolBar详解（手把手教程）</a><br><a href=\"http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing\">stackoverflow-Android toolbar menu is not showing</a><br><a href=\"http://blog.csdn.net/chenguang79/article/details/48826199\">actionBar和Toolbar中如何动态隐藏和修改menu上的菜单</a></p>\n<h2 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h2><p><img src=\"http://img.blog.csdn.net/20170209010427047?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br></p>","more":"<p></p>\n<h2 id=\"配置material-design\"><a href=\"#配置material-design\" class=\"headerlink\" title=\"配置material design\"></a>配置material design</h2><p>请确保有依赖以下三项<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.1&apos;</div><div class=\"line\">   compile &apos;com.android.support:support-v4:25.1.1&apos;</div><div class=\"line\">   compile &apos;com.android.support:design:25.1.1&apos;</div></pre></td></tr></table></figure></p>\n<h2 id=\"去除原有的actionBar\"><a href=\"#去除原有的actionBar\" class=\"headerlink\" title=\"去除原有的actionBar\"></a>去除原有的actionBar</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;</div><div class=\"line\">    &lt;!-- Customize your theme here. --&gt;</div><div class=\"line\">    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;</div><div class=\"line\">    &lt;!--增加以下三行，为app去除原有actionBar--&gt;</div><div class=\"line\">    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class=\"line\">    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;</div><div class=\"line\">&lt;/style&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"toolbar代码\"><a href=\"#toolbar代码\" class=\"headerlink\" title=\"toolbar代码\"></a>toolbar代码</h2><p>res\\layout\\toolbar.xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;!--colorPrimary是主题使用的颜色，可以value/color.xml中修改--&gt;</div><div class=\"line\">&lt;!--actionBarSize是系统actionBar的高度--&gt;</div><div class=\"line\">&lt;android.support.v7.widget.Toolbar</div><div class=\"line\">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;?attr/actionBarSize&quot;</div><div class=\"line\">    android:background=&quot;?attr/colorPrimary&quot;</div><div class=\"line\">    app:menu=&quot;@menu/menu_toolbar&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/android.support.v7.widget.Toolbar&gt;</div></pre></td></tr></table></figure></p>\n<p>一般来说toolbar会应用多个activity，所以我单独作为一个xml来使用，<br>在activity.xml中只需使用include标签，方便使用</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;include</div><div class=\"line\">       android:id=&quot;@+id/toolbar&quot;</div><div class=\"line\">       layout=&quot;@layout/toolbar&quot;</div><div class=\"line\">       /&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"编写menu-menu-toolbar-xml\"><a href=\"#编写menu-menu-toolbar-xml\" class=\"headerlink\" title=\"编写menu/menu_toolbar.xml\"></a>编写menu/menu_toolbar.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有足够的空间会显示出来，否则隐藏在工具栏里面--&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/search&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/search&quot;</div><div class=\"line\">        android:title=&quot;搜索&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/write&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/write&quot;</div><div class=\"line\">        android:title=&quot;书写&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">    &lt;item</div><div class=\"line\">        android:id=&quot;@+id/book&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/book&quot;</div><div class=\"line\">        android:title=&quot;书籍&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        &gt;</div><div class=\"line\">    &lt;/item&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"java注意setSupportActionBar和onPrepareOptionsMenu\"><a href=\"#java注意setSupportActionBar和onPrepareOptionsMenu\" class=\"headerlink\" title=\"java注意setSupportActionBar和onPrepareOptionsMenu\"></a>java注意setSupportActionBar和onPrepareOptionsMenu</h2><p>src\\MainActivity.java<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        final TextView hello= (TextView) findViewById(R.id.hello);</div><div class=\"line\">        Toolbar toolbar= (Toolbar) findViewById(R.id.toolbar);</div><div class=\"line\">        //配置代替actionBar</div><div class=\"line\">        setSupportActionBar(toolbar);</div><div class=\"line\">        //设置图标</div><div class=\"line\">        toolbar.setLogo(getResources().getDrawable(R.mipmap.ic_launcher));</div><div class=\"line\">        toolbar.setNavigationIcon(R.mipmap.ic_launcher);</div><div class=\"line\">        toolbar.setTitle(&quot;setTitle主标题&quot;);</div><div class=\"line\">        toolbar.setSubtitle(&quot;setSubtitle副标题&quot;);</div><div class=\"line\">        toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onMenuItemClick(MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.search:</div><div class=\"line\">                        hello.setText(&quot;您点击了搜索&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.write:</div><div class=\"line\">                        hello.setText(&quot;您点击了书写&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.book:</div><div class=\"line\">                        hello.setText(&quot;您点击了书籍&quot;);</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public boolean onPrepareOptionsMenu(Menu menu) &#123;</div><div class=\"line\">        getMenuInflater().inflate(R.menu.menu_toolbar,menu);</div><div class=\"line\">        return super.onPrepareOptionsMenu(menu);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"遇见的问题\"><a href=\"#遇见的问题\" class=\"headerlink\" title=\"遇见的问题\"></a>遇见的问题</h2><h3 id=\"menu没有展示\"><a href=\"#menu没有展示\" class=\"headerlink\" title=\"menu没有展示\"></a>menu没有展示</h3><p>出现我第一时间考虑，没有使用menu属性配置。<br>很显然我是有的</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;android.support.v7.widget.Toolbar</div><div class=\"line\">……</div><div class=\"line\">app:menu=&quot;@menu/menu_toolbar&quot;</div><div class=\"line\">&gt;</div><div class=\"line\">&lt;/android.support.v7.widget.Toolbar&gt;</div></pre></td></tr></table></figure>\n<p><a href=\"http://stackoverflow.com/questions/28317905/android-toolbar-menu-is-not-showing\">stackoverflow-Android toolbar menu is not showing</a><br>我在参考了stackoverflow的问题，之后发现是我没有使用<br>onPrepareOptionsMenu()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public boolean onPrepareOptionsMenu(Menu menu) &#123;</div><div class=\"line\">    getMenuInflater().inflate(R.menu.menu_toolbar,menu);</div><div class=\"line\">    return super.onPrepareOptionsMenu(menu);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>后来，我尝试保留onPrepareOptionsMenu()，把setSupportActionBar()去掉，发现menu同样也会消失不见。<br>我由此估计，menu是actionbar才有的功能，toolbar只是调用了actionbar功能的部分方法。</p>\n<p>所以，才有先用setSupportActionBar()替换actionbar<br>再onPrepareOptionsMenu();创建menu</p>\n<h3 id=\"onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\"><a href=\"#onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\" class=\"headerlink\" title=\"onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系\"></a>onPrepareOptionsMenu与onCreateOptionsMenu与onOptionsItemSelected的关系</h3><p>onCreateOptionsMenu():创建菜单，但是从初始开始就只运行一次，所以activity实例化后，无法修改菜单内容<br>onOptionsItemSelected():对选中的菜单进行操作<br>onPrepareOptionsMenu()：创建菜单，activity初始化后仍会调用此方法，所以可在方法编写activity初始化后的功能</p>"},{"title":"android Material Design 底部导航栏","date":"2017-02-07T19:22:38.000Z","_content":"\n# android Material Design 底部导航栏\n## 实现效果\n![这里写图片描述](http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置gradle依赖\n\n```\ncompile 'com.android.support:appcompat-v7:25.1.0'\n//注意：V4包一定要加，material design是依赖V4包的\n//不加，某些类可能报“ClassNotFoundException”\ncompile 'com.android.support:support-v4:25.1.0'\ncompile 'com.android.support:design:25.1.0'\n```\n## 使用BottomNavigationView\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kangda.app.MainActivity\">\n    <!--一定要加入V4包和Material Design包的依赖-->\n    <!--itemIconTint设置图标的颜色-->\n    <!--itemTextColor设置文本标题的颜色-->\n    <android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_bottom\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        app:itemIconTint=\"#767676\"\n        app:itemTextColor=\"#767676\"\n        app:menu=\"@menu/nav_bottom_item\"\n        > </android.support.design.widget.BottomNavigationView>\n</RelativeLayout>\n\n```\n## res/menu/nav_bottom_item.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有剩余空间就显示出来，否则隐藏-->\n    <item android:id=\"@+id/menu_pk\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_pk\"\n        android:icon=\"@mipmap/menu_pk\" />\n    <item android:id=\"@+id/menu_home\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_home\"\n        android:icon=\"@mipmap/menu_home_press\" />\n    <item android:id=\"@+id/menu_mine\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_mine\"\n        android:icon=\"@mipmap/menu_mine\" />\n</menu>\n```\n## src/MainActivity.java\n@BindView这注解依赖ButterKnife，这个不必理会\n```\n@BindView(R.id.nav_bottom)\n    protected BottomNavigationView navBottom;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.menu_pk:\n                        Toast.makeText(MainActivity.this, \"PK\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_home:\n                        Toast.makeText(MainActivity.this, \"主页\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_mine:\n                        Toast.makeText(MainActivity.this, \"我的\", Toast.LENGTH_SHORT).show();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n```\n\n## 注意\n \n\n> 盲目照抄android官方文档带来的问题\n\n> 以下是官方文档抄过来的，有点问题\n> 问题在这一句代码\n> xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n> 正确的代码是\n> xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\n```\nlayout resource file:\n <android.support.design.widget.BottomNavigationView\n     xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n     android:id=\"@+id/navigation\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"56dp\"\n     android:layout_gravity=\"start\"\n     design:menu=\"@menu/my_navigation_items\" />\n\n res/menu/my_navigation_items.xml:\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n     <item android:id=\"@+id/action_search\"\n          android:title=\"@string/menu_search\"\n          android:icon=\"@drawable/ic_search\" />\n     <item android:id=\"@+id/action_settings\"\n          android:title=\"@string/menu_settings\"\n          android:icon=\"@drawable/ic_add\" />\n     <item android:id=\"@+id/action_navigation\"\n          android:title=\"@string/menu_navigation\"\n          android:icon=\"@drawable/ic_action_navigation_menu\" />\n </menu>\n```\n这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。\n## 问题总结\n> viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击","source":"_posts/android-Material-Design-底部导航栏.autosave.md","raw":"---\ntitle: android Material Design 底部导航栏\ndate: 2017-02-08 03:22:38\ncategories:\n  - android\n  - Material Design\ntags:\n  - android\n  - Material Design\n---\n\n# android Material Design 底部导航栏\n## 实现效果\n![这里写图片描述](http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n<!--more-->\n## 配置gradle依赖\n\n```\ncompile 'com.android.support:appcompat-v7:25.1.0'\n//注意：V4包一定要加，material design是依赖V4包的\n//不加，某些类可能报“ClassNotFoundException”\ncompile 'com.android.support:support-v4:25.1.0'\ncompile 'com.android.support:design:25.1.0'\n```\n## 使用BottomNavigationView\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.kangda.app.MainActivity\">\n    <!--一定要加入V4包和Material Design包的依赖-->\n    <!--itemIconTint设置图标的颜色-->\n    <!--itemTextColor设置文本标题的颜色-->\n    <android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/nav_bottom\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        app:itemIconTint=\"#767676\"\n        app:itemTextColor=\"#767676\"\n        app:menu=\"@menu/nav_bottom_item\"\n        > </android.support.design.widget.BottomNavigationView>\n</RelativeLayout>\n\n```\n## res/menu/nav_bottom_item.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    >\n    <!--showAsAction如果有剩余空间就显示出来，否则隐藏-->\n    <item android:id=\"@+id/menu_pk\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_pk\"\n        android:icon=\"@mipmap/menu_pk\" />\n    <item android:id=\"@+id/menu_home\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_home\"\n        android:icon=\"@mipmap/menu_home_press\" />\n    <item android:id=\"@+id/menu_mine\"\n        android:enabled=\"true\"\n        app:showAsAction=\"ifRoom\"\n        android:title=\"@string/menu_title_mine\"\n        android:icon=\"@mipmap/menu_mine\" />\n</menu>\n```\n## src/MainActivity.java\n@BindView这注解依赖ButterKnife，这个不必理会\n```\n@BindView(R.id.nav_bottom)\n    protected BottomNavigationView navBottom;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ButterKnife.bind(this);\n        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()){\n                    case R.id.menu_pk:\n                        Toast.makeText(MainActivity.this, \"PK\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_home:\n                        Toast.makeText(MainActivity.this, \"主页\", Toast.LENGTH_SHORT).show();\n                        break;\n                    case R.id.menu_mine:\n                        Toast.makeText(MainActivity.this, \"我的\", Toast.LENGTH_SHORT).show();\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n```\n\n## 注意\n \n\n> 盲目照抄android官方文档带来的问题\n\n> 以下是官方文档抄过来的，有点问题\n> 问题在这一句代码\n> xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n> 正确的代码是\n> xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\n```\nlayout resource file:\n <android.support.design.widget.BottomNavigationView\n     xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:design=\"http://schema.android.com/apk/res/android.support.design\"\n     android:id=\"@+id/navigation\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"56dp\"\n     android:layout_gravity=\"start\"\n     design:menu=\"@menu/my_navigation_items\" />\n\n res/menu/my_navigation_items.xml:\n <menu xmlns:android=\"http://schemas.android.com/apk/res/android\">\n     <item android:id=\"@+id/action_search\"\n          android:title=\"@string/menu_search\"\n          android:icon=\"@drawable/ic_search\" />\n     <item android:id=\"@+id/action_settings\"\n          android:title=\"@string/menu_settings\"\n          android:icon=\"@drawable/ic_add\" />\n     <item android:id=\"@+id/action_navigation\"\n          android:title=\"@string/menu_navigation\"\n          android:icon=\"@drawable/ic_action_navigation_menu\" />\n </menu>\n```\n这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。\n## 问题总结\n> viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击","slug":"android-Material-Design-底部导航栏.autosave","published":1,"updated":"2017-08-26T04:44:16.912Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3akh000na0usft6yqpd8","content":"<h1 id=\"android-Material-Design-底部导航栏\"><a href=\"#android-Material-Design-底部导航栏\" class=\"headerlink\" title=\"android Material Design 底部导航栏\"></a>android Material Design 底部导航栏</h1><h2 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h2><p><img src=\"http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><a id=\"more\"></a></p>\n<h2 id=\"配置gradle依赖\"><a href=\"#配置gradle依赖\" class=\"headerlink\" title=\"配置gradle依赖\"></a>配置gradle依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.0&apos;</div><div class=\"line\">//注意：V4包一定要加，material design是依赖V4包的</div><div class=\"line\">//不加，某些类可能报“ClassNotFoundException”</div><div class=\"line\">compile &apos;com.android.support:support-v4:25.1.0&apos;</div><div class=\"line\">compile &apos;com.android.support:design:25.1.0&apos;</div></pre></td></tr></table></figure>\n<h2 id=\"使用BottomNavigationView\"><a href=\"#使用BottomNavigationView\" class=\"headerlink\" title=\"使用BottomNavigationView\"></a>使用BottomNavigationView</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:id=&quot;@+id/activity_main&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot;</div><div class=\"line\">    tools:context=&quot;com.kangda.app.MainActivity&quot;&gt;</div><div class=\"line\">    &lt;!--一定要加入V4包和Material Design包的依赖--&gt;</div><div class=\"line\">    &lt;!--itemIconTint设置图标的颜色--&gt;</div><div class=\"line\">    &lt;!--itemTextColor设置文本标题的颜色--&gt;</div><div class=\"line\">    &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">        android:id=&quot;@+id/nav_bottom&quot;</div><div class=\"line\">        android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">        android:layout_height=&quot;50dp&quot;</div><div class=\"line\">        android:layout_alignParentBottom=&quot;true&quot;</div><div class=\"line\">        app:itemIconTint=&quot;#767676&quot;</div><div class=\"line\">        app:itemTextColor=&quot;#767676&quot;</div><div class=\"line\">        app:menu=&quot;@menu/nav_bottom_item&quot;</div><div class=\"line\">        &gt; &lt;/android.support.design.widget.BottomNavigationView&gt;</div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"res-menu-nav-bottom-item-xml\"><a href=\"#res-menu-nav-bottom-item-xml\" class=\"headerlink\" title=\"res/menu/nav_bottom_item.xml\"></a>res/menu/nav_bottom_item.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有剩余空间就显示出来，否则隐藏--&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_pk&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_pk&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_pk&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_home&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_home&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_home_press&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_mine&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_mine&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_mine&quot; /&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"src-MainActivity-java\"><a href=\"#src-MainActivity-java\" class=\"headerlink\" title=\"src/MainActivity.java\"></a>src/MainActivity.java</h2><p>@BindView这注解依赖ButterKnife，这个不必理会<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">@BindView(R.id.nav_bottom)</div><div class=\"line\">    protected BottomNavigationView navBottom;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        ButterKnife.bind(this);</div><div class=\"line\">        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onNavigationItemSelected(@NonNull MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.menu_pk:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;PK&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_home:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;主页&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_mine:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><blockquote>\n<p>盲目照抄android官方文档带来的问题</p>\n<p>以下是官方文档抄过来的，有点问题<br>问题在这一句代码<br>xmlns:design=”<a href=\"http://schema.android.com/apk/res/android.support.design\" target=\"_blank\" rel=\"external\">http://schema.android.com/apk/res/android.support.design</a>“<br>正确的代码是<br>xmlns:app=”<a href=\"http://schemas.android.com/apk/res-auto\" target=\"_blank\" rel=\"external\">http://schemas.android.com/apk/res-auto</a>“</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">layout resource file:</div><div class=\"line\"> &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">     xmlns:design=&quot;http://schema.android.com/apk/res/android.support.design&quot;</div><div class=\"line\">     android:id=&quot;@+id/navigation&quot;</div><div class=\"line\">     android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">     android:layout_height=&quot;56dp&quot;</div><div class=\"line\">     android:layout_gravity=&quot;start&quot;</div><div class=\"line\">     design:menu=&quot;@menu/my_navigation_items&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\"> res/menu/my_navigation_items.xml:</div><div class=\"line\"> &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_search&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_search&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_search&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_settings&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_settings&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_add&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_navigation&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_navigation&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_action_navigation_menu&quot; /&gt;</div><div class=\"line\"> &lt;/menu&gt;</div></pre></td></tr></table></figure>\n<p>这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。</p>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><blockquote>\n<p>viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击</p>\n</blockquote>\n","excerpt":"<h1 id=\"android-Material-Design-底部导航栏\"><a href=\"#android-Material-Design-底部导航栏\" class=\"headerlink\" title=\"android Material Design 底部导航栏\"></a>android Material Design 底部导航栏</h1><h2 id=\"实现效果\"><a href=\"#实现效果\" class=\"headerlink\" title=\"实现效果\"></a>实现效果</h2><p><img src=\"http://img.blog.csdn.net/20170208030222983?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br></p>","more":"<p></p>\n<h2 id=\"配置gradle依赖\"><a href=\"#配置gradle依赖\" class=\"headerlink\" title=\"配置gradle依赖\"></a>配置gradle依赖</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">compile &apos;com.android.support:appcompat-v7:25.1.0&apos;</div><div class=\"line\">//注意：V4包一定要加，material design是依赖V4包的</div><div class=\"line\">//不加，某些类可能报“ClassNotFoundException”</div><div class=\"line\">compile &apos;com.android.support:support-v4:25.1.0&apos;</div><div class=\"line\">compile &apos;com.android.support:design:25.1.0&apos;</div></pre></td></tr></table></figure>\n<h2 id=\"使用BottomNavigationView\"><a href=\"#使用BottomNavigationView\" class=\"headerlink\" title=\"使用BottomNavigationView\"></a>使用BottomNavigationView</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    android:id=&quot;@+id/activity_main&quot;</div><div class=\"line\">    android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">    android:layout_height=&quot;match_parent&quot;</div><div class=\"line\">    tools:context=&quot;com.kangda.app.MainActivity&quot;&gt;</div><div class=\"line\">    &lt;!--一定要加入V4包和Material Design包的依赖--&gt;</div><div class=\"line\">    &lt;!--itemIconTint设置图标的颜色--&gt;</div><div class=\"line\">    &lt;!--itemTextColor设置文本标题的颜色--&gt;</div><div class=\"line\">    &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">        android:id=&quot;@+id/nav_bottom&quot;</div><div class=\"line\">        android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">        android:layout_height=&quot;50dp&quot;</div><div class=\"line\">        android:layout_alignParentBottom=&quot;true&quot;</div><div class=\"line\">        app:itemIconTint=&quot;#767676&quot;</div><div class=\"line\">        app:itemTextColor=&quot;#767676&quot;</div><div class=\"line\">        app:menu=&quot;@menu/nav_bottom_item&quot;</div><div class=\"line\">        &gt; &lt;/android.support.design.widget.BottomNavigationView&gt;</div><div class=\"line\">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"res-menu-nav-bottom-item-xml\"><a href=\"#res-menu-nav-bottom-item-xml\" class=\"headerlink\" title=\"res/menu/nav_bottom_item.xml\"></a>res/menu/nav_bottom_item.xml</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</div><div class=\"line\">    &gt;</div><div class=\"line\">    &lt;!--showAsAction如果有剩余空间就显示出来，否则隐藏--&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_pk&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_pk&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_pk&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_home&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_home&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_home_press&quot; /&gt;</div><div class=\"line\">    &lt;item android:id=&quot;@+id/menu_mine&quot;</div><div class=\"line\">        android:enabled=&quot;true&quot;</div><div class=\"line\">        app:showAsAction=&quot;ifRoom&quot;</div><div class=\"line\">        android:title=&quot;@string/menu_title_mine&quot;</div><div class=\"line\">        android:icon=&quot;@mipmap/menu_mine&quot; /&gt;</div><div class=\"line\">&lt;/menu&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"src-MainActivity-java\"><a href=\"#src-MainActivity-java\" class=\"headerlink\" title=\"src/MainActivity.java\"></a>src/MainActivity.java</h2><p>@BindView这注解依赖ButterKnife，这个不必理会<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\">@BindView(R.id.nav_bottom)</div><div class=\"line\">    protected BottomNavigationView navBottom;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_main);</div><div class=\"line\">        ButterKnife.bind(this);</div><div class=\"line\">        navBottom.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onNavigationItemSelected(@NonNull MenuItem item) &#123;</div><div class=\"line\">                switch (item.getItemId())&#123;</div><div class=\"line\">                    case R.id.menu_pk:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;PK&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_home:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;主页&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case R.id.menu_mine:</div><div class=\"line\">                        Toast.makeText(MainActivity.this, &quot;我的&quot;, Toast.LENGTH_SHORT).show();</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"注意\"><a href=\"#注意\" class=\"headerlink\" title=\"注意\"></a>注意</h2><blockquote>\n<p>盲目照抄android官方文档带来的问题</p>\n<p>以下是官方文档抄过来的，有点问题<br>问题在这一句代码<br>xmlns:design=”<a href=\"http://schema.android.com/apk/res/android.support.design\">http://schema.android.com/apk/res/android.support.design</a>“<br>正确的代码是<br>xmlns:app=”<a href=\"http://schemas.android.com/apk/res-auto\">http://schemas.android.com/apk/res-auto</a>“</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">layout resource file:</div><div class=\"line\"> &lt;android.support.design.widget.BottomNavigationView</div><div class=\"line\">     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class=\"line\">     xmlns:design=&quot;http://schema.android.com/apk/res/android.support.design&quot;</div><div class=\"line\">     android:id=&quot;@+id/navigation&quot;</div><div class=\"line\">     android:layout_width=&quot;match_parent&quot;</div><div class=\"line\">     android:layout_height=&quot;56dp&quot;</div><div class=\"line\">     android:layout_gravity=&quot;start&quot;</div><div class=\"line\">     design:menu=&quot;@menu/my_navigation_items&quot; /&gt;</div><div class=\"line\"></div><div class=\"line\"> res/menu/my_navigation_items.xml:</div><div class=\"line\"> &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_search&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_search&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_search&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_settings&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_settings&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_add&quot; /&gt;</div><div class=\"line\">     &lt;item android:id=&quot;@+id/action_navigation&quot;</div><div class=\"line\">          android:title=&quot;@string/menu_navigation&quot;</div><div class=\"line\">          android:icon=&quot;@drawable/ic_action_navigation_menu&quot; /&gt;</div><div class=\"line\"> &lt;/menu&gt;</div></pre></td></tr></table></figure>\n<p>这个代码不会报错，但是XML布局预览无任何效果，暂时不知道是什么原因。</p>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><blockquote>\n<p>viewpager的滚动监听和bottomNavigationView有关系么，为什么没有viewpager的滚动监听会影响到bottomNavigationView，使bottomNavigationView只有点击事件，没有选中改变按钮颜色呢，难道是viewpager的滚动监听的配置增加了焦点，好像也不对，如果没有焦点，bottomNavigationView也就不能点击</p>\n</blockquote>"},{"title":"github博客没有category和tags？","date":"2017-01-27T17:37:23.000Z","_content":"摘要：\n\tgithub博客没有category和tags？\n<!--more-->\n# github博客没有category和tags？\n在完成了github博客之前后发现菜单栏没有category和tags？\n请按如下办法设置：\n\n```\n$ hexo new page \"categories\"\n$ hexo new page \"tages\"\n```\n![这里写图片描述](http://img.blog.csdn.net/20170128010203505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n分别打开对应文件夹里面的md文件，并编辑\n![这里写图片描述](http://img.blog.csdn.net/20170128010501819?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170128010511304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n最后要在主题中的_config.yml中修改menu\n![这里写图片描述](http://img.blog.csdn.net/20170128010757211?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/github博客没有category和tags？.md","raw":"---\ntitle: github博客没有category和tags？\ndate: 2017-01-28 01:37:23\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n摘要：\n\tgithub博客没有category和tags？\n<!--more-->\n# github博客没有category和tags？\n在完成了github博客之前后发现菜单栏没有category和tags？\n请按如下办法设置：\n\n```\n$ hexo new page \"categories\"\n$ hexo new page \"tages\"\n```\n![这里写图片描述](http://img.blog.csdn.net/20170128010203505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n分别打开对应文件夹里面的md文件，并编辑\n![这里写图片描述](http://img.blog.csdn.net/20170128010501819?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170128010511304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n最后要在主题中的_config.yml中修改menu\n![这里写图片描述](http://img.blog.csdn.net/20170128010757211?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"github博客没有category和tags？","published":1,"updated":"2017-05-02T05:47:09.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3akv000qa0us7ujlz0ot","content":"<p>摘要：<br>    github博客没有category和tags？<br><a id=\"more\"></a></p>\n<h1 id=\"github博客没有category和tags？\"><a href=\"#github博客没有category和tags？\" class=\"headerlink\" title=\"github博客没有category和tags？\"></a>github博客没有category和tags？</h1><p>在完成了github博客之前后发现菜单栏没有category和tags？<br>请按如下办法设置：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new page &quot;categories&quot;</div><div class=\"line\">$ hexo new page &quot;tages&quot;</div></pre></td></tr></table></figure>\n<p><img src=\"http://img.blog.csdn.net/20170128010203505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>分别打开对应文件夹里面的md文件，并编辑<br><img src=\"http://img.blog.csdn.net/20170128010501819?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170128010511304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>最后要在主题中的_config.yml中修改menu<br><img src=\"http://img.blog.csdn.net/20170128010757211?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n","excerpt":"<p>摘要：<br>    github博客没有category和tags？<br></p>","more":"<p></p>\n<h1 id=\"github博客没有category和tags？\"><a href=\"#github博客没有category和tags？\" class=\"headerlink\" title=\"github博客没有category和tags？\"></a>github博客没有category和tags？</h1><p>在完成了github博客之前后发现菜单栏没有category和tags？<br>请按如下办法设置：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new page &quot;categories&quot;</div><div class=\"line\">$ hexo new page &quot;tages&quot;</div></pre></td></tr></table></figure>\n<p><img src=\"http://img.blog.csdn.net/20170128010203505?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>分别打开对应文件夹里面的md文件，并编辑<br><img src=\"http://img.blog.csdn.net/20170128010501819?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170128010511304?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>最后要在主题中的_config.yml中修改menu<br><img src=\"http://img.blog.csdn.net/20170128010757211?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>"},{"title":"git之head detached from [xxx]","date":"2017-06-12T14:04:52.000Z","_content":"\n# 参考链接\n[《git detached from head》————夜空霓虹](http://blog.csdn.net/zhang_xiaomeng/article/details/52597076)  \n[《git checkout 命令详解》————胡涛儿](http://www.cnblogs.com/hutaoer/archive/2013/05/07/git_checkout.html?utm_source=tuicool&utm_medium=referral)  \n[《git问题记录--如何从从detached HEAD状态解救出来》————馒头MT](http://www.jianshu.com/p/ae4857d2f868)  \n[《git cherry-pick. 如何把已经提交的commit, 从一个分支放到另一个分支》————sg552](http://sg552.iteye.com/blog/1300713)\n# git之head detached from [xxx]\n## 头部从某提交分离？\n近期发现，android studio提交的时候提示`head detached from [xxx]`，不知道是什么意思，百度了之后大概了解了一下，就是不知道是不是之前操作什么，导致我的一次提交没提交到Head指向的分支，这是很危险，意味当前提交不属于任何分支。  \n<!-- more -->\n> `git checkout master`的时候，提示有5个提交没有链接任何一个分支，同时也给出了解决方式\n\n```\n$ git checkout master\nChecking out files: 100% (8624/8624), done.\nWarning: you are leaving 5 commits behind, not connected to\nany of your branches:\n\n  d232605 all\n  78c29d8 all\n  4eba374 DemoDataBindingLibrary-测试databinding框架\n  7c6d192 DemoDataBindingLibrary-测试databinding框架\n  15c2a61 EnglishApp-更换评价展示；修复成绩显示不正确的情况\n\nIf you want to keep them by creating a new branch, this may be a good time\nto do so with:\n\n git branch <new-branch-name> d232605\n\nSwitched to branch 'master'\nM       GeekNews\n\n```\n> `git log`查看当前分支历史提交记录，发现并没有那五个提交记录，显然脱离了master分支  \n\n![查看历史提交记录](git之head detached from [xxx]/2017-06-12_154037.png)\n\n## 通过合并分支来解决\n> 可以用以下方式来解决\n> 1. 创建一个临时分支，将detach出来的提交，合并到临时分支中\n> 2. 将临时分支merge到工作分支中。\n> 3. 删除临时分支\n\n### 创建临时分支\n> 注意此命令并未立即切换到临时分支\n```\ngit branch temp 15c2a61\n```\n![创建临时分支](git之head detached from [xxx]/2017-06-12_162203.png)  \n\n### 将其他detach的一起合并到temp\n```\ngit checkout temp #切换到temp分支\ngit cherry-pick [commitid]\n```\n> 所以合并期间可能会出现合并冲突（cherry-pick为优选的意思，意思是取一个最优的提交来合并，有时候懂英文理解得比较快）\n\n![cherry-pick合并冲突](git之head detached from [xxx]/2017-06-12_183817.png)  \n\n> 上面可以看到提示冲突后，会CHERRY-PICK模式，在这期间无法切换分支等其他操作。会提示某文件冲突，**我们可以打开对应文件，会发现会有以下符号\n```\n>>>>>>>> HEAD\n    HEAD指向的分支代码\n========\n    某提交的代码\n>>>>>>>> 某提交信息commit messages\n```\n> 箭头和等号是Git用来区别不同分支或者提交的不同内容，通常我们保留最新的分支修改就可以了。然后再通过以下代码完成合并\n\n```\ngit add 某文件路径\n\ngit commit -m \"提交信息\"\n\ngit cherry-pick [commitid] #再使用一次命令合并\n```\n\n> 多次使用`git cherry-pick [commitid]`将其他几个提交合并\n\n### 切换到master分支，将temp合并到master分支\n\n```\ngit checkout master\n\ngit merge temp #使用此命令可能也会有冲突\n```  \n\n![发生冲突](git之head detached from [xxx]/2017-06-12_181756.png)  \n\n> 发生冲突后，进入了MERGING模式，跟上面的方法一样进入对应文件修改,然后`git add ` 和`git commit`然后`git merge temp`，可以使用`git log`打印提交信息查看是否合并成功\n\n![修改文件内容，保存最新分支信息](git之head detached from [xxx]/2017-06-12_181946.png)  \n![两次提交我们的修改](git之head detached from [xxx]/2017-06-12_182814.png)  \n\n","source":"_posts/git之head-detached-from-xxx.md","raw":"---\ntitle: 'git之head detached from [xxx]'\ndate: 2017-06-12 22:04:52\ncategories:\n  - git\n  - git\ntags:\n  - git\n---\n\n# 参考链接\n[《git detached from head》————夜空霓虹](http://blog.csdn.net/zhang_xiaomeng/article/details/52597076)  \n[《git checkout 命令详解》————胡涛儿](http://www.cnblogs.com/hutaoer/archive/2013/05/07/git_checkout.html?utm_source=tuicool&utm_medium=referral)  \n[《git问题记录--如何从从detached HEAD状态解救出来》————馒头MT](http://www.jianshu.com/p/ae4857d2f868)  \n[《git cherry-pick. 如何把已经提交的commit, 从一个分支放到另一个分支》————sg552](http://sg552.iteye.com/blog/1300713)\n# git之head detached from [xxx]\n## 头部从某提交分离？\n近期发现，android studio提交的时候提示`head detached from [xxx]`，不知道是什么意思，百度了之后大概了解了一下，就是不知道是不是之前操作什么，导致我的一次提交没提交到Head指向的分支，这是很危险，意味当前提交不属于任何分支。  \n<!-- more -->\n> `git checkout master`的时候，提示有5个提交没有链接任何一个分支，同时也给出了解决方式\n\n```\n$ git checkout master\nChecking out files: 100% (8624/8624), done.\nWarning: you are leaving 5 commits behind, not connected to\nany of your branches:\n\n  d232605 all\n  78c29d8 all\n  4eba374 DemoDataBindingLibrary-测试databinding框架\n  7c6d192 DemoDataBindingLibrary-测试databinding框架\n  15c2a61 EnglishApp-更换评价展示；修复成绩显示不正确的情况\n\nIf you want to keep them by creating a new branch, this may be a good time\nto do so with:\n\n git branch <new-branch-name> d232605\n\nSwitched to branch 'master'\nM       GeekNews\n\n```\n> `git log`查看当前分支历史提交记录，发现并没有那五个提交记录，显然脱离了master分支  \n\n![查看历史提交记录](git之head detached from [xxx]/2017-06-12_154037.png)\n\n## 通过合并分支来解决\n> 可以用以下方式来解决\n> 1. 创建一个临时分支，将detach出来的提交，合并到临时分支中\n> 2. 将临时分支merge到工作分支中。\n> 3. 删除临时分支\n\n### 创建临时分支\n> 注意此命令并未立即切换到临时分支\n```\ngit branch temp 15c2a61\n```\n![创建临时分支](git之head detached from [xxx]/2017-06-12_162203.png)  \n\n### 将其他detach的一起合并到temp\n```\ngit checkout temp #切换到temp分支\ngit cherry-pick [commitid]\n```\n> 所以合并期间可能会出现合并冲突（cherry-pick为优选的意思，意思是取一个最优的提交来合并，有时候懂英文理解得比较快）\n\n![cherry-pick合并冲突](git之head detached from [xxx]/2017-06-12_183817.png)  \n\n> 上面可以看到提示冲突后，会CHERRY-PICK模式，在这期间无法切换分支等其他操作。会提示某文件冲突，**我们可以打开对应文件，会发现会有以下符号\n```\n>>>>>>>> HEAD\n    HEAD指向的分支代码\n========\n    某提交的代码\n>>>>>>>> 某提交信息commit messages\n```\n> 箭头和等号是Git用来区别不同分支或者提交的不同内容，通常我们保留最新的分支修改就可以了。然后再通过以下代码完成合并\n\n```\ngit add 某文件路径\n\ngit commit -m \"提交信息\"\n\ngit cherry-pick [commitid] #再使用一次命令合并\n```\n\n> 多次使用`git cherry-pick [commitid]`将其他几个提交合并\n\n### 切换到master分支，将temp合并到master分支\n\n```\ngit checkout master\n\ngit merge temp #使用此命令可能也会有冲突\n```  \n\n![发生冲突](git之head detached from [xxx]/2017-06-12_181756.png)  \n\n> 发生冲突后，进入了MERGING模式，跟上面的方法一样进入对应文件修改,然后`git add ` 和`git commit`然后`git merge temp`，可以使用`git log`打印提交信息查看是否合并成功\n\n![修改文件内容，保存最新分支信息](git之head detached from [xxx]/2017-06-12_181946.png)  \n![两次提交我们的修改](git之head detached from [xxx]/2017-06-12_182814.png)  \n\n","slug":"git之head-detached-from-xxx","published":1,"updated":"2017-06-12T14:29:15.268Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aky000sa0usbsy0bh73","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/zhang_xiaomeng/article/details/52597076\" target=\"_blank\" rel=\"external\">《git detached from head》————夜空霓虹</a><br><a href=\"http://www.cnblogs.com/hutaoer/archive/2013/05/07/git_checkout.html?utm_source=tuicool&amp;utm_medium=referral\" target=\"_blank\" rel=\"external\">《git checkout 命令详解》————胡涛儿</a><br><a href=\"http://www.jianshu.com/p/ae4857d2f868\" target=\"_blank\" rel=\"external\">《git问题记录–如何从从detached HEAD状态解救出来》————馒头MT</a><br><a href=\"http://sg552.iteye.com/blog/1300713\" target=\"_blank\" rel=\"external\">《git cherry-pick. 如何把已经提交的commit, 从一个分支放到另一个分支》————sg552</a></p>\n<h1 id=\"git之head-detached-from-xxx\"><a href=\"#git之head-detached-from-xxx\" class=\"headerlink\" title=\"git之head detached from [xxx]\"></a>git之head detached from [xxx]</h1><h2 id=\"头部从某提交分离？\"><a href=\"#头部从某提交分离？\" class=\"headerlink\" title=\"头部从某提交分离？\"></a>头部从某提交分离？</h2><p>近期发现，android studio提交的时候提示<code>head detached from [xxx]</code>，不知道是什么意思，百度了之后大概了解了一下，就是不知道是不是之前操作什么，导致我的一次提交没提交到Head指向的分支，这是很危险，意味当前提交不属于任何分支。<br><a id=\"more\"></a></p>\n<blockquote>\n<p><code>git checkout master</code>的时候，提示有5个提交没有链接任何一个分支，同时也给出了解决方式</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ git checkout master</div><div class=\"line\">Checking out files: 100% (8624/8624), done.</div><div class=\"line\">Warning: you are leaving 5 commits behind, not connected to</div><div class=\"line\">any of your branches:</div><div class=\"line\"></div><div class=\"line\">  d232605 all</div><div class=\"line\">  78c29d8 all</div><div class=\"line\">  4eba374 DemoDataBindingLibrary-测试databinding框架</div><div class=\"line\">  7c6d192 DemoDataBindingLibrary-测试databinding框架</div><div class=\"line\">  15c2a61 EnglishApp-更换评价展示；修复成绩显示不正确的情况</div><div class=\"line\"></div><div class=\"line\">If you want to keep them by creating a new branch, this may be a good time</div><div class=\"line\">to do so with:</div><div class=\"line\"></div><div class=\"line\"> git branch &lt;new-branch-name&gt; d232605</div><div class=\"line\"></div><div class=\"line\">Switched to branch &apos;master&apos;</div><div class=\"line\">M       GeekNews</div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>git log</code>查看当前分支历史提交记录，发现并没有那五个提交记录，显然脱离了master分支  </p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_154037.png\" alt=\"查看历史提交记录\"></p>\n<h2 id=\"通过合并分支来解决\"><a href=\"#通过合并分支来解决\" class=\"headerlink\" title=\"通过合并分支来解决\"></a>通过合并分支来解决</h2><blockquote>\n<p>可以用以下方式来解决</p>\n<ol>\n<li>创建一个临时分支，将detach出来的提交，合并到临时分支中</li>\n<li>将临时分支merge到工作分支中。</li>\n<li>删除临时分支</li>\n</ol>\n</blockquote>\n<h3 id=\"创建临时分支\"><a href=\"#创建临时分支\" class=\"headerlink\" title=\"创建临时分支\"></a>创建临时分支</h3><blockquote>\n<p>注意此命令并未立即切换到临时分支<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch temp 15c2a61</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_162203.png\" alt=\"创建临时分支\">  </p>\n<h3 id=\"将其他detach的一起合并到temp\"><a href=\"#将其他detach的一起合并到temp\" class=\"headerlink\" title=\"将其他detach的一起合并到temp\"></a>将其他detach的一起合并到temp</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout temp #切换到temp分支</div><div class=\"line\">git cherry-pick [commitid]</div></pre></td></tr></table></figure>\n<blockquote>\n<p>所以合并期间可能会出现合并冲突（cherry-pick为优选的意思，意思是取一个最优的提交来合并，有时候懂英文理解得比较快）</p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_183817.png\" alt=\"cherry-pick合并冲突\">  </p>\n<blockquote>\n<p>上面可以看到提示冲突后，会CHERRY-PICK模式，在这期间无法切换分支等其他操作。会提示某文件冲突，**我们可以打开对应文件，会发现会有以下符号<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; HEAD</div><div class=\"line\">    HEAD指向的分支代码</div><div class=\"line\">========</div><div class=\"line\">    某提交的代码</div><div class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 某提交信息commit messages</div></pre></td></tr></table></figure></p>\n<p>箭头和等号是Git用来区别不同分支或者提交的不同内容，通常我们保留最新的分支修改就可以了。然后再通过以下代码完成合并</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git add 某文件路径</div><div class=\"line\"></div><div class=\"line\">git commit -m &quot;提交信息&quot;</div><div class=\"line\"></div><div class=\"line\">git cherry-pick [commitid] #再使用一次命令合并</div></pre></td></tr></table></figure>\n<blockquote>\n<p>多次使用<code>git cherry-pick [commitid]</code>将其他几个提交合并</p>\n</blockquote>\n<h3 id=\"切换到master分支，将temp合并到master分支\"><a href=\"#切换到master分支，将temp合并到master分支\" class=\"headerlink\" title=\"切换到master分支，将temp合并到master分支\"></a>切换到master分支，将temp合并到master分支</h3><pre><code>git checkout master\n\ngit merge temp #使用此命令可能也会有冲突\n</code></pre><p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_181756.png\" alt=\"发生冲突\">  </p>\n<blockquote>\n<p>发生冲突后，进入了MERGING模式，跟上面的方法一样进入对应文件修改,然后<code>git add</code> 和<code>git commit</code>然后<code>git merge temp</code>，可以使用<code>git log</code>打印提交信息查看是否合并成功</p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_181946.png\" alt=\"修改文件内容，保存最新分支信息\"><br><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_182814.png\" alt=\"两次提交我们的修改\">  </p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/zhang_xiaomeng/article/details/52597076\">《git detached from head》————夜空霓虹</a><br><a href=\"http://www.cnblogs.com/hutaoer/archive/2013/05/07/git_checkout.html?utm_source=tuicool&amp;utm_medium=referral\">《git checkout 命令详解》————胡涛儿</a><br><a href=\"http://www.jianshu.com/p/ae4857d2f868\">《git问题记录–如何从从detached HEAD状态解救出来》————馒头MT</a><br><a href=\"http://sg552.iteye.com/blog/1300713\">《git cherry-pick. 如何把已经提交的commit, 从一个分支放到另一个分支》————sg552</a></p>\n<h1 id=\"git之head-detached-from-xxx\"><a href=\"#git之head-detached-from-xxx\" class=\"headerlink\" title=\"git之head detached from [xxx]\"></a>git之head detached from [xxx]</h1><h2 id=\"头部从某提交分离？\"><a href=\"#头部从某提交分离？\" class=\"headerlink\" title=\"头部从某提交分离？\"></a>头部从某提交分离？</h2><p>近期发现，android studio提交的时候提示<code>head detached from [xxx]</code>，不知道是什么意思，百度了之后大概了解了一下，就是不知道是不是之前操作什么，导致我的一次提交没提交到Head指向的分支，这是很危险，意味当前提交不属于任何分支。<br></p>","more":"<p></p>\n<blockquote>\n<p><code>git checkout master</code>的时候，提示有5个提交没有链接任何一个分支，同时也给出了解决方式</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ git checkout master</div><div class=\"line\">Checking out files: 100% (8624/8624), done.</div><div class=\"line\">Warning: you are leaving 5 commits behind, not connected to</div><div class=\"line\">any of your branches:</div><div class=\"line\"></div><div class=\"line\">  d232605 all</div><div class=\"line\">  78c29d8 all</div><div class=\"line\">  4eba374 DemoDataBindingLibrary-测试databinding框架</div><div class=\"line\">  7c6d192 DemoDataBindingLibrary-测试databinding框架</div><div class=\"line\">  15c2a61 EnglishApp-更换评价展示；修复成绩显示不正确的情况</div><div class=\"line\"></div><div class=\"line\">If you want to keep them by creating a new branch, this may be a good time</div><div class=\"line\">to do so with:</div><div class=\"line\"></div><div class=\"line\"> git branch &lt;new-branch-name&gt; d232605</div><div class=\"line\"></div><div class=\"line\">Switched to branch &apos;master&apos;</div><div class=\"line\">M       GeekNews</div></pre></td></tr></table></figure>\n<blockquote>\n<p><code>git log</code>查看当前分支历史提交记录，发现并没有那五个提交记录，显然脱离了master分支  </p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_154037.png\" alt=\"查看历史提交记录\"></p>\n<h2 id=\"通过合并分支来解决\"><a href=\"#通过合并分支来解决\" class=\"headerlink\" title=\"通过合并分支来解决\"></a>通过合并分支来解决</h2><blockquote>\n<p>可以用以下方式来解决</p>\n<ol>\n<li>创建一个临时分支，将detach出来的提交，合并到临时分支中</li>\n<li>将临时分支merge到工作分支中。</li>\n<li>删除临时分支</li>\n</ol>\n</blockquote>\n<h3 id=\"创建临时分支\"><a href=\"#创建临时分支\" class=\"headerlink\" title=\"创建临时分支\"></a>创建临时分支</h3><blockquote>\n<p>注意此命令并未立即切换到临时分支<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch temp 15c2a61</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_162203.png\" alt=\"创建临时分支\">  </p>\n<h3 id=\"将其他detach的一起合并到temp\"><a href=\"#将其他detach的一起合并到temp\" class=\"headerlink\" title=\"将其他detach的一起合并到temp\"></a>将其他detach的一起合并到temp</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout temp #切换到temp分支</div><div class=\"line\">git cherry-pick [commitid]</div></pre></td></tr></table></figure>\n<blockquote>\n<p>所以合并期间可能会出现合并冲突（cherry-pick为优选的意思，意思是取一个最优的提交来合并，有时候懂英文理解得比较快）</p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_183817.png\" alt=\"cherry-pick合并冲突\">  </p>\n<blockquote>\n<p>上面可以看到提示冲突后，会CHERRY-PICK模式，在这期间无法切换分支等其他操作。会提示某文件冲突，**我们可以打开对应文件，会发现会有以下符号<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; HEAD</div><div class=\"line\">    HEAD指向的分支代码</div><div class=\"line\">========</div><div class=\"line\">    某提交的代码</div><div class=\"line\">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 某提交信息commit messages</div></pre></td></tr></table></figure></p>\n<p>箭头和等号是Git用来区别不同分支或者提交的不同内容，通常我们保留最新的分支修改就可以了。然后再通过以下代码完成合并</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git add 某文件路径</div><div class=\"line\"></div><div class=\"line\">git commit -m &quot;提交信息&quot;</div><div class=\"line\"></div><div class=\"line\">git cherry-pick [commitid] #再使用一次命令合并</div></pre></td></tr></table></figure>\n<blockquote>\n<p>多次使用<code>git cherry-pick [commitid]</code>将其他几个提交合并</p>\n</blockquote>\n<h3 id=\"切换到master分支，将temp合并到master分支\"><a href=\"#切换到master分支，将temp合并到master分支\" class=\"headerlink\" title=\"切换到master分支，将temp合并到master分支\"></a>切换到master分支，将temp合并到master分支</h3><pre><code>git checkout master\n\ngit merge temp #使用此命令可能也会有冲突\n</code></pre><p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_181756.png\" alt=\"发生冲突\">  </p>\n<blockquote>\n<p>发生冲突后，进入了MERGING模式，跟上面的方法一样进入对应文件修改,然后<code>git add</code> 和<code>git commit</code>然后<code>git merge temp</code>，可以使用<code>git log</code>打印提交信息查看是否合并成功</p>\n</blockquote>\n<p><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_181946.png\" alt=\"修改文件内容，保存最新分支信息\"><br><img src=\"/2017/06/12/git之head-detached-from-xxx/2017-06-12_182814.png\" alt=\"两次提交我们的修改\">  </p>"},{"title":"github博客如何增加评论？","date":"2017-01-27T17:39:34.000Z","_content":"摘要：\n\tgithub博客如何增加评论？\n<!--more-->\n# github博客如何增加评论？\n## 1注册多说评论\n![这里写图片描述](http://img.blog.csdn.net/20170128011646246?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n点击我要安装\n![这里写图片描述](http://img.blog.csdn.net/20170128011656497?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n创建站点\n![这里写图片描述](http://img.blog.csdn.net/20170128011705809?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 编辑主题配置文件theme/_config.yml\n![这里写图片描述](http://img.blog.csdn.net/20170128012414468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170128012423405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 编辑评论布局\n在下themes\\next\\layout\\_partials\nnext是你的主题的文件夹\n![这里写图片描述](http://img.blog.csdn.net/20170128012744426?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 成效\n文章下面会有对应布局\n![这里写图片描述](http://img.blog.csdn.net/20170128012825271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/github博客如何增加评论？.md","raw":"---\ntitle: github博客如何增加评论？\ndate: 2017-01-28 01:39:34\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n摘要：\n\tgithub博客如何增加评论？\n<!--more-->\n# github博客如何增加评论？\n## 1注册多说评论\n![这里写图片描述](http://img.blog.csdn.net/20170128011646246?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n点击我要安装\n![这里写图片描述](http://img.blog.csdn.net/20170128011656497?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n创建站点\n![这里写图片描述](http://img.blog.csdn.net/20170128011705809?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 编辑主题配置文件theme/_config.yml\n![这里写图片描述](http://img.blog.csdn.net/20170128012414468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170128012423405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 编辑评论布局\n在下themes\\next\\layout\\_partials\nnext是你的主题的文件夹\n![这里写图片描述](http://img.blog.csdn.net/20170128012744426?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 成效\n文章下面会有对应布局\n![这里写图片描述](http://img.blog.csdn.net/20170128012825271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"github博客如何增加评论？","published":1,"updated":"2017-05-02T05:47:18.132Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3al4000wa0uskfrpfiph","content":"<p>摘要：<br>    github博客如何增加评论？<br><a id=\"more\"></a></p>\n<h1 id=\"github博客如何增加评论？\"><a href=\"#github博客如何增加评论？\" class=\"headerlink\" title=\"github博客如何增加评论？\"></a>github博客如何增加评论？</h1><h2 id=\"1注册多说评论\"><a href=\"#1注册多说评论\" class=\"headerlink\" title=\"1注册多说评论\"></a>1注册多说评论</h2><p><img src=\"http://img.blog.csdn.net/20170128011646246?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>点击我要安装<br><img src=\"http://img.blog.csdn.net/20170128011656497?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>创建站点<br><img src=\"http://img.blog.csdn.net/20170128011705809?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"编辑主题配置文件theme-config-yml\"><a href=\"#编辑主题配置文件theme-config-yml\" class=\"headerlink\" title=\"编辑主题配置文件theme/_config.yml\"></a>编辑主题配置文件theme/_config.yml</h2><p><img src=\"http://img.blog.csdn.net/20170128012414468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170128012423405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"编辑评论布局\"><a href=\"#编辑评论布局\" class=\"headerlink\" title=\"编辑评论布局\"></a>编辑评论布局</h2><p>在下themes\\next\\layout_partials<br>next是你的主题的文件夹<br><img src=\"http://img.blog.csdn.net/20170128012744426?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"成效\"><a href=\"#成效\" class=\"headerlink\" title=\"成效\"></a>成效</h2><p>文章下面会有对应布局<br><img src=\"http://img.blog.csdn.net/20170128012825271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n","excerpt":"<p>摘要：<br>    github博客如何增加评论？<br></p>","more":"<p></p>\n<h1 id=\"github博客如何增加评论？\"><a href=\"#github博客如何增加评论？\" class=\"headerlink\" title=\"github博客如何增加评论？\"></a>github博客如何增加评论？</h1><h2 id=\"1注册多说评论\"><a href=\"#1注册多说评论\" class=\"headerlink\" title=\"1注册多说评论\"></a>1注册多说评论</h2><p><img src=\"http://img.blog.csdn.net/20170128011646246?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>点击我要安装<br><img src=\"http://img.blog.csdn.net/20170128011656497?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>创建站点<br><img src=\"http://img.blog.csdn.net/20170128011705809?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"编辑主题配置文件theme-config-yml\"><a href=\"#编辑主题配置文件theme-config-yml\" class=\"headerlink\" title=\"编辑主题配置文件theme/_config.yml\"></a>编辑主题配置文件theme/_config.yml</h2><p><img src=\"http://img.blog.csdn.net/20170128012414468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170128012423405?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"编辑评论布局\"><a href=\"#编辑评论布局\" class=\"headerlink\" title=\"编辑评论布局\"></a>编辑评论布局</h2><p>在下themes\\next\\layout_partials<br>next是你的主题的文件夹<br><img src=\"http://img.blog.csdn.net/20170128012744426?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"成效\"><a href=\"#成效\" class=\"headerlink\" title=\"成效\"></a>成效</h2><p>文章下面会有对应布局<br><img src=\"http://img.blog.csdn.net/20170128012825271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>"},{"title":"broadcast与broadcast receiver","date":"2017-04-08T14:57:07.000Z","_content":"# broadcast与broadcast receiver\n我们需要注意，广播与广播接收者的区别\n## 广播接收者的注册\n一般面试官会问，广播的注册方式有几种，最好能解释一下，广播注册指的是广播接收者的注册。\n\n### 静态注册\n**也就是在AndroidManifests.xml中进行注册**\n```\n<receiver android:name=\".MyReceiver\">\n    <intent-filter android:priority=\"20\">\n        <action android:name=\"org.crazyit.action.CRAZY_BROADCAST\"/>\n    </intent-filter>\n</receiver>\n```\n这种方法的优点，在于**应用退出后也能接收广播**\n### 动态注册  \n动态注册是在程序运行中注册，**只能在应用运行时进行广播接收。**\n\n>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter)  注册广播接收者\n\n>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter,  String broadcastPermission,  Handler scheduler)  \nbroadcastPermission：命名一个权限，使广播必须持有这个权限，才能被这个Receiver接收  \nscheduler：handler识别线程将接收intent，如果为空，则将在main thread中接收intent\n\n>unregisterReceiver(BroadcastReceiver)取消广播接收者\n\n<!--more-->\n## 普通广播和有序广播  \n>Context.sendBroadcast(Intent)：发送普通广播  \n\n>Context.sendOrderedBroadcast(Intent):发送有序广播  \n\n### 普通广播(Normal Broadcast)\n普通广播是完全异步的，它可以在同一时刻被所有接收者接收到，但是缺点是无法将处理结果传递给下一个接收者，并且无法中断broadcast的传播。  \n\n### 有序广播(Ordered Broadcast)\n有序广播，故名思意，就是有顺序的广播，Ordered Broadcast的接收者将**按预先声明的优先级依次接收Broadcast**。比如，A>B>C，Broadcast会优先传给A，再到B，最后到C。优先级别可以使用`android:priority=\"\"`申明在AndroidManifests.xml中，`优先级在-1000~1000之间，`例：  \n```\n<receiver android:name=\".MyReceiver\">\n    <intent-filter android:priority=\"20\">\n        <action android:name=\"org.crazyit.action.CRAZY_BROADCAST\"/>\n    </intent-filter>\n</receiver>\n```\n也可以在src中调用`IntentFilter.setPriority()`设置优先级别。  \n**Ordered Broadcast的高优先级别的Receiver，可以将处理结果传递给一位Receiver，或者可以中止Broadcast的传播。** \n>BroadcastReceiver.abortBroadcast()中止广播  \n\n>BroadcastReceiver.setResultExtras(Bundle)：将处理结果存入Broadcast，然后传递给下一个Receiver\n\n>Bundle bundle=getResultExtras(true)可以获取上一个Receiver存入的数据\n\n## 疑问\n### Receiver的onReceive()是在子线程中吗？\nonReceive()是主线程中运行的,最大支持耗时是10秒，超过可能会触发ANR，在onReceive()中添加了睡眠方法，然后用另一个按钮触发事件，可以看出，onReceive()方法执行完成后才触发了另一个按钮的事件。  \n![发送广播后测试是否在主线程](broadcast与broadcast receiver/01.gif)  \n虽然也有可能是线程锁的，但是打印结果是在同一线程内\n```\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前进程名com.app.demobroadcast\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前线程名main\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前进程名com.app.demobroadcast\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前线程名main\n```\n### Broadcast是同步的？\nBroadcast是完全异步的，要区别Broadcast与BroadcastReceiver，Broadcast的发送过程是异步，BroadcastReceiver是接收Broadcast的是同步执行的，在main线程中。\n### Broadcast是启动activity？\n如果你直接使用以下代码肯定会报错\n```\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent i=new Intent(context,MainActivity.class);\n        context.startActivity(i);\n    }\n```\n\n```\n E/AndroidRuntime: FATAL EXCEPTION: main\n     java.lang.RuntimeException: Unable to start receiver com.app.demobroadcast.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n         \n         ···········\n         \n      Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n         \n         ···········\n\n```\n\n报错原因是Activity是存储在Task中的，应用启动的时候会创建一个Task存储MainActivity，在MainActivity启动一个Activity时，Activity会依附于MainActivity的Task中，但是在BroadcastReceiver中context不是MainActivity，所以无法获取一个Task，解决方法是使用FLAG_ACTIVITY_NEW_TASK，这属于Activity的启动模式范畴，之前写过《[理解Android Activity运行模式](https://zengmianhui.github.io/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/)》。\n\n\n```\nIntent i=new Intent(context,MainActivity.class);\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(i);\n```\n\n","source":"_posts/broadcast与broadcast-receiver.md","raw":"---\ntitle: broadcast与broadcast receiver\ndate: 2017-04-08 22:57:07\ncategories:\n  - android\n  - 四大组件\n  - broadcast\ntags:\n  - android\n  - android broadcast\n---\n# broadcast与broadcast receiver\n我们需要注意，广播与广播接收者的区别\n## 广播接收者的注册\n一般面试官会问，广播的注册方式有几种，最好能解释一下，广播注册指的是广播接收者的注册。\n\n### 静态注册\n**也就是在AndroidManifests.xml中进行注册**\n```\n<receiver android:name=\".MyReceiver\">\n    <intent-filter android:priority=\"20\">\n        <action android:name=\"org.crazyit.action.CRAZY_BROADCAST\"/>\n    </intent-filter>\n</receiver>\n```\n这种方法的优点，在于**应用退出后也能接收广播**\n### 动态注册  \n动态注册是在程序运行中注册，**只能在应用运行时进行广播接收。**\n\n>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter)  注册广播接收者\n\n>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter,  String broadcastPermission,  Handler scheduler)  \nbroadcastPermission：命名一个权限，使广播必须持有这个权限，才能被这个Receiver接收  \nscheduler：handler识别线程将接收intent，如果为空，则将在main thread中接收intent\n\n>unregisterReceiver(BroadcastReceiver)取消广播接收者\n\n<!--more-->\n## 普通广播和有序广播  \n>Context.sendBroadcast(Intent)：发送普通广播  \n\n>Context.sendOrderedBroadcast(Intent):发送有序广播  \n\n### 普通广播(Normal Broadcast)\n普通广播是完全异步的，它可以在同一时刻被所有接收者接收到，但是缺点是无法将处理结果传递给下一个接收者，并且无法中断broadcast的传播。  \n\n### 有序广播(Ordered Broadcast)\n有序广播，故名思意，就是有顺序的广播，Ordered Broadcast的接收者将**按预先声明的优先级依次接收Broadcast**。比如，A>B>C，Broadcast会优先传给A，再到B，最后到C。优先级别可以使用`android:priority=\"\"`申明在AndroidManifests.xml中，`优先级在-1000~1000之间，`例：  \n```\n<receiver android:name=\".MyReceiver\">\n    <intent-filter android:priority=\"20\">\n        <action android:name=\"org.crazyit.action.CRAZY_BROADCAST\"/>\n    </intent-filter>\n</receiver>\n```\n也可以在src中调用`IntentFilter.setPriority()`设置优先级别。  \n**Ordered Broadcast的高优先级别的Receiver，可以将处理结果传递给一位Receiver，或者可以中止Broadcast的传播。** \n>BroadcastReceiver.abortBroadcast()中止广播  \n\n>BroadcastReceiver.setResultExtras(Bundle)：将处理结果存入Broadcast，然后传递给下一个Receiver\n\n>Bundle bundle=getResultExtras(true)可以获取上一个Receiver存入的数据\n\n## 疑问\n### Receiver的onReceive()是在子线程中吗？\nonReceive()是主线程中运行的,最大支持耗时是10秒，超过可能会触发ANR，在onReceive()中添加了睡眠方法，然后用另一个按钮触发事件，可以看出，onReceive()方法执行完成后才触发了另一个按钮的事件。  \n![发送广播后测试是否在主线程](broadcast与broadcast receiver/01.gif)  \n虽然也有可能是线程锁的，但是打印结果是在同一线程内\n```\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前进程名com.app.demobroadcast\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前线程名main\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前进程名com.app.demobroadcast\n04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前线程名main\n```\n### Broadcast是同步的？\nBroadcast是完全异步的，要区别Broadcast与BroadcastReceiver，Broadcast的发送过程是异步，BroadcastReceiver是接收Broadcast的是同步执行的，在main线程中。\n### Broadcast是启动activity？\n如果你直接使用以下代码肯定会报错\n```\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent i=new Intent(context,MainActivity.class);\n        context.startActivity(i);\n    }\n```\n\n```\n E/AndroidRuntime: FATAL EXCEPTION: main\n     java.lang.RuntimeException: Unable to start receiver com.app.demobroadcast.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n         \n         ···········\n         \n      Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?\n         \n         ···········\n\n```\n\n报错原因是Activity是存储在Task中的，应用启动的时候会创建一个Task存储MainActivity，在MainActivity启动一个Activity时，Activity会依附于MainActivity的Task中，但是在BroadcastReceiver中context不是MainActivity，所以无法获取一个Task，解决方法是使用FLAG_ACTIVITY_NEW_TASK，这属于Activity的启动模式范畴，之前写过《[理解Android Activity运行模式](https://zengmianhui.github.io/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/)》。\n\n\n```\nIntent i=new Intent(context,MainActivity.class);\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(i);\n```\n\n","slug":"broadcast与broadcast-receiver","published":1,"updated":"2017-04-18T13:37:33.369Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3al7000xa0uswsh34ay0","content":"<h1 id=\"broadcast与broadcast-receiver\"><a href=\"#broadcast与broadcast-receiver\" class=\"headerlink\" title=\"broadcast与broadcast receiver\"></a>broadcast与broadcast receiver</h1><p>我们需要注意，广播与广播接收者的区别</p>\n<h2 id=\"广播接收者的注册\"><a href=\"#广播接收者的注册\" class=\"headerlink\" title=\"广播接收者的注册\"></a>广播接收者的注册</h2><p>一般面试官会问，广播的注册方式有几种，最好能解释一下，广播注册指的是广播接收者的注册。</p>\n<h3 id=\"静态注册\"><a href=\"#静态注册\" class=\"headerlink\" title=\"静态注册\"></a>静态注册</h3><p><strong>也就是在AndroidManifests.xml中进行注册</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyReceiver&quot;&gt;</div><div class=\"line\">    &lt;intent-filter android:priority=&quot;20&quot;&gt;</div><div class=\"line\">        &lt;action android:name=&quot;org.crazyit.action.CRAZY_BROADCAST&quot;/&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>这种方法的优点，在于<strong>应用退出后也能接收广播</strong></p>\n<h3 id=\"动态注册\"><a href=\"#动态注册\" class=\"headerlink\" title=\"动态注册\"></a>动态注册</h3><p>动态注册是在程序运行中注册，<strong>只能在应用运行时进行广播接收。</strong></p>\n<blockquote>\n<p>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter)  注册广播接收者</p>\n<p>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter,  String broadcastPermission,  Handler scheduler)<br>broadcastPermission：命名一个权限，使广播必须持有这个权限，才能被这个Receiver接收<br>scheduler：handler识别线程将接收intent，如果为空，则将在main thread中接收intent</p>\n<p>unregisterReceiver(BroadcastReceiver)取消广播接收者</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"普通广播和有序广播\"><a href=\"#普通广播和有序广播\" class=\"headerlink\" title=\"普通广播和有序广播\"></a>普通广播和有序广播</h2><blockquote>\n<p>Context.sendBroadcast(Intent)：发送普通广播  </p>\n<p>Context.sendOrderedBroadcast(Intent):发送有序广播  </p>\n</blockquote>\n<h3 id=\"普通广播-Normal-Broadcast\"><a href=\"#普通广播-Normal-Broadcast\" class=\"headerlink\" title=\"普通广播(Normal Broadcast)\"></a>普通广播(Normal Broadcast)</h3><p>普通广播是完全异步的，它可以在同一时刻被所有接收者接收到，但是缺点是无法将处理结果传递给下一个接收者，并且无法中断broadcast的传播。  </p>\n<h3 id=\"有序广播-Ordered-Broadcast\"><a href=\"#有序广播-Ordered-Broadcast\" class=\"headerlink\" title=\"有序广播(Ordered Broadcast)\"></a>有序广播(Ordered Broadcast)</h3><p>有序广播，故名思意，就是有顺序的广播，Ordered Broadcast的接收者将<strong>按预先声明的优先级依次接收Broadcast</strong>。比如，A&gt;B&gt;C，Broadcast会优先传给A，再到B，最后到C。优先级别可以使用<code>android:priority=&quot;&quot;</code>申明在AndroidManifests.xml中，<code>优先级在-1000~1000之间，</code>例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyReceiver&quot;&gt;</div><div class=\"line\">    &lt;intent-filter android:priority=&quot;20&quot;&gt;</div><div class=\"line\">        &lt;action android:name=&quot;org.crazyit.action.CRAZY_BROADCAST&quot;/&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>也可以在src中调用<code>IntentFilter.setPriority()</code>设置优先级别。<br><strong>Ordered Broadcast的高优先级别的Receiver，可以将处理结果传递给一位Receiver，或者可以中止Broadcast的传播。</strong> </p>\n<blockquote>\n<p>BroadcastReceiver.abortBroadcast()中止广播  </p>\n<p>BroadcastReceiver.setResultExtras(Bundle)：将处理结果存入Broadcast，然后传递给下一个Receiver</p>\n<p>Bundle bundle=getResultExtras(true)可以获取上一个Receiver存入的数据</p>\n</blockquote>\n<h2 id=\"疑问\"><a href=\"#疑问\" class=\"headerlink\" title=\"疑问\"></a>疑问</h2><h3 id=\"Receiver的onReceive-是在子线程中吗？\"><a href=\"#Receiver的onReceive-是在子线程中吗？\" class=\"headerlink\" title=\"Receiver的onReceive()是在子线程中吗？\"></a>Receiver的onReceive()是在子线程中吗？</h3><p>onReceive()是主线程中运行的,最大支持耗时是10秒，超过可能会触发ANR，在onReceive()中添加了睡眠方法，然后用另一个按钮触发事件，可以看出，onReceive()方法执行完成后才触发了另一个按钮的事件。<br><img src=\"/2017/04/08/broadcast与broadcast-receiver/01.gif\" alt=\"发送广播后测试是否在主线程\"><br>虽然也有可能是线程锁的，但是打印结果是在同一线程内<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前进程名com.app.demobroadcast</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前线程名main</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前进程名com.app.demobroadcast</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前线程名main</div></pre></td></tr></table></figure></p>\n<h3 id=\"Broadcast是同步的？\"><a href=\"#Broadcast是同步的？\" class=\"headerlink\" title=\"Broadcast是同步的？\"></a>Broadcast是同步的？</h3><p>Broadcast是完全异步的，要区别Broadcast与BroadcastReceiver，Broadcast的发送过程是异步，BroadcastReceiver是接收Broadcast的是同步执行的，在main线程中。</p>\n<h3 id=\"Broadcast是启动activity？\"><a href=\"#Broadcast是启动activity？\" class=\"headerlink\" title=\"Broadcast是启动activity？\"></a>Broadcast是启动activity？</h3><p>如果你直接使用以下代码肯定会报错<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onReceive(Context context, Intent intent) &#123;</div><div class=\"line\">    Intent i=new Intent(context,MainActivity.class);</div><div class=\"line\">    context.startActivity(i);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">E/AndroidRuntime: FATAL EXCEPTION: main</div><div class=\"line\">    java.lang.RuntimeException: Unable to start receiver com.app.demobroadcast.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</div><div class=\"line\">        </div><div class=\"line\">        ···········</div><div class=\"line\">        </div><div class=\"line\">     Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</div><div class=\"line\">        </div><div class=\"line\">        ···········</div></pre></td></tr></table></figure>\n<p>报错原因是Activity是存储在Task中的，应用启动的时候会创建一个Task存储MainActivity，在MainActivity启动一个Activity时，Activity会依附于MainActivity的Task中，但是在BroadcastReceiver中context不是MainActivity，所以无法获取一个Task，解决方法是使用FLAG_ACTIVITY_NEW_TASK，这属于Activity的启动模式范畴，之前写过《<a href=\"https://zengmianhui.github.io/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/\" target=\"_blank\" rel=\"external\">理解Android Activity运行模式</a>》。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Intent i=new Intent(context,MainActivity.class);</div><div class=\"line\">        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class=\"line\">        context.startActivity(i);</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"broadcast与broadcast-receiver\"><a href=\"#broadcast与broadcast-receiver\" class=\"headerlink\" title=\"broadcast与broadcast receiver\"></a>broadcast与broadcast receiver</h1><p>我们需要注意，广播与广播接收者的区别</p>\n<h2 id=\"广播接收者的注册\"><a href=\"#广播接收者的注册\" class=\"headerlink\" title=\"广播接收者的注册\"></a>广播接收者的注册</h2><p>一般面试官会问，广播的注册方式有几种，最好能解释一下，广播注册指的是广播接收者的注册。</p>\n<h3 id=\"静态注册\"><a href=\"#静态注册\" class=\"headerlink\" title=\"静态注册\"></a>静态注册</h3><p><strong>也就是在AndroidManifests.xml中进行注册</strong><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyReceiver&quot;&gt;</div><div class=\"line\">    &lt;intent-filter android:priority=&quot;20&quot;&gt;</div><div class=\"line\">        &lt;action android:name=&quot;org.crazyit.action.CRAZY_BROADCAST&quot;/&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>这种方法的优点，在于<strong>应用退出后也能接收广播</strong></p>\n<h3 id=\"动态注册\"><a href=\"#动态注册\" class=\"headerlink\" title=\"动态注册\"></a>动态注册</h3><p>动态注册是在程序运行中注册，<strong>只能在应用运行时进行广播接收。</strong></p>\n<blockquote>\n<p>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter)  注册广播接收者</p>\n<p>Intent registerReceiver (BroadcastReceiver receiver, IntentFilter filter,  String broadcastPermission,  Handler scheduler)<br>broadcastPermission：命名一个权限，使广播必须持有这个权限，才能被这个Receiver接收<br>scheduler：handler识别线程将接收intent，如果为空，则将在main thread中接收intent</p>\n<p>unregisterReceiver(BroadcastReceiver)取消广播接收者</p>\n</blockquote>","more":"<h2 id=\"普通广播和有序广播\"><a href=\"#普通广播和有序广播\" class=\"headerlink\" title=\"普通广播和有序广播\"></a>普通广播和有序广播</h2><blockquote>\n<p>Context.sendBroadcast(Intent)：发送普通广播  </p>\n<p>Context.sendOrderedBroadcast(Intent):发送有序广播  </p>\n</blockquote>\n<h3 id=\"普通广播-Normal-Broadcast\"><a href=\"#普通广播-Normal-Broadcast\" class=\"headerlink\" title=\"普通广播(Normal Broadcast)\"></a>普通广播(Normal Broadcast)</h3><p>普通广播是完全异步的，它可以在同一时刻被所有接收者接收到，但是缺点是无法将处理结果传递给下一个接收者，并且无法中断broadcast的传播。  </p>\n<h3 id=\"有序广播-Ordered-Broadcast\"><a href=\"#有序广播-Ordered-Broadcast\" class=\"headerlink\" title=\"有序广播(Ordered Broadcast)\"></a>有序广播(Ordered Broadcast)</h3><p>有序广播，故名思意，就是有顺序的广播，Ordered Broadcast的接收者将<strong>按预先声明的优先级依次接收Broadcast</strong>。比如，A&gt;B&gt;C，Broadcast会优先传给A，再到B，最后到C。优先级别可以使用<code>android:priority=&quot;&quot;</code>申明在AndroidManifests.xml中，<code>优先级在-1000~1000之间，</code>例：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;receiver android:name=&quot;.MyReceiver&quot;&gt;</div><div class=\"line\">    &lt;intent-filter android:priority=&quot;20&quot;&gt;</div><div class=\"line\">        &lt;action android:name=&quot;org.crazyit.action.CRAZY_BROADCAST&quot;/&gt;</div><div class=\"line\">    &lt;/intent-filter&gt;</div><div class=\"line\">&lt;/receiver&gt;</div></pre></td></tr></table></figure></p>\n<p>也可以在src中调用<code>IntentFilter.setPriority()</code>设置优先级别。<br><strong>Ordered Broadcast的高优先级别的Receiver，可以将处理结果传递给一位Receiver，或者可以中止Broadcast的传播。</strong> </p>\n<blockquote>\n<p>BroadcastReceiver.abortBroadcast()中止广播  </p>\n<p>BroadcastReceiver.setResultExtras(Bundle)：将处理结果存入Broadcast，然后传递给下一个Receiver</p>\n<p>Bundle bundle=getResultExtras(true)可以获取上一个Receiver存入的数据</p>\n</blockquote>\n<h2 id=\"疑问\"><a href=\"#疑问\" class=\"headerlink\" title=\"疑问\"></a>疑问</h2><h3 id=\"Receiver的onReceive-是在子线程中吗？\"><a href=\"#Receiver的onReceive-是在子线程中吗？\" class=\"headerlink\" title=\"Receiver的onReceive()是在子线程中吗？\"></a>Receiver的onReceive()是在子线程中吗？</h3><p>onReceive()是主线程中运行的,最大支持耗时是10秒，超过可能会触发ANR，在onReceive()中添加了睡眠方法，然后用另一个按钮触发事件，可以看出，onReceive()方法执行完成后才触发了另一个按钮的事件。<br><img src=\"/2017/04/08/broadcast与broadcast-receiver/01.gif\" alt=\"发送广播后测试是否在主线程\"><br>虽然也有可能是线程锁的，但是打印结果是在同一线程内<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前进程名com.app.demobroadcast</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MainActivity: onCreate: 获取当前线程名main</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前进程名com.app.demobroadcast</div><div class=\"line\">04-08 14:23:45.071 2306-2306/com.app.demobroadcast I/MyReceiver: onReceive: 获取当前线程名main</div></pre></td></tr></table></figure></p>\n<h3 id=\"Broadcast是同步的？\"><a href=\"#Broadcast是同步的？\" class=\"headerlink\" title=\"Broadcast是同步的？\"></a>Broadcast是同步的？</h3><p>Broadcast是完全异步的，要区别Broadcast与BroadcastReceiver，Broadcast的发送过程是异步，BroadcastReceiver是接收Broadcast的是同步执行的，在main线程中。</p>\n<h3 id=\"Broadcast是启动activity？\"><a href=\"#Broadcast是启动activity？\" class=\"headerlink\" title=\"Broadcast是启动activity？\"></a>Broadcast是启动activity？</h3><p>如果你直接使用以下代码肯定会报错<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">@Override</div><div class=\"line\">public void onReceive(Context context, Intent intent) &#123;</div><div class=\"line\">    Intent i=new Intent(context,MainActivity.class);</div><div class=\"line\">    context.startActivity(i);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">E/AndroidRuntime: FATAL EXCEPTION: main</div><div class=\"line\">    java.lang.RuntimeException: Unable to start receiver com.app.demobroadcast.MyReceiver: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</div><div class=\"line\">        </div><div class=\"line\">        ···········</div><div class=\"line\">        </div><div class=\"line\">     Caused by: android.util.AndroidRuntimeException: Calling startActivity() from outside of an Activity  context requires the FLAG_ACTIVITY_NEW_TASK flag. Is this really what you want?</div><div class=\"line\">        </div><div class=\"line\">        ···········</div></pre></td></tr></table></figure>\n<p>报错原因是Activity是存储在Task中的，应用启动的时候会创建一个Task存储MainActivity，在MainActivity启动一个Activity时，Activity会依附于MainActivity的Task中，但是在BroadcastReceiver中context不是MainActivity，所以无法获取一个Task，解决方法是使用FLAG_ACTIVITY_NEW_TASK，这属于Activity的启动模式范畴，之前写过《<a href=\"https://zengmianhui.github.io/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/\">理解Android Activity运行模式</a>》。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">Intent i=new Intent(context,MainActivity.class);</div><div class=\"line\">        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class=\"line\">        context.startActivity(i);</div></pre></td></tr></table></figure>"},{"title":"hexo个人博客-如何在markdown上引用本地图片的地址？","date":"2017-03-01T12:16:42.000Z","_content":"## 文章来自\n[在 hexo 中无痛使用本地图片](http://www.tuicool.com/articles/umEBVfI)\n# hexo个人博客-如何在markdown上引用本地图片的地址？\n## 相关的问题\n由于markdown的相关特性，图片只能来自于网络，但是使用markdown写博客之前，就得先将图片上传到网络，非常地不方便，所以我采用插件的方式来消除这种麻烦，代码还是markdown语法，虽然编辑markdown的时候，看不到图片，但是上发布到github上时，就是正常的\n## 插件地址\n<!--more-->\n[hexo-asset-image](https://github.com/CodeFalling/hexo-asset-image)\n## 解决方案\n### _config.yml\n> 在配置文件中_config.yml 查看是否存在 post_asset_folder:true 。\n### 安装插件\n> npm install https://github.com/CodeFalling/hexo-asset-image --save\n\n![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)\n\n\n### 创建目录\n```\nhexo个人博客-如何在markdown上引用本地图片的地址？\n└── 1.png\nhexo个人博客-如何在markdown上引用本地图片的地址？.md\n\n```\n在博客的同级目录下创建一个与markdown文件名一样的文件夹\n### 在markdown使用正常语法\n然后使用正常的语法\n```\n![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)\n```\n然后会生成相应public结构\n\n```\npublic/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？\n└── 1.png\n```\n同时生成的html是\n\n```\n<img src=\"/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？\" alt=\"1.png\">\n```\n\n\n\n\n\n\n","source":"_posts/hexo个人博客-如何在markdown上引用本地图片的地址？.md","raw":"---\ntitle: hexo个人博客-如何在markdown上引用本地图片的地址？\ndate: 2017-03-01 20:16:42\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n## 文章来自\n[在 hexo 中无痛使用本地图片](http://www.tuicool.com/articles/umEBVfI)\n# hexo个人博客-如何在markdown上引用本地图片的地址？\n## 相关的问题\n由于markdown的相关特性，图片只能来自于网络，但是使用markdown写博客之前，就得先将图片上传到网络，非常地不方便，所以我采用插件的方式来消除这种麻烦，代码还是markdown语法，虽然编辑markdown的时候，看不到图片，但是上发布到github上时，就是正常的\n## 插件地址\n<!--more-->\n[hexo-asset-image](https://github.com/CodeFalling/hexo-asset-image)\n## 解决方案\n### _config.yml\n> 在配置文件中_config.yml 查看是否存在 post_asset_folder:true 。\n### 安装插件\n> npm install https://github.com/CodeFalling/hexo-asset-image --save\n\n![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)\n\n\n### 创建目录\n```\nhexo个人博客-如何在markdown上引用本地图片的地址？\n└── 1.png\nhexo个人博客-如何在markdown上引用本地图片的地址？.md\n\n```\n在博客的同级目录下创建一个与markdown文件名一样的文件夹\n### 在markdown使用正常语法\n然后使用正常的语法\n```\n![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)\n```\n然后会生成相应public结构\n\n```\npublic/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？\n└── 1.png\n```\n同时生成的html是\n\n```\n<img src=\"/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？\" alt=\"1.png\">\n```\n\n\n\n\n\n\n","slug":"hexo个人博客-如何在markdown上引用本地图片的地址？","published":1,"updated":"2017-05-02T05:47:35.724Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ald0010a0usfthbhji7","content":"<h2 id=\"文章来自\"><a href=\"#文章来自\" class=\"headerlink\" title=\"文章来自\"></a>文章来自</h2><p><a href=\"http://www.tuicool.com/articles/umEBVfI\" target=\"_blank\" rel=\"external\">在 hexo 中无痛使用本地图片</a></p>\n<h1 id=\"hexo个人博客-如何在markdown上引用本地图片的地址？\"><a href=\"#hexo个人博客-如何在markdown上引用本地图片的地址？\" class=\"headerlink\" title=\"hexo个人博客-如何在markdown上引用本地图片的地址？\"></a>hexo个人博客-如何在markdown上引用本地图片的地址？</h1><h2 id=\"相关的问题\"><a href=\"#相关的问题\" class=\"headerlink\" title=\"相关的问题\"></a>相关的问题</h2><p>由于markdown的相关特性，图片只能来自于网络，但是使用markdown写博客之前，就得先将图片上传到网络，非常地不方便，所以我采用插件的方式来消除这种麻烦，代码还是markdown语法，虽然编辑markdown的时候，看不到图片，但是上发布到github上时，就是正常的</p>\n<h2 id=\"插件地址\"><a href=\"#插件地址\" class=\"headerlink\" title=\"插件地址\"></a>插件地址</h2><a id=\"more\"></a>\n<p><a href=\"https://github.com/CodeFalling/hexo-asset-image\" target=\"_blank\" rel=\"external\">hexo-asset-image</a></p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><h3 id=\"config-yml\"><a href=\"#config-yml\" class=\"headerlink\" title=\"_config.yml\"></a>_config.yml</h3><blockquote>\n<p>在配置文件中_config.yml 查看是否存在 post_asset_folder:true 。</p>\n<h3 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h3><p>npm install <a href=\"https://github.com/CodeFalling/hexo-asset-image\" target=\"_blank\" rel=\"external\">https://github.com/CodeFalling/hexo-asset-image</a> –save</p>\n</blockquote>\n<p><img src=\"/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？/1.png\" alt=\"1.png\"></p>\n<h3 id=\"创建目录\"><a href=\"#创建目录\" class=\"headerlink\" title=\"创建目录\"></a>创建目录</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo个人博客-如何在markdown上引用本地图片的地址？</div><div class=\"line\">└── 1.png</div><div class=\"line\">hexo个人博客-如何在markdown上引用本地图片的地址？.md</div></pre></td></tr></table></figure>\n<p>在博客的同级目录下创建一个与markdown文件名一样的文件夹</p>\n<h3 id=\"在markdown使用正常语法\"><a href=\"#在markdown使用正常语法\" class=\"headerlink\" title=\"在markdown使用正常语法\"></a>在markdown使用正常语法</h3><p>然后使用正常的语法<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)</div></pre></td></tr></table></figure></p>\n<p>然后会生成相应public结构</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">public/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？</div><div class=\"line\">└── 1.png</div></pre></td></tr></table></figure>\n<p>同时生成的html是</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;img src=&quot;/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？&quot; alt=&quot;1.png&quot;&gt;</div></pre></td></tr></table></figure>\n","excerpt":"<h2 id=\"文章来自\"><a href=\"#文章来自\" class=\"headerlink\" title=\"文章来自\"></a>文章来自</h2><p><a href=\"http://www.tuicool.com/articles/umEBVfI\">在 hexo 中无痛使用本地图片</a></p>\n<h1 id=\"hexo个人博客-如何在markdown上引用本地图片的地址？\"><a href=\"#hexo个人博客-如何在markdown上引用本地图片的地址？\" class=\"headerlink\" title=\"hexo个人博客-如何在markdown上引用本地图片的地址？\"></a>hexo个人博客-如何在markdown上引用本地图片的地址？</h1><h2 id=\"相关的问题\"><a href=\"#相关的问题\" class=\"headerlink\" title=\"相关的问题\"></a>相关的问题</h2><p>由于markdown的相关特性，图片只能来自于网络，但是使用markdown写博客之前，就得先将图片上传到网络，非常地不方便，所以我采用插件的方式来消除这种麻烦，代码还是markdown语法，虽然编辑markdown的时候，看不到图片，但是上发布到github上时，就是正常的</p>\n<h2 id=\"插件地址\"><a href=\"#插件地址\" class=\"headerlink\" title=\"插件地址\"></a>插件地址</h2>","more":"<p><a href=\"https://github.com/CodeFalling/hexo-asset-image\">hexo-asset-image</a></p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2><h3 id=\"config-yml\"><a href=\"#config-yml\" class=\"headerlink\" title=\"_config.yml\"></a>_config.yml</h3><blockquote>\n<p>在配置文件中_config.yml 查看是否存在 post_asset_folder:true 。</p>\n<h3 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h3><p>npm install <a href=\"https://github.com/CodeFalling/hexo-asset-image\">https://github.com/CodeFalling/hexo-asset-image</a> –save</p>\n</blockquote>\n<p><img src=\"/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？/1.png\" alt=\"1.png\"></p>\n<h3 id=\"创建目录\"><a href=\"#创建目录\" class=\"headerlink\" title=\"创建目录\"></a>创建目录</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo个人博客-如何在markdown上引用本地图片的地址？</div><div class=\"line\">└── 1.png</div><div class=\"line\">hexo个人博客-如何在markdown上引用本地图片的地址？.md</div></pre></td></tr></table></figure>\n<p>在博客的同级目录下创建一个与markdown文件名一样的文件夹</p>\n<h3 id=\"在markdown使用正常语法\"><a href=\"#在markdown使用正常语法\" class=\"headerlink\" title=\"在markdown使用正常语法\"></a>在markdown使用正常语法</h3><p>然后使用正常的语法<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">![1.png](hexo个人博客-如何在markdown上引用本地图片的地址？/1.png)</div></pre></td></tr></table></figure></p>\n<p>然后会生成相应public结构</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">public/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？</div><div class=\"line\">└── 1.png</div></pre></td></tr></table></figure>\n<p>同时生成的html是</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;img src=&quot;/2017/03/01/hexo个人博客-如何在markdown上引用本地图片的地址？&quot; alt=&quot;1.png&quot;&gt;</div></pre></td></tr></table></figure>"},{"title":"git经验之更改远程仓库地址","date":"2017-04-18T13:28:07.000Z","_content":"# 参考链接\n[git修改远程仓库地址——赖忠标](http://www.cnblogs.com/lazb/articles/5597878.html)  \n\n# git修改远程仓库地址的三种方法\n## 直接命令修改\n\n> git remote set-url origin  [url]\n\n<!--more-->\n## 命令，先删除后设新地址\n\n> git remote rm origin  \ngit remote add origin [url]\n\n## 直接修改配置文件\n文件位置：git/config  \n`config`\n```\n[core]\n\trepositoryformatversion = 0\n\tfilemode = false\n\tbare = false\n\tlogallrefupdates = true\n\tsymlinks = false\n\tignorecase = true\n[gui]\n\twmstate = normal\n\tgeometry = 841x483+225+101 189 218\n[remote \"origin\"]\n\turl = git@github.com:zengmianhui/android_project.git\n\tfetch = +refs/heads/*:refs/remotes/origin/*\n[branch \"master\"]\n\tremote = origin\n\tmerge = refs/heads/master\n\n```","source":"_posts/git经验之更改远程仓库地址.md","raw":"---\ntitle: git经验之更改远程仓库地址\ndate: 2017-04-18 21:28:07\ncategories:\n  - git\n  - git\ntags:\n  - git\n---\n# 参考链接\n[git修改远程仓库地址——赖忠标](http://www.cnblogs.com/lazb/articles/5597878.html)  \n\n# git修改远程仓库地址的三种方法\n## 直接命令修改\n\n> git remote set-url origin  [url]\n\n<!--more-->\n## 命令，先删除后设新地址\n\n> git remote rm origin  \ngit remote add origin [url]\n\n## 直接修改配置文件\n文件位置：git/config  \n`config`\n```\n[core]\n\trepositoryformatversion = 0\n\tfilemode = false\n\tbare = false\n\tlogallrefupdates = true\n\tsymlinks = false\n\tignorecase = true\n[gui]\n\twmstate = normal\n\tgeometry = 841x483+225+101 189 218\n[remote \"origin\"]\n\turl = git@github.com:zengmianhui/android_project.git\n\tfetch = +refs/heads/*:refs/remotes/origin/*\n[branch \"master\"]\n\tremote = origin\n\tmerge = refs/heads/master\n\n```","slug":"git经验之更改远程仓库地址","published":1,"updated":"2017-05-02T05:47:27.564Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3alj0013a0us9s0in9ic","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/lazb/articles/5597878.html\" target=\"_blank\" rel=\"external\">git修改远程仓库地址——赖忠标</a>  </p>\n<h1 id=\"git修改远程仓库地址的三种方法\"><a href=\"#git修改远程仓库地址的三种方法\" class=\"headerlink\" title=\"git修改远程仓库地址的三种方法\"></a>git修改远程仓库地址的三种方法</h1><h2 id=\"直接命令修改\"><a href=\"#直接命令修改\" class=\"headerlink\" title=\"直接命令修改\"></a>直接命令修改</h2><blockquote>\n<p>git remote set-url origin  [url]</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"命令，先删除后设新地址\"><a href=\"#命令，先删除后设新地址\" class=\"headerlink\" title=\"命令，先删除后设新地址\"></a>命令，先删除后设新地址</h2><blockquote>\n<p>git remote rm origin<br>git remote add origin [url]</p>\n</blockquote>\n<h2 id=\"直接修改配置文件\"><a href=\"#直接修改配置文件\" class=\"headerlink\" title=\"直接修改配置文件\"></a>直接修改配置文件</h2><p>文件位置：git/config<br><code>config</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">[core]</div><div class=\"line\">\trepositoryformatversion = 0</div><div class=\"line\">\tfilemode = false</div><div class=\"line\">\tbare = false</div><div class=\"line\">\tlogallrefupdates = true</div><div class=\"line\">\tsymlinks = false</div><div class=\"line\">\tignorecase = true</div><div class=\"line\">[gui]</div><div class=\"line\">\twmstate = normal</div><div class=\"line\">\tgeometry = 841x483+225+101 189 218</div><div class=\"line\">[remote &quot;origin&quot;]</div><div class=\"line\">\turl = git@github.com:zengmianhui/android_project.git</div><div class=\"line\">\tfetch = +refs/heads/*:refs/remotes/origin/*</div><div class=\"line\">[branch &quot;master&quot;]</div><div class=\"line\">\tremote = origin</div><div class=\"line\">\tmerge = refs/heads/master</div></pre></td></tr></table></figure></p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/lazb/articles/5597878.html\">git修改远程仓库地址——赖忠标</a>  </p>\n<h1 id=\"git修改远程仓库地址的三种方法\"><a href=\"#git修改远程仓库地址的三种方法\" class=\"headerlink\" title=\"git修改远程仓库地址的三种方法\"></a>git修改远程仓库地址的三种方法</h1><h2 id=\"直接命令修改\"><a href=\"#直接命令修改\" class=\"headerlink\" title=\"直接命令修改\"></a>直接命令修改</h2><blockquote>\n<p>git remote set-url origin  [url]</p>\n</blockquote>","more":"<h2 id=\"命令，先删除后设新地址\"><a href=\"#命令，先删除后设新地址\" class=\"headerlink\" title=\"命令，先删除后设新地址\"></a>命令，先删除后设新地址</h2><blockquote>\n<p>git remote rm origin<br>git remote add origin [url]</p>\n</blockquote>\n<h2 id=\"直接修改配置文件\"><a href=\"#直接修改配置文件\" class=\"headerlink\" title=\"直接修改配置文件\"></a>直接修改配置文件</h2><p>文件位置：git/config<br><code>config</code><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">[core]</div><div class=\"line\">\trepositoryformatversion = 0</div><div class=\"line\">\tfilemode = false</div><div class=\"line\">\tbare = false</div><div class=\"line\">\tlogallrefupdates = true</div><div class=\"line\">\tsymlinks = false</div><div class=\"line\">\tignorecase = true</div><div class=\"line\">[gui]</div><div class=\"line\">\twmstate = normal</div><div class=\"line\">\tgeometry = 841x483+225+101 189 218</div><div class=\"line\">[remote &quot;origin&quot;]</div><div class=\"line\">\turl = git@github.com:zengmianhui/android_project.git</div><div class=\"line\">\tfetch = +refs/heads/*:refs/remotes/origin/*</div><div class=\"line\">[branch &quot;master&quot;]</div><div class=\"line\">\tremote = origin</div><div class=\"line\">\tmerge = refs/heads/master</div></pre></td></tr></table></figure></p>"},{"title":"hexo之如何强制访问https","date":"2018-11-03T15:53:19.000Z","_content":"\n之前一直不知道为什么部署到github的主页点分类或者链接会无法访问，原来hexo部署生成的html访问的都是`http`协议的，github关闭了http的访问\n\n<!--more-->\n\n只需要将以下代码加入主题文件`_layout.swig`文件中底部即可,位置是`E:\\blog\\themes\\next\\layout`，`E:\\blog\\`是我hexo的位置\n\n```\n  <!-- 强制使用https访问 -->\n  <script type=\"text/javascript\">\n    (function() {\n\t\t//这里是你的域名，发布后记得清一下缓存F12看一下有没有代码有没有加上去\n    var host = \"iszengmh.github.io\";\n    if ((host == window.location.host) && (window.location.protocol != \"https:\"))\n        window.location.protocol = \"https\";\n    })(); \n</script>\n```\n![1.png](hexo之如何强制访问https/1.png)\n![1.png](hexo之如何强制访问https/2.png)\n\n","source":"_posts/hexo之如何强制访问https.md","raw":"---\ntitle: hexo之如何强制访问https\ndate: 2018-11-03 23:53:19\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n\n之前一直不知道为什么部署到github的主页点分类或者链接会无法访问，原来hexo部署生成的html访问的都是`http`协议的，github关闭了http的访问\n\n<!--more-->\n\n只需要将以下代码加入主题文件`_layout.swig`文件中底部即可,位置是`E:\\blog\\themes\\next\\layout`，`E:\\blog\\`是我hexo的位置\n\n```\n  <!-- 强制使用https访问 -->\n  <script type=\"text/javascript\">\n    (function() {\n\t\t//这里是你的域名，发布后记得清一下缓存F12看一下有没有代码有没有加上去\n    var host = \"iszengmh.github.io\";\n    if ((host == window.location.host) && (window.location.protocol != \"https:\"))\n        window.location.protocol = \"https\";\n    })(); \n</script>\n```\n![1.png](hexo之如何强制访问https/1.png)\n![1.png](hexo之如何强制访问https/2.png)\n\n","slug":"hexo之如何强制访问https","published":1,"updated":"2018-11-03T16:13:47.401Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3alo0014a0us8grtjz1u","content":"<p>之前一直不知道为什么部署到github的主页点分类或者链接会无法访问，原来hexo部署生成的html访问的都是<code>http</code>协议的，github关闭了http的访问</p>\n<a id=\"more\"></a>\n<p>只需要将以下代码加入主题文件<code>_layout.swig</code>文件中底部即可,位置是<code>E:\\blog\\themes\\next\\layout</code>，<code>E:\\blog\\</code>是我hexo的位置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">  &lt;!-- 强制使用https访问 --&gt;</div><div class=\"line\">  &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">    (function() &#123;</div><div class=\"line\">\t\t//这里是你的域名，发布后记得清一下缓存F12看一下有没有代码有没有加上去</div><div class=\"line\">    var host = &quot;iszengmh.github.io&quot;;</div><div class=\"line\">    if ((host == window.location.host) &amp;&amp; (window.location.protocol != &quot;https:&quot;))</div><div class=\"line\">        window.location.protocol = &quot;https&quot;;</div><div class=\"line\">    &#125;)(); </div><div class=\"line\">&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p><img src=\"hexo之如何强制访问https/1.png\" alt=\"1.png\"><br><img src=\"hexo之如何强制访问https/2.png\" alt=\"1.png\"></p>\n","excerpt":"<p>之前一直不知道为什么部署到github的主页点分类或者链接会无法访问，原来hexo部署生成的html访问的都是<code>http</code>协议的，github关闭了http的访问</p>","more":"<p>只需要将以下代码加入主题文件<code>_layout.swig</code>文件中底部即可,位置是<code>E:\\blog\\themes\\next\\layout</code>，<code>E:\\blog\\</code>是我hexo的位置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">  &lt;!-- 强制使用https访问 --&gt;</div><div class=\"line\">  &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">    (function() &#123;</div><div class=\"line\">\t\t//这里是你的域名，发布后记得清一下缓存F12看一下有没有代码有没有加上去</div><div class=\"line\">    var host = &quot;iszengmh.github.io&quot;;</div><div class=\"line\">    if ((host == window.location.host) &amp;&amp; (window.location.protocol != &quot;https:&quot;))</div><div class=\"line\">        window.location.protocol = &quot;https&quot;;</div><div class=\"line\">    &#125;)(); </div><div class=\"line\">&lt;/script&gt;</div></pre></td></tr></table></figure>\n<p><img src=\"hexo之如何强制访问https/1.png\" alt=\"1.png\"><br><img src=\"hexo之如何强制访问https/2.png\" alt=\"1.png\"></p>"},{"title":"hexo如何为github博客设置一个域名？","date":"2017-01-29T04:09:00.000Z","_content":"摘要：\n\t为我们的github博客设置一个个人域名\n<!--more-->\n正文：\n\t我的域名是在腾讯去注册的，那就应该去腾讯云解析域名。\n操作步骤：\n## 第一步\n管理中心-域名管理-点击解析-点击添加记录\n![这里写图片描述](http://img.blog.csdn.net/20170129115704677?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170129115714974?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n填写github上个人博客的地址\n![这里写图片描述](http://img.blog.csdn.net/20170129115722943?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 第二步\n![这里写图片描述](http://img.blog.csdn.net/20170129115904271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 第三步\n在站点的source目录下创建CNAME并添加域名不包含Http://\n![这里写图片描述](http://img.blog.csdn.net/20170129120048006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n发布博客即可\n\n```\n$ hexo d -g\n```\n\n","source":"_posts/hexo如何为github博客设置一个域名？.md","raw":"---\ntitle: hexo如何为github博客设置一个域名？\ndate: 2017-01-29 12:09:00\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n摘要：\n\t为我们的github博客设置一个个人域名\n<!--more-->\n正文：\n\t我的域名是在腾讯去注册的，那就应该去腾讯云解析域名。\n操作步骤：\n## 第一步\n管理中心-域名管理-点击解析-点击添加记录\n![这里写图片描述](http://img.blog.csdn.net/20170129115704677?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n![这里写图片描述](http://img.blog.csdn.net/20170129115714974?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n填写github上个人博客的地址\n![这里写图片描述](http://img.blog.csdn.net/20170129115722943?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 第二步\n![这里写图片描述](http://img.blog.csdn.net/20170129115904271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 第三步\n在站点的source目录下创建CNAME并添加域名不包含Http://\n![这里写图片描述](http://img.blog.csdn.net/20170129120048006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n发布博客即可\n\n```\n$ hexo d -g\n```\n\n","slug":"hexo如何为github博客设置一个域名？","published":1,"updated":"2017-05-02T05:47:56.259Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3alt0017a0us9b55mswn","content":"<p>摘要：<br>    为我们的github博客设置一个个人域名<br><a id=\"more\"></a><br>正文：<br>    我的域名是在腾讯去注册的，那就应该去腾讯云解析域名。<br>操作步骤：</p>\n<h2 id=\"第一步\"><a href=\"#第一步\" class=\"headerlink\" title=\"第一步\"></a>第一步</h2><p>管理中心-域名管理-点击解析-点击添加记录<br><img src=\"http://img.blog.csdn.net/20170129115704677?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170129115714974?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>填写github上个人博客的地址<br><img src=\"http://img.blog.csdn.net/20170129115722943?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"第二步\"><a href=\"#第二步\" class=\"headerlink\" title=\"第二步\"></a>第二步</h2><p><img src=\"http://img.blog.csdn.net/20170129115904271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"第三步\"><a href=\"#第三步\" class=\"headerlink\" title=\"第三步\"></a>第三步</h2><p>在站点的source目录下创建CNAME并添加域名不包含Http://<br><img src=\"http://img.blog.csdn.net/20170129120048006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>发布博客即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo d -g</div></pre></td></tr></table></figure>\n","excerpt":"<p>摘要：<br>    为我们的github博客设置一个个人域名<br></p>","more":"<br>正文：<br>    我的域名是在腾讯去注册的，那就应该去腾讯云解析域名。<br>操作步骤：<p></p>\n<h2 id=\"第一步\"><a href=\"#第一步\" class=\"headerlink\" title=\"第一步\"></a>第一步</h2><p>管理中心-域名管理-点击解析-点击添加记录<br><img src=\"http://img.blog.csdn.net/20170129115704677?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20170129115714974?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>填写github上个人博客的地址<br><img src=\"http://img.blog.csdn.net/20170129115722943?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"第二步\"><a href=\"#第二步\" class=\"headerlink\" title=\"第二步\"></a>第二步</h2><p><img src=\"http://img.blog.csdn.net/20170129115904271?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"第三步\"><a href=\"#第三步\" class=\"headerlink\" title=\"第三步\"></a>第三步</h2><p>在站点的source目录下创建CNAME并添加域名不包含Http://<br><img src=\"http://img.blog.csdn.net/20170129120048006?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>发布博客即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo d -g</div></pre></td></tr></table></figure>"},{"title":"hexo从多说评论转为韩国来必力评论","date":"2017-05-02T06:57:58.000Z","_content":"\n# 参考链接\n[《hexo+next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景》——sunshine940326](http://blog.csdn.net/sunshine940326/article/details/69933696)\n\n# hexo从多说评论转为韩国来必力评论\n&emsp;&emsp;对于多说评论，可能很多人也知道了，就是6月1号后就不支持，公司没资金支持了吧。  \n&emsp;&emsp;本来我是要用友言，集成后发现，它居然不支持https；本来也想用比较有人气的网易云跟贴的，但是注册站点的时候，它居然只支持未注册的域名，因为我不想维护我之前的域名，所以我一直直接用github提供的，github.io已经是注册的了，所以没有办法。\n## 重点：关于为什么这篇文章之前评论没有了\n> 发现看的人多了起来，我觉得域名有可能泄漏我的真实姓名， 所以更换了域名,本来是想，反正改了域名，还是有一些网站会爬取我的数据，我也不担心别人找不到文章了，但是突然发现之前的评论没有了，咨询来必力的客服后发现，他们的数据可能是直接关联url的，如果需要更换域名，需要代码中设定refer值，也就是每个页面都需要设定新的域名，如果javaweb可能一次性可以搞定，但是像我这种静态网站的，没得救了，**如果你需要使用来必力，请慎重选择**，如果你已经使用了来必力，对此表示歉意  \n> 没有了评论感觉到文章等少了一些互动，有些没意思了的样子。\n\n## 简介\n来必力也是一个社会化评论系统，虽然是韩国的，访问速度上可能也会慢一点，不过总比没有的好啊（想想以后我的主页热门起来了，也会有很多人来评论哒，哈哈）\n<!--more-->\n## 注册来必力\n直接到来必来注册一个账号就可以了，这个就不多说啦。\n## 获取代码\n有人可能会不知道怎么进入后台，我也是找了一会，才找到的。\n> 就是首页拉到下面你会看到一个“去看介绍”的按钮\n\n![点击去看介绍](hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg)  \n\n> 再拉下来点击“安装来必力”就可以进入后台了\n\n![点击安装来必力](hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg)\n\n> 当然是选择“city免费版”的咯\n\n![选择“city免费版”](hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg)\n\n> 填相关站点信息（我的已经点写完了，所以没办法演示）\n\n![填相关站点信息](hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg)\n\n> 进入后台可能会点慢，耐心点，然后选择“代码管理”，我们只要“一般网站”就可以了\n\n![选择“代码管理”](hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg)\n\n## 主题里面配置来必力\n### 先来个文件夹简介\n\n![先来文件夹简介](hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg)\n\n### 我们需要修改或者增加的文件\n#### 创建文件laibili.swig\n`\\themes\\next\\layout\\_scripts\\third-party\\comments\\laibili.swig`，你也可以在文件夹下复制一个，然后修改。  以下为文件内容\n`if page.comments `和倒数第二个`endif`之间为必力的javascript代码\n```\n {% if not (theme.duoshuo and theme.duoshuo.shortname)\n    and not theme.duoshuo_shortname\n    and not theme.disqus_shortname\n    and not theme.hypercomments_id\n    and not theme.gentie_productKey %}\n\n    {% if theme.laibili_uid %}\n      {% set uid = theme.laibili_uid %}\n    {% endif %}\n\n   {% if page.comments %}\n        <!-- UY BEGIN -->\n        <script type=\"text/javascript\">\n           (function(d, s) {\n               var j, e = d.getElementsByTagName(s)[0];\n\n               if (typeof LivereTower === 'function') { return; }\n\n               j = d.createElement(s);\n               j.src = 'https://cdn-city.livere.com/js/embed.dist.js';\n               j.async = true;\n\n               e.parentNode.insertBefore(j, e);\n           })(document, 'script');\n        </script>\n        <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>\n        <!-- UY END -->\n    {% endif %}\n  {% endif %}\n```\n#### 修改文件third-party\\comments.swig\n`\\themes\\next\\layout\\_scripts\\third-party\\comments.swig`\n增加一行代码  \n![增加一行代码](hexo从多说评论转为韩国来必力评论\\2017-05-02_150715.png)\n\n#### 修改文件_partials\\comments.swig  \n`\\themes\\next\\layout\\_partials\\comments.swig`增加div代码  \n本来是想直接使用`data-uid=\"{{theme.laibili_uid}}\"`，来引入主题配置文件中uid的，但是死活加载不出来，所以就直接写入uid了。  \n![增加div代码](hexo从多说评论转为韩国来必力评论\\2017-05-02_132947.jpg)\n```\n{% elseif theme.laibili_uid %}\n  <div id=\"lv-container\" data-id=\"city\" data-uid=\"直接写入你的UID\">\n  </div>\n{% endif %}\n```\n#### 修改主题配置文件\n`E:\\blog\\themes\\next\\_config.yml`，增加下这一行代码，由于我没有动态获取配置文件里面的uid，所以，这里的作用，也只能是判断是有配置这个代码，来决定是否嵌入评论，修改文件_partials\\comments.swig里面的代码的时候，你们应该也可以看懂一点代码。\n```\nlaibili_uid: 直接写你的uid\n```\n## 最后\n提交hexo就可以了\n```\n> hexo clean\n> hexo d -g\n\n```\n## 效果\n![效果](hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg)\n\n","source":"_posts/hexo从多说评论转为韩国来必力评论.md","raw":"---\ntitle: hexo从多说评论转为韩国来必力评论\ndate: 2017-05-02 14:57:58\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n\n# 参考链接\n[《hexo+next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景》——sunshine940326](http://blog.csdn.net/sunshine940326/article/details/69933696)\n\n# hexo从多说评论转为韩国来必力评论\n&emsp;&emsp;对于多说评论，可能很多人也知道了，就是6月1号后就不支持，公司没资金支持了吧。  \n&emsp;&emsp;本来我是要用友言，集成后发现，它居然不支持https；本来也想用比较有人气的网易云跟贴的，但是注册站点的时候，它居然只支持未注册的域名，因为我不想维护我之前的域名，所以我一直直接用github提供的，github.io已经是注册的了，所以没有办法。\n## 重点：关于为什么这篇文章之前评论没有了\n> 发现看的人多了起来，我觉得域名有可能泄漏我的真实姓名， 所以更换了域名,本来是想，反正改了域名，还是有一些网站会爬取我的数据，我也不担心别人找不到文章了，但是突然发现之前的评论没有了，咨询来必力的客服后发现，他们的数据可能是直接关联url的，如果需要更换域名，需要代码中设定refer值，也就是每个页面都需要设定新的域名，如果javaweb可能一次性可以搞定，但是像我这种静态网站的，没得救了，**如果你需要使用来必力，请慎重选择**，如果你已经使用了来必力，对此表示歉意  \n> 没有了评论感觉到文章等少了一些互动，有些没意思了的样子。\n\n## 简介\n来必力也是一个社会化评论系统，虽然是韩国的，访问速度上可能也会慢一点，不过总比没有的好啊（想想以后我的主页热门起来了，也会有很多人来评论哒，哈哈）\n<!--more-->\n## 注册来必力\n直接到来必来注册一个账号就可以了，这个就不多说啦。\n## 获取代码\n有人可能会不知道怎么进入后台，我也是找了一会，才找到的。\n> 就是首页拉到下面你会看到一个“去看介绍”的按钮\n\n![点击去看介绍](hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg)  \n\n> 再拉下来点击“安装来必力”就可以进入后台了\n\n![点击安装来必力](hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg)\n\n> 当然是选择“city免费版”的咯\n\n![选择“city免费版”](hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg)\n\n> 填相关站点信息（我的已经点写完了，所以没办法演示）\n\n![填相关站点信息](hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg)\n\n> 进入后台可能会点慢，耐心点，然后选择“代码管理”，我们只要“一般网站”就可以了\n\n![选择“代码管理”](hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg)\n\n## 主题里面配置来必力\n### 先来个文件夹简介\n\n![先来文件夹简介](hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg)\n\n### 我们需要修改或者增加的文件\n#### 创建文件laibili.swig\n`\\themes\\next\\layout\\_scripts\\third-party\\comments\\laibili.swig`，你也可以在文件夹下复制一个，然后修改。  以下为文件内容\n`if page.comments `和倒数第二个`endif`之间为必力的javascript代码\n```\n {% if not (theme.duoshuo and theme.duoshuo.shortname)\n    and not theme.duoshuo_shortname\n    and not theme.disqus_shortname\n    and not theme.hypercomments_id\n    and not theme.gentie_productKey %}\n\n    {% if theme.laibili_uid %}\n      {% set uid = theme.laibili_uid %}\n    {% endif %}\n\n   {% if page.comments %}\n        <!-- UY BEGIN -->\n        <script type=\"text/javascript\">\n           (function(d, s) {\n               var j, e = d.getElementsByTagName(s)[0];\n\n               if (typeof LivereTower === 'function') { return; }\n\n               j = d.createElement(s);\n               j.src = 'https://cdn-city.livere.com/js/embed.dist.js';\n               j.async = true;\n\n               e.parentNode.insertBefore(j, e);\n           })(document, 'script');\n        </script>\n        <noscript>为正常使用来必力评论功能请激活JavaScript</noscript>\n        <!-- UY END -->\n    {% endif %}\n  {% endif %}\n```\n#### 修改文件third-party\\comments.swig\n`\\themes\\next\\layout\\_scripts\\third-party\\comments.swig`\n增加一行代码  \n![增加一行代码](hexo从多说评论转为韩国来必力评论\\2017-05-02_150715.png)\n\n#### 修改文件_partials\\comments.swig  \n`\\themes\\next\\layout\\_partials\\comments.swig`增加div代码  \n本来是想直接使用`data-uid=\"{{theme.laibili_uid}}\"`，来引入主题配置文件中uid的，但是死活加载不出来，所以就直接写入uid了。  \n![增加div代码](hexo从多说评论转为韩国来必力评论\\2017-05-02_132947.jpg)\n```\n{% elseif theme.laibili_uid %}\n  <div id=\"lv-container\" data-id=\"city\" data-uid=\"直接写入你的UID\">\n  </div>\n{% endif %}\n```\n#### 修改主题配置文件\n`E:\\blog\\themes\\next\\_config.yml`，增加下这一行代码，由于我没有动态获取配置文件里面的uid，所以，这里的作用，也只能是判断是有配置这个代码，来决定是否嵌入评论，修改文件_partials\\comments.swig里面的代码的时候，你们应该也可以看懂一点代码。\n```\nlaibili_uid: 直接写你的uid\n```\n## 最后\n提交hexo就可以了\n```\n> hexo clean\n> hexo d -g\n\n```\n## 效果\n![效果](hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg)\n\n","slug":"hexo从多说评论转为韩国来必力评论","published":1,"updated":"2018-05-16T15:14:37.057Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3alx0018a0usbplwg7j4","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/sunshine940326/article/details/69933696\" target=\"_blank\" rel=\"external\">《hexo+next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景》——sunshine940326</a></p>\n<h1 id=\"hexo从多说评论转为韩国来必力评论\"><a href=\"#hexo从多说评论转为韩国来必力评论\" class=\"headerlink\" title=\"hexo从多说评论转为韩国来必力评论\"></a>hexo从多说评论转为韩国来必力评论</h1><p>&emsp;&emsp;对于多说评论，可能很多人也知道了，就是6月1号后就不支持，公司没资金支持了吧。<br>&emsp;&emsp;本来我是要用友言，集成后发现，它居然不支持https；本来也想用比较有人气的网易云跟贴的，但是注册站点的时候，它居然只支持未注册的域名，因为我不想维护我之前的域名，所以我一直直接用github提供的，github.io已经是注册的了，所以没有办法。</p>\n<h2 id=\"重点：关于为什么这篇文章之前评论没有了\"><a href=\"#重点：关于为什么这篇文章之前评论没有了\" class=\"headerlink\" title=\"重点：关于为什么这篇文章之前评论没有了\"></a>重点：关于为什么这篇文章之前评论没有了</h2><blockquote>\n<p>发现看的人多了起来，我觉得域名有可能泄漏我的真实姓名， 所以更换了域名,本来是想，反正改了域名，还是有一些网站会爬取我的数据，我也不担心别人找不到文章了，但是突然发现之前的评论没有了，咨询来必力的客服后发现，他们的数据可能是直接关联url的，如果需要更换域名，需要代码中设定refer值，也就是每个页面都需要设定新的域名，如果javaweb可能一次性可以搞定，但是像我这种静态网站的，没得救了，<strong>如果你需要使用来必力，请慎重选择</strong>，如果你已经使用了来必力，对此表示歉意<br>没有了评论感觉到文章等少了一些互动，有些没意思了的样子。</p>\n</blockquote>\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>来必力也是一个社会化评论系统，虽然是韩国的，访问速度上可能也会慢一点，不过总比没有的好啊（想想以后我的主页热门起来了，也会有很多人来评论哒，哈哈）<br><a id=\"more\"></a></p>\n<h2 id=\"注册来必力\"><a href=\"#注册来必力\" class=\"headerlink\" title=\"注册来必力\"></a>注册来必力</h2><p>直接到来必来注册一个账号就可以了，这个就不多说啦。</p>\n<h2 id=\"获取代码\"><a href=\"#获取代码\" class=\"headerlink\" title=\"获取代码\"></a>获取代码</h2><p>有人可能会不知道怎么进入后台，我也是找了一会，才找到的。</p>\n<blockquote>\n<p>就是首页拉到下面你会看到一个“去看介绍”的按钮</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg\" alt=\"点击去看介绍\">  </p>\n<blockquote>\n<p>再拉下来点击“安装来必力”就可以进入后台了</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg\" alt=\"点击安装来必力\"></p>\n<blockquote>\n<p>当然是选择“city免费版”的咯</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg\" alt=\"选择“city免费版”\"></p>\n<blockquote>\n<p>填相关站点信息（我的已经点写完了，所以没办法演示）</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg\" alt=\"填相关站点信息\"></p>\n<blockquote>\n<p>进入后台可能会点慢，耐心点，然后选择“代码管理”，我们只要“一般网站”就可以了</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg\" alt=\"选择“代码管理”\"></p>\n<h2 id=\"主题里面配置来必力\"><a href=\"#主题里面配置来必力\" class=\"headerlink\" title=\"主题里面配置来必力\"></a>主题里面配置来必力</h2><h3 id=\"先来个文件夹简介\"><a href=\"#先来个文件夹简介\" class=\"headerlink\" title=\"先来个文件夹简介\"></a>先来个文件夹简介</h3><p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg\" alt=\"先来文件夹简介\"></p>\n<h3 id=\"我们需要修改或者增加的文件\"><a href=\"#我们需要修改或者增加的文件\" class=\"headerlink\" title=\"我们需要修改或者增加的文件\"></a>我们需要修改或者增加的文件</h3><h4 id=\"创建文件laibili-swig\"><a href=\"#创建文件laibili-swig\" class=\"headerlink\" title=\"创建文件laibili.swig\"></a>创建文件laibili.swig</h4><p><code>\\themes\\next\\layout\\_scripts\\third-party\\comments\\laibili.swig</code>，你也可以在文件夹下复制一个，然后修改。  以下为文件内容<br><code>if page.comments</code>和倒数第二个<code>endif</code>之间为必力的javascript代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% if not (theme.duoshuo and theme.duoshuo.shortname)</div><div class=\"line\">   and not theme.duoshuo_shortname</div><div class=\"line\">   and not theme.disqus_shortname</div><div class=\"line\">   and not theme.hypercomments_id</div><div class=\"line\">   and not theme.gentie_productKey %&#125;</div><div class=\"line\"></div><div class=\"line\">   &#123;% if theme.laibili_uid %&#125;</div><div class=\"line\">     &#123;% set uid = theme.laibili_uid %&#125;</div><div class=\"line\">   &#123;% endif %&#125;</div><div class=\"line\"></div><div class=\"line\">  &#123;% if page.comments %&#125;</div><div class=\"line\">       &lt;!-- UY BEGIN --&gt;</div><div class=\"line\">       &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">          (function(d, s) &#123;</div><div class=\"line\">              var j, e = d.getElementsByTagName(s)[0];</div><div class=\"line\"></div><div class=\"line\">              if (typeof LivereTower === &apos;function&apos;) &#123; return; &#125;</div><div class=\"line\"></div><div class=\"line\">              j = d.createElement(s);</div><div class=\"line\">              j.src = &apos;https://cdn-city.livere.com/js/embed.dist.js&apos;;</div><div class=\"line\">              j.async = true;</div><div class=\"line\"></div><div class=\"line\">              e.parentNode.insertBefore(j, e);</div><div class=\"line\">          &#125;)(document, &apos;script&apos;);</div><div class=\"line\">       &lt;/script&gt;</div><div class=\"line\">       &lt;noscript&gt;为正常使用来必力评论功能请激活JavaScript&lt;/noscript&gt;</div><div class=\"line\">       &lt;!-- UY END --&gt;</div><div class=\"line\">   &#123;% endif %&#125;</div><div class=\"line\"> &#123;% endif %&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"修改文件third-party-comments-swig\"><a href=\"#修改文件third-party-comments-swig\" class=\"headerlink\" title=\"修改文件third-party\\comments.swig\"></a>修改文件third-party\\comments.swig</h4><p><code>\\themes\\next\\layout\\_scripts\\third-party\\comments.swig</code><br>增加一行代码<br><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_150715.png\" alt=\"增加一行代码\"></p>\n<h4 id=\"修改文件-partials-comments-swig\"><a href=\"#修改文件-partials-comments-swig\" class=\"headerlink\" title=\"修改文件_partials\\comments.swig\"></a>修改文件_partials\\comments.swig</h4><p><code>\\themes\\next\\layout\\_partials\\comments.swig</code>增加div代码<br>本来是想直接使用<code>data-uid=&quot;&quot;</code>，来引入主题配置文件中uid的，但是死活加载不出来，所以就直接写入uid了。<br><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_132947.jpg\" alt=\"增加div代码\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% elseif theme.laibili_uid %&#125;</div><div class=\"line\">  &lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;直接写入你的UID&quot;&gt;</div><div class=\"line\">  &lt;/div&gt;</div><div class=\"line\">&#123;% endif %&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"修改主题配置文件\"><a href=\"#修改主题配置文件\" class=\"headerlink\" title=\"修改主题配置文件\"></a>修改主题配置文件</h4><p><code>E:\\blog\\themes\\next\\_config.yml</code>，增加下这一行代码，由于我没有动态获取配置文件里面的uid，所以，这里的作用，也只能是判断是有配置这个代码，来决定是否嵌入评论，修改文件_partials\\comments.swig里面的代码的时候，你们应该也可以看懂一点代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">laibili_uid: 直接写你的uid</div></pre></td></tr></table></figure></p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>提交hexo就可以了<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt; hexo clean</div><div class=\"line\">&gt; hexo d -g</div></pre></td></tr></table></figure></p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg\" alt=\"效果\"></p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://blog.csdn.net/sunshine940326/article/details/69933696\">《hexo+next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景》——sunshine940326</a></p>\n<h1 id=\"hexo从多说评论转为韩国来必力评论\"><a href=\"#hexo从多说评论转为韩国来必力评论\" class=\"headerlink\" title=\"hexo从多说评论转为韩国来必力评论\"></a>hexo从多说评论转为韩国来必力评论</h1><p>&emsp;&emsp;对于多说评论，可能很多人也知道了，就是6月1号后就不支持，公司没资金支持了吧。<br>&emsp;&emsp;本来我是要用友言，集成后发现，它居然不支持https；本来也想用比较有人气的网易云跟贴的，但是注册站点的时候，它居然只支持未注册的域名，因为我不想维护我之前的域名，所以我一直直接用github提供的，github.io已经是注册的了，所以没有办法。</p>\n<h2 id=\"重点：关于为什么这篇文章之前评论没有了\"><a href=\"#重点：关于为什么这篇文章之前评论没有了\" class=\"headerlink\" title=\"重点：关于为什么这篇文章之前评论没有了\"></a>重点：关于为什么这篇文章之前评论没有了</h2><blockquote>\n<p>发现看的人多了起来，我觉得域名有可能泄漏我的真实姓名， 所以更换了域名,本来是想，反正改了域名，还是有一些网站会爬取我的数据，我也不担心别人找不到文章了，但是突然发现之前的评论没有了，咨询来必力的客服后发现，他们的数据可能是直接关联url的，如果需要更换域名，需要代码中设定refer值，也就是每个页面都需要设定新的域名，如果javaweb可能一次性可以搞定，但是像我这种静态网站的，没得救了，<strong>如果你需要使用来必力，请慎重选择</strong>，如果你已经使用了来必力，对此表示歉意<br>没有了评论感觉到文章等少了一些互动，有些没意思了的样子。</p>\n</blockquote>\n<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>来必力也是一个社会化评论系统，虽然是韩国的，访问速度上可能也会慢一点，不过总比没有的好啊（想想以后我的主页热门起来了，也会有很多人来评论哒，哈哈）<br></p>","more":"<p></p>\n<h2 id=\"注册来必力\"><a href=\"#注册来必力\" class=\"headerlink\" title=\"注册来必力\"></a>注册来必力</h2><p>直接到来必来注册一个账号就可以了，这个就不多说啦。</p>\n<h2 id=\"获取代码\"><a href=\"#获取代码\" class=\"headerlink\" title=\"获取代码\"></a>获取代码</h2><p>有人可能会不知道怎么进入后台，我也是找了一会，才找到的。</p>\n<blockquote>\n<p>就是首页拉到下面你会看到一个“去看介绍”的按钮</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg\" alt=\"点击去看介绍\">  </p>\n<blockquote>\n<p>再拉下来点击“安装来必力”就可以进入后台了</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg\" alt=\"点击安装来必力\"></p>\n<blockquote>\n<p>当然是选择“city免费版”的咯</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg\" alt=\"选择“city免费版”\"></p>\n<blockquote>\n<p>填相关站点信息（我的已经点写完了，所以没办法演示）</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg\" alt=\"填相关站点信息\"></p>\n<blockquote>\n<p>进入后台可能会点慢，耐心点，然后选择“代码管理”，我们只要“一般网站”就可以了</p>\n</blockquote>\n<p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg\" alt=\"选择“代码管理”\"></p>\n<h2 id=\"主题里面配置来必力\"><a href=\"#主题里面配置来必力\" class=\"headerlink\" title=\"主题里面配置来必力\"></a>主题里面配置来必力</h2><h3 id=\"先来个文件夹简介\"><a href=\"#先来个文件夹简介\" class=\"headerlink\" title=\"先来个文件夹简介\"></a>先来个文件夹简介</h3><p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg\" alt=\"先来文件夹简介\"></p>\n<h3 id=\"我们需要修改或者增加的文件\"><a href=\"#我们需要修改或者增加的文件\" class=\"headerlink\" title=\"我们需要修改或者增加的文件\"></a>我们需要修改或者增加的文件</h3><h4 id=\"创建文件laibili-swig\"><a href=\"#创建文件laibili-swig\" class=\"headerlink\" title=\"创建文件laibili.swig\"></a>创建文件laibili.swig</h4><p><code>\\themes\\next\\layout\\_scripts\\third-party\\comments\\laibili.swig</code>，你也可以在文件夹下复制一个，然后修改。  以下为文件内容<br><code>if page.comments</code>和倒数第二个<code>endif</code>之间为必力的javascript代码<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% if not (theme.duoshuo and theme.duoshuo.shortname)</div><div class=\"line\">   and not theme.duoshuo_shortname</div><div class=\"line\">   and not theme.disqus_shortname</div><div class=\"line\">   and not theme.hypercomments_id</div><div class=\"line\">   and not theme.gentie_productKey %&#125;</div><div class=\"line\"></div><div class=\"line\">   &#123;% if theme.laibili_uid %&#125;</div><div class=\"line\">     &#123;% set uid = theme.laibili_uid %&#125;</div><div class=\"line\">   &#123;% endif %&#125;</div><div class=\"line\"></div><div class=\"line\">  &#123;% if page.comments %&#125;</div><div class=\"line\">       &lt;!-- UY BEGIN --&gt;</div><div class=\"line\">       &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">          (function(d, s) &#123;</div><div class=\"line\">              var j, e = d.getElementsByTagName(s)[0];</div><div class=\"line\"></div><div class=\"line\">              if (typeof LivereTower === &apos;function&apos;) &#123; return; &#125;</div><div class=\"line\"></div><div class=\"line\">              j = d.createElement(s);</div><div class=\"line\">              j.src = &apos;https://cdn-city.livere.com/js/embed.dist.js&apos;;</div><div class=\"line\">              j.async = true;</div><div class=\"line\"></div><div class=\"line\">              e.parentNode.insertBefore(j, e);</div><div class=\"line\">          &#125;)(document, &apos;script&apos;);</div><div class=\"line\">       &lt;/script&gt;</div><div class=\"line\">       &lt;noscript&gt;为正常使用来必力评论功能请激活JavaScript&lt;/noscript&gt;</div><div class=\"line\">       &lt;!-- UY END --&gt;</div><div class=\"line\">   &#123;% endif %&#125;</div><div class=\"line\"> &#123;% endif %&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"修改文件third-party-comments-swig\"><a href=\"#修改文件third-party-comments-swig\" class=\"headerlink\" title=\"修改文件third-party\\comments.swig\"></a>修改文件third-party\\comments.swig</h4><p><code>\\themes\\next\\layout\\_scripts\\third-party\\comments.swig</code><br>增加一行代码<br><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_150715.png\" alt=\"增加一行代码\"></p>\n<h4 id=\"修改文件-partials-comments-swig\"><a href=\"#修改文件-partials-comments-swig\" class=\"headerlink\" title=\"修改文件_partials\\comments.swig\"></a>修改文件_partials\\comments.swig</h4><p><code>\\themes\\next\\layout\\_partials\\comments.swig</code>增加div代码<br>本来是想直接使用<code>data-uid=&quot;&quot;</code>，来引入主题配置文件中uid的，但是死活加载不出来，所以就直接写入uid了。<br><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_132947.jpg\" alt=\"增加div代码\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;% elseif theme.laibili_uid %&#125;</div><div class=\"line\">  &lt;div id=&quot;lv-container&quot; data-id=&quot;city&quot; data-uid=&quot;直接写入你的UID&quot;&gt;</div><div class=\"line\">  &lt;/div&gt;</div><div class=\"line\">&#123;% endif %&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"修改主题配置文件\"><a href=\"#修改主题配置文件\" class=\"headerlink\" title=\"修改主题配置文件\"></a>修改主题配置文件</h4><p><code>E:\\blog\\themes\\next\\_config.yml</code>，增加下这一行代码，由于我没有动态获取配置文件里面的uid，所以，这里的作用，也只能是判断是有配置这个代码，来决定是否嵌入评论，修改文件_partials\\comments.swig里面的代码的时候，你们应该也可以看懂一点代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">laibili_uid: 直接写你的uid</div></pre></td></tr></table></figure></p>\n<h2 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h2><p>提交hexo就可以了<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt; hexo clean</div><div class=\"line\">&gt; hexo d -g</div></pre></td></tr></table></figure></p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p><img src=\"/2017/05/02/hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg\" alt=\"效果\"></p>"},{"title":"hexo如何更换github博客主题","date":"2017-01-27T17:33:40.000Z","_content":"\n摘要：\n\thexo如何更换github博客主题\n<!--more-->\n正文：\n\t[TOC]\n# hexo更换github博客主题\n\n[next主题官网](http://theme-next.iissnan.com/getting-started.html)\n首先当然是下载主题，可以直接使用命令的形式，用git clone下来，也可以直接下载压缩包，然后解压在站点目录下的theme目录下。\n\n```\n$ cd your-hexo-site\n$ git clone https://github.com/iissnan/hexo-theme-next themes/next\n```\n编辑站点文件_config.yml\n\n```\ntheme: next\n```\n这样子就可以了,启动hexo站点，直接验证主题\n```\nhexo s --debug\n```\n\n","source":"_posts/hexo如何更换github博客主题.md","raw":"---\ntitle: hexo如何更换github博客主题\ndate: 2017-01-28 01:33:40\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n\n摘要：\n\thexo如何更换github博客主题\n<!--more-->\n正文：\n\t[TOC]\n# hexo更换github博客主题\n\n[next主题官网](http://theme-next.iissnan.com/getting-started.html)\n首先当然是下载主题，可以直接使用命令的形式，用git clone下来，也可以直接下载压缩包，然后解压在站点目录下的theme目录下。\n\n```\n$ cd your-hexo-site\n$ git clone https://github.com/iissnan/hexo-theme-next themes/next\n```\n编辑站点文件_config.yml\n\n```\ntheme: next\n```\n这样子就可以了,启动hexo站点，直接验证主题\n```\nhexo s --debug\n```\n\n","slug":"hexo如何更换github博客主题","published":1,"updated":"2017-05-02T05:47:42.332Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3am7001ba0usmv6xghg1","content":"<p>摘要：<br>    hexo如何更换github博客主题<br><a id=\"more\"></a><br>正文：<br>    [TOC]</p>\n<h1 id=\"hexo更换github博客主题\"><a href=\"#hexo更换github博客主题\" class=\"headerlink\" title=\"hexo更换github博客主题\"></a>hexo更换github博客主题</h1><p><a href=\"http://theme-next.iissnan.com/getting-started.html\" target=\"_blank\" rel=\"external\">next主题官网</a><br>首先当然是下载主题，可以直接使用命令的形式，用git clone下来，也可以直接下载压缩包，然后解压在站点目录下的theme目录下。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ cd your-hexo-site</div><div class=\"line\">$ git clone https://github.com/iissnan/hexo-theme-next themes/next</div></pre></td></tr></table></figure>\n<p>编辑站点文件_config.yml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">theme: next</div></pre></td></tr></table></figure>\n<p>这样子就可以了,启动hexo站点，直接验证主题<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo s --debug</div></pre></td></tr></table></figure></p>\n","excerpt":"<p>摘要：<br>    hexo如何更换github博客主题<br></p>","more":"<br>正文：<br>    [TOC]<p></p>\n<h1 id=\"hexo更换github博客主题\"><a href=\"#hexo更换github博客主题\" class=\"headerlink\" title=\"hexo更换github博客主题\"></a>hexo更换github博客主题</h1><p><a href=\"http://theme-next.iissnan.com/getting-started.html\">next主题官网</a><br>首先当然是下载主题，可以直接使用命令的形式，用git clone下来，也可以直接下载压缩包，然后解压在站点目录下的theme目录下。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ cd your-hexo-site</div><div class=\"line\">$ git clone https://github.com/iissnan/hexo-theme-next themes/next</div></pre></td></tr></table></figure>\n<p>编辑站点文件_config.yml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">theme: next</div></pre></td></tr></table></figure>\n<p>这样子就可以了,启动hexo站点，直接验证主题<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo s --debug</div></pre></td></tr></table></figure></p>"},{"title":"javascript之闭包(closure)","date":"2017-05-05T15:22:24.000Z","_content":"\n\n# 参考链接\n[javascript深入理解js闭包](http://www.jb51.net/article/24101.htm)\n\n# javascript之闭包(closure)\n## 说明\n&emsp;&emsp;闭包就是拥有许多变量和绑定这些变量环境的表达式，因此这些变量也是该表达式的一部分。  \n&emsp;&emsp;这个解释估计会有许多人懵了不懂，我们暂且理解为，闭包是一个函数表达式，表达式绑定了一些变量的环境，然后看下面的代码。\n```\nfunction f1(){\n    var n=999;\n    function f2(){\n        console.log(n);\n    }\n    return f2;//返回内部函数供外部调用。\n}\nvar result=f1();//创建函数表达式，result引用了f2函数，绑定变量n的环境。\nresult();//输出999\n```\n<!--more-->\n## 变量的作用域\n&emsp;&emsp;javascript的变量分为两种，全局变量和局部变量，全局变量无法直接引用局部变量，局部变量可以直接引用全局变量，这就是作用域。闭包就是为了解决全局变量无法引用局部变量的问题。\n\n\n```\n/**\n*直接引用全局变量\n*/\nvar n=999;\nfunction f1(){\n　alert(n);//引用全局变量\n}\nf1(); // 999\n/**\n*无法直接引用局部变量\n*/\nfunction f2(){\n　var abc=111;\n}\n　alert(abc); // error\n```\n\n> 闭包获取局部变量\n\n```\nfunction f1(){\n    var n=999;\n    function f2(){\n        console.log(n);\n    }\n    return f2;//返回内部函数供外部调用。\n}\nvar result=f1();\nresult();//输出999\n```\n## 闭包需要注意的问题\n&emsp;&emsp;闭包会将局部变量长期驻留在内存中，很可能会造成内存泄漏。这和java的内存引用很相似，长生命周期的变量引用短生命周期的变量时，会促使垃圾回收器无法回收短生命周期的变量。\n```\nfunction f1(){\n　var n=999;\n　nAdd=function(){n+=1}//没有使用var修饰，实为申明全局变量。\n　function f2(){\n　　　alert(n);\n　}\n　return f2;\n}\nvar result=f1();\nresult(); // 999\nnAdd();\nresult(); // 1000，再次调用也可以获取到增后n的值，所以n没有被回收\n```\n\n## 我们可以这么玩\n```\nfunction f1(){\n    var n=0;\n    function f2(){\n        n++;\n        function f3(){\n            n++;\n            function f4(){\n                n++;\n                console.log(n);\n            }\n            return f4;\n        }\n        return f3;\n    }\n    return f2;\n}\n//第一种调用方式\nf1()()()();// 输出 3\n//第二种调用方式\nvar result=f1()()();\nresult();//输出 3\n```\n\n> 多连括号方式调用，即为将父函数返回的子函数立即调用。\n\n```\n(function(){\n    var n=0;\n    console.log(n);\n})();//输出 0\n//也可以带有函数名\n(function f1(){\n    var n=0;\n    console.log(n);\n})();//输出 0\n```\n> 这个叫做 申明函数并立即执行。","source":"_posts/javascript之闭包-closure.md","raw":"---\ntitle: javascript之闭包(closure)\ndate: 2017-05-05 23:22:24\ncategories:\n  - javascript\ntags:\n  - javascript闭包\n---\n\n\n# 参考链接\n[javascript深入理解js闭包](http://www.jb51.net/article/24101.htm)\n\n# javascript之闭包(closure)\n## 说明\n&emsp;&emsp;闭包就是拥有许多变量和绑定这些变量环境的表达式，因此这些变量也是该表达式的一部分。  \n&emsp;&emsp;这个解释估计会有许多人懵了不懂，我们暂且理解为，闭包是一个函数表达式，表达式绑定了一些变量的环境，然后看下面的代码。\n```\nfunction f1(){\n    var n=999;\n    function f2(){\n        console.log(n);\n    }\n    return f2;//返回内部函数供外部调用。\n}\nvar result=f1();//创建函数表达式，result引用了f2函数，绑定变量n的环境。\nresult();//输出999\n```\n<!--more-->\n## 变量的作用域\n&emsp;&emsp;javascript的变量分为两种，全局变量和局部变量，全局变量无法直接引用局部变量，局部变量可以直接引用全局变量，这就是作用域。闭包就是为了解决全局变量无法引用局部变量的问题。\n\n\n```\n/**\n*直接引用全局变量\n*/\nvar n=999;\nfunction f1(){\n　alert(n);//引用全局变量\n}\nf1(); // 999\n/**\n*无法直接引用局部变量\n*/\nfunction f2(){\n　var abc=111;\n}\n　alert(abc); // error\n```\n\n> 闭包获取局部变量\n\n```\nfunction f1(){\n    var n=999;\n    function f2(){\n        console.log(n);\n    }\n    return f2;//返回内部函数供外部调用。\n}\nvar result=f1();\nresult();//输出999\n```\n## 闭包需要注意的问题\n&emsp;&emsp;闭包会将局部变量长期驻留在内存中，很可能会造成内存泄漏。这和java的内存引用很相似，长生命周期的变量引用短生命周期的变量时，会促使垃圾回收器无法回收短生命周期的变量。\n```\nfunction f1(){\n　var n=999;\n　nAdd=function(){n+=1}//没有使用var修饰，实为申明全局变量。\n　function f2(){\n　　　alert(n);\n　}\n　return f2;\n}\nvar result=f1();\nresult(); // 999\nnAdd();\nresult(); // 1000，再次调用也可以获取到增后n的值，所以n没有被回收\n```\n\n## 我们可以这么玩\n```\nfunction f1(){\n    var n=0;\n    function f2(){\n        n++;\n        function f3(){\n            n++;\n            function f4(){\n                n++;\n                console.log(n);\n            }\n            return f4;\n        }\n        return f3;\n    }\n    return f2;\n}\n//第一种调用方式\nf1()()()();// 输出 3\n//第二种调用方式\nvar result=f1()()();\nresult();//输出 3\n```\n\n> 多连括号方式调用，即为将父函数返回的子函数立即调用。\n\n```\n(function(){\n    var n=0;\n    console.log(n);\n})();//输出 0\n//也可以带有函数名\n(function f1(){\n    var n=0;\n    console.log(n);\n})();//输出 0\n```\n> 这个叫做 申明函数并立即执行。","slug":"javascript之闭包-closure","published":1,"updated":"2017-05-05T15:24:03.070Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ama001da0uska53h5xs","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jb51.net/article/24101.htm\" target=\"_blank\" rel=\"external\">javascript深入理解js闭包</a></p>\n<h1 id=\"javascript之闭包-closure\"><a href=\"#javascript之闭包-closure\" class=\"headerlink\" title=\"javascript之闭包(closure)\"></a>javascript之闭包(closure)</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;闭包就是拥有许多变量和绑定这些变量环境的表达式，因此这些变量也是该表达式的一部分。<br>&emsp;&emsp;这个解释估计会有许多人懵了不懂，我们暂且理解为，闭包是一个函数表达式，表达式绑定了一些变量的环境，然后看下面的代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=999;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        console.log(n);</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;//返回内部函数供外部调用。</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();//创建函数表达式，result引用了f2函数，绑定变量n的环境。</div><div class=\"line\">result();//输出999</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h2 id=\"变量的作用域\"><a href=\"#变量的作用域\" class=\"headerlink\" title=\"变量的作用域\"></a>变量的作用域</h2><p>&emsp;&emsp;javascript的变量分为两种，全局变量和局部变量，全局变量无法直接引用局部变量，局部变量可以直接引用全局变量，这就是作用域。闭包就是为了解决全局变量无法引用局部变量的问题。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\">*直接引用全局变量</div><div class=\"line\">*/</div><div class=\"line\">var n=999;</div><div class=\"line\">function f1()&#123;</div><div class=\"line\">　alert(n);//引用全局变量</div><div class=\"line\">&#125;</div><div class=\"line\">f1(); // 999</div><div class=\"line\">/**</div><div class=\"line\">*无法直接引用局部变量</div><div class=\"line\">*/</div><div class=\"line\">function f2()&#123;</div><div class=\"line\">　var abc=111;</div><div class=\"line\">&#125;</div><div class=\"line\">　alert(abc); // error</div></pre></td></tr></table></figure>\n<blockquote>\n<p>闭包获取局部变量</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=999;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        console.log(n);</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;//返回内部函数供外部调用。</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();</div><div class=\"line\">result();//输出999</div></pre></td></tr></table></figure>\n<h2 id=\"闭包需要注意的问题\"><a href=\"#闭包需要注意的问题\" class=\"headerlink\" title=\"闭包需要注意的问题\"></a>闭包需要注意的问题</h2><p>&emsp;&emsp;闭包会将局部变量长期驻留在内存中，很可能会造成内存泄漏。这和java的内存引用很相似，长生命周期的变量引用短生命周期的变量时，会促使垃圾回收器无法回收短生命周期的变量。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">　var n=999;</div><div class=\"line\">　nAdd=function()&#123;n+=1&#125;//没有使用var修饰，实为申明全局变量。</div><div class=\"line\">　function f2()&#123;</div><div class=\"line\">　　　alert(n);</div><div class=\"line\">　&#125;</div><div class=\"line\">　return f2;</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();</div><div class=\"line\">result(); // 999</div><div class=\"line\">nAdd();</div><div class=\"line\">result(); // 1000，再次调用也可以获取到增后n的值，所以n没有被回收</div></pre></td></tr></table></figure></p>\n<h2 id=\"我们可以这么玩\"><a href=\"#我们可以这么玩\" class=\"headerlink\" title=\"我们可以这么玩\"></a>我们可以这么玩</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        n++;</div><div class=\"line\">        function f3()&#123;</div><div class=\"line\">            n++;</div><div class=\"line\">            function f4()&#123;</div><div class=\"line\">                n++;</div><div class=\"line\">                console.log(n);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return f4;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return f3;</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;</div><div class=\"line\">&#125;</div><div class=\"line\">//第一种调用方式</div><div class=\"line\">f1()()()();// 输出 3</div><div class=\"line\">//第二种调用方式</div><div class=\"line\">var result=f1()()();</div><div class=\"line\">result();//输出 3</div></pre></td></tr></table></figure>\n<blockquote>\n<p>多连括号方式调用，即为将父函数返回的子函数立即调用。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">(function()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    console.log(n);</div><div class=\"line\">&#125;)();//输出 0</div><div class=\"line\">//也可以带有函数名</div><div class=\"line\">(function f1()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    console.log(n);</div><div class=\"line\">&#125;)();//输出 0</div></pre></td></tr></table></figure>\n<blockquote>\n<p>这个叫做 申明函数并立即执行。</p>\n</blockquote>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.jb51.net/article/24101.htm\">javascript深入理解js闭包</a></p>\n<h1 id=\"javascript之闭包-closure\"><a href=\"#javascript之闭包-closure\" class=\"headerlink\" title=\"javascript之闭包(closure)\"></a>javascript之闭包(closure)</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;闭包就是拥有许多变量和绑定这些变量环境的表达式，因此这些变量也是该表达式的一部分。<br>&emsp;&emsp;这个解释估计会有许多人懵了不懂，我们暂且理解为，闭包是一个函数表达式，表达式绑定了一些变量的环境，然后看下面的代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=999;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        console.log(n);</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;//返回内部函数供外部调用。</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();//创建函数表达式，result引用了f2函数，绑定变量n的环境。</div><div class=\"line\">result();//输出999</div></pre></td></tr></table></figure></p>","more":"<h2 id=\"变量的作用域\"><a href=\"#变量的作用域\" class=\"headerlink\" title=\"变量的作用域\"></a>变量的作用域</h2><p>&emsp;&emsp;javascript的变量分为两种，全局变量和局部变量，全局变量无法直接引用局部变量，局部变量可以直接引用全局变量，这就是作用域。闭包就是为了解决全局变量无法引用局部变量的问题。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\">*直接引用全局变量</div><div class=\"line\">*/</div><div class=\"line\">var n=999;</div><div class=\"line\">function f1()&#123;</div><div class=\"line\">　alert(n);//引用全局变量</div><div class=\"line\">&#125;</div><div class=\"line\">f1(); // 999</div><div class=\"line\">/**</div><div class=\"line\">*无法直接引用局部变量</div><div class=\"line\">*/</div><div class=\"line\">function f2()&#123;</div><div class=\"line\">　var abc=111;</div><div class=\"line\">&#125;</div><div class=\"line\">　alert(abc); // error</div></pre></td></tr></table></figure>\n<blockquote>\n<p>闭包获取局部变量</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=999;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        console.log(n);</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;//返回内部函数供外部调用。</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();</div><div class=\"line\">result();//输出999</div></pre></td></tr></table></figure>\n<h2 id=\"闭包需要注意的问题\"><a href=\"#闭包需要注意的问题\" class=\"headerlink\" title=\"闭包需要注意的问题\"></a>闭包需要注意的问题</h2><p>&emsp;&emsp;闭包会将局部变量长期驻留在内存中，很可能会造成内存泄漏。这和java的内存引用很相似，长生命周期的变量引用短生命周期的变量时，会促使垃圾回收器无法回收短生命周期的变量。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">　var n=999;</div><div class=\"line\">　nAdd=function()&#123;n+=1&#125;//没有使用var修饰，实为申明全局变量。</div><div class=\"line\">　function f2()&#123;</div><div class=\"line\">　　　alert(n);</div><div class=\"line\">　&#125;</div><div class=\"line\">　return f2;</div><div class=\"line\">&#125;</div><div class=\"line\">var result=f1();</div><div class=\"line\">result(); // 999</div><div class=\"line\">nAdd();</div><div class=\"line\">result(); // 1000，再次调用也可以获取到增后n的值，所以n没有被回收</div></pre></td></tr></table></figure></p>\n<h2 id=\"我们可以这么玩\"><a href=\"#我们可以这么玩\" class=\"headerlink\" title=\"我们可以这么玩\"></a>我们可以这么玩</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">function f1()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    function f2()&#123;</div><div class=\"line\">        n++;</div><div class=\"line\">        function f3()&#123;</div><div class=\"line\">            n++;</div><div class=\"line\">            function f4()&#123;</div><div class=\"line\">                n++;</div><div class=\"line\">                console.log(n);</div><div class=\"line\">            &#125;</div><div class=\"line\">            return f4;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return f3;</div><div class=\"line\">    &#125;</div><div class=\"line\">    return f2;</div><div class=\"line\">&#125;</div><div class=\"line\">//第一种调用方式</div><div class=\"line\">f1()()()();// 输出 3</div><div class=\"line\">//第二种调用方式</div><div class=\"line\">var result=f1()()();</div><div class=\"line\">result();//输出 3</div></pre></td></tr></table></figure>\n<blockquote>\n<p>多连括号方式调用，即为将父函数返回的子函数立即调用。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">(function()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    console.log(n);</div><div class=\"line\">&#125;)();//输出 0</div><div class=\"line\">//也可以带有函数名</div><div class=\"line\">(function f1()&#123;</div><div class=\"line\">    var n=0;</div><div class=\"line\">    console.log(n);</div><div class=\"line\">&#125;)();//输出 0</div></pre></td></tr></table></figure>\n<blockquote>\n<p>这个叫做 申明函数并立即执行。</p>\n</blockquote>"},{"title":"javascript之模块化","date":"2017-05-10T03:54:22.000Z","_content":"# 参考链接\n[《Javascript模块化编程（一）：模块的写法》—— 阮一峰](http://www.ruanyifeng.com/blog/2012/10/javascript_module.html)\n# javascript之模块化\n## 说明\n&emsp;&emsp;所谓的模块化，是换功能去划分模块，现在的网页越来越像桌面应用程序，随着团队协作、进度管理、单元测试等等开发模式，网页开发变得越来越复杂，引入的javascript文件越来越多。  \n&emsp;&emsp;模块化是软件工程的方法，开发者只需开发自己的核心模块，其他模块只需通过引入的方式即可（jquery、vue.js也是module）\n<!-- more -->\n## 原始模块写法\n\n```\nvar v1;\nfunction f1(){\n    \n}\nfunction f2(){\n    \n}\n```\n&emsp;&emsp;上面的简单放在一起就是一个module了，需要调用直接f1()和f2()调用就可以了。  \n&emsp;&emsp;但是这样的写法会污染全局变量，而且\n变量名也有可能与其他模块冲突，而且模块之间看不出直接的关系。\n\n## 对象写法\n```\nvar module=new Object{\n    _count:0,\n    f1:function(){\n        \n    },\n    f2:function(){\n        \n    }\n}\n```\n&emsp;&emsp;像上面的写法，只需module.f1()即可调用函数，但是缺点是可以直接访问，对象内的私有变量，内部状态可以被外部直接编写。\n```\nmodule._count=5;\n```\n\n##  立即执行函数写法(javascript模块化的基本写法)\n> 这样的写法，外部无法直接获取内部变量\n\n```\nvar module=(function(){\n    var _count=0;\n    var f1=function(){\n        return _count;\n    };\n    var f2=function(){\n        _count++;\n    };\n    return {f1:f1,f2:f2};\n})();\n//外部无法直接获取内部变量\n　console.info(module1._count); //undefined\n```\n## 放大模式(augmentation)\n如果一个模块很大，需要分成几个小模块，或者需要一个模块继承另一个模块\n```\nvar module=(function(mod){\n    mod.m3=function(){\n        \n    }\n    \n})(module);\n```\nmodule新增一个m3，并返回给新的module。\n## 宽放大模式（Loose augmentation）\n&emsp;&emsp;在开发中，大部分模块可能是直接网上获取的，所以我们无法保证哪一个预先加载完，也就是有可能会加载到一个module空对象，所以需要使用宽放大模式。\n```\nvar module=(function(mod){\n    mod.m3=function(){\n        \n    }\n    \n})(window.module||{});\n```\n&emsp;&emsp;与\"放大模式\"相比，＂宽放大模式＂就是\"立即执行函数\"的参数可以是空对象。\n\n## 模块内输入全局变量\n&emsp;&emsp;模块内部最好不要直接引用全局变量\n```\n　var module1 = (function ($, YAHOO) {\n　　　　//...\n　})(jQuery, YAHOO);\n```\n&emsp;&emsp;上面的module1模块需要使用jQuery库和YUI库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。","source":"_posts/javascript之模块化.md","raw":"---\ntitle: javascript之模块化\ndate: 2017-05-10 11:54:22\ncategories:\n  - javascript\n  - 模块化\ntags:\n  - javascript模块化\n---\n# 参考链接\n[《Javascript模块化编程（一）：模块的写法》—— 阮一峰](http://www.ruanyifeng.com/blog/2012/10/javascript_module.html)\n# javascript之模块化\n## 说明\n&emsp;&emsp;所谓的模块化，是换功能去划分模块，现在的网页越来越像桌面应用程序，随着团队协作、进度管理、单元测试等等开发模式，网页开发变得越来越复杂，引入的javascript文件越来越多。  \n&emsp;&emsp;模块化是软件工程的方法，开发者只需开发自己的核心模块，其他模块只需通过引入的方式即可（jquery、vue.js也是module）\n<!-- more -->\n## 原始模块写法\n\n```\nvar v1;\nfunction f1(){\n    \n}\nfunction f2(){\n    \n}\n```\n&emsp;&emsp;上面的简单放在一起就是一个module了，需要调用直接f1()和f2()调用就可以了。  \n&emsp;&emsp;但是这样的写法会污染全局变量，而且\n变量名也有可能与其他模块冲突，而且模块之间看不出直接的关系。\n\n## 对象写法\n```\nvar module=new Object{\n    _count:0,\n    f1:function(){\n        \n    },\n    f2:function(){\n        \n    }\n}\n```\n&emsp;&emsp;像上面的写法，只需module.f1()即可调用函数，但是缺点是可以直接访问，对象内的私有变量，内部状态可以被外部直接编写。\n```\nmodule._count=5;\n```\n\n##  立即执行函数写法(javascript模块化的基本写法)\n> 这样的写法，外部无法直接获取内部变量\n\n```\nvar module=(function(){\n    var _count=0;\n    var f1=function(){\n        return _count;\n    };\n    var f2=function(){\n        _count++;\n    };\n    return {f1:f1,f2:f2};\n})();\n//外部无法直接获取内部变量\n　console.info(module1._count); //undefined\n```\n## 放大模式(augmentation)\n如果一个模块很大，需要分成几个小模块，或者需要一个模块继承另一个模块\n```\nvar module=(function(mod){\n    mod.m3=function(){\n        \n    }\n    \n})(module);\n```\nmodule新增一个m3，并返回给新的module。\n## 宽放大模式（Loose augmentation）\n&emsp;&emsp;在开发中，大部分模块可能是直接网上获取的，所以我们无法保证哪一个预先加载完，也就是有可能会加载到一个module空对象，所以需要使用宽放大模式。\n```\nvar module=(function(mod){\n    mod.m3=function(){\n        \n    }\n    \n})(window.module||{});\n```\n&emsp;&emsp;与\"放大模式\"相比，＂宽放大模式＂就是\"立即执行函数\"的参数可以是空对象。\n\n## 模块内输入全局变量\n&emsp;&emsp;模块内部最好不要直接引用全局变量\n```\n　var module1 = (function ($, YAHOO) {\n　　　　//...\n　})(jQuery, YAHOO);\n```\n&emsp;&emsp;上面的module1模块需要使用jQuery库和YUI库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。","slug":"javascript之模块化","published":1,"updated":"2017-05-10T03:58:18.703Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ame001ha0usswbomljc","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.ruanyifeng.com/blog/2012/10/javascript_module.html\" target=\"_blank\" rel=\"external\">《Javascript模块化编程（一）：模块的写法》—— 阮一峰</a></p>\n<h1 id=\"javascript之模块化\"><a href=\"#javascript之模块化\" class=\"headerlink\" title=\"javascript之模块化\"></a>javascript之模块化</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;所谓的模块化，是换功能去划分模块，现在的网页越来越像桌面应用程序，随着团队协作、进度管理、单元测试等等开发模式，网页开发变得越来越复杂，引入的javascript文件越来越多。<br>&emsp;&emsp;模块化是软件工程的方法，开发者只需开发自己的核心模块，其他模块只需通过引入的方式即可（jquery、vue.js也是module）<br><a id=\"more\"></a></p>\n<h2 id=\"原始模块写法\"><a href=\"#原始模块写法\" class=\"headerlink\" title=\"原始模块写法\"></a>原始模块写法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">var v1;</div><div class=\"line\">function f1()&#123;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div><div class=\"line\">function f2()&#123;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;上面的简单放在一起就是一个module了，需要调用直接f1()和f2()调用就可以了。<br>&emsp;&emsp;但是这样的写法会污染全局变量，而且<br>变量名也有可能与其他模块冲突，而且模块之间看不出直接的关系。</p>\n<h2 id=\"对象写法\"><a href=\"#对象写法\" class=\"headerlink\" title=\"对象写法\"></a>对象写法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=new Object&#123;</div><div class=\"line\">    _count:0,</div><div class=\"line\">    f1:function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;,</div><div class=\"line\">    f2:function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;像上面的写法，只需module.f1()即可调用函数，但是缺点是可以直接访问，对象内的私有变量，内部状态可以被外部直接编写。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">module._count=5;</div></pre></td></tr></table></figure></p>\n<h2 id=\"立即执行函数写法-javascript模块化的基本写法\"><a href=\"#立即执行函数写法-javascript模块化的基本写法\" class=\"headerlink\" title=\"立即执行函数写法(javascript模块化的基本写法)\"></a>立即执行函数写法(javascript模块化的基本写法)</h2><blockquote>\n<p>这样的写法，外部无法直接获取内部变量</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function()&#123;</div><div class=\"line\">    var _count=0;</div><div class=\"line\">    var f1=function()&#123;</div><div class=\"line\">        return _count;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    var f2=function()&#123;</div><div class=\"line\">        _count++;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    return &#123;f1:f1,f2:f2&#125;;</div><div class=\"line\">&#125;)();</div><div class=\"line\">//外部无法直接获取内部变量</div><div class=\"line\">　console.info(module1._count); //undefined</div></pre></td></tr></table></figure>\n<h2 id=\"放大模式-augmentation\"><a href=\"#放大模式-augmentation\" class=\"headerlink\" title=\"放大模式(augmentation)\"></a>放大模式(augmentation)</h2><p>如果一个模块很大，需要分成几个小模块，或者需要一个模块继承另一个模块<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function(mod)&#123;</div><div class=\"line\">    mod.m3=function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;)(module);</div></pre></td></tr></table></figure></p>\n<p>module新增一个m3，并返回给新的module。</p>\n<h2 id=\"宽放大模式（Loose-augmentation）\"><a href=\"#宽放大模式（Loose-augmentation）\" class=\"headerlink\" title=\"宽放大模式（Loose augmentation）\"></a>宽放大模式（Loose augmentation）</h2><p>&emsp;&emsp;在开发中，大部分模块可能是直接网上获取的，所以我们无法保证哪一个预先加载完，也就是有可能会加载到一个module空对象，所以需要使用宽放大模式。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function(mod)&#123;</div><div class=\"line\">    mod.m3=function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;)(window.module||&#123;&#125;);</div></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;与”放大模式”相比，＂宽放大模式＂就是”立即执行函数”的参数可以是空对象。</p>\n<h2 id=\"模块内输入全局变量\"><a href=\"#模块内输入全局变量\" class=\"headerlink\" title=\"模块内输入全局变量\"></a>模块内输入全局变量</h2><p>&emsp;&emsp;模块内部最好不要直接引用全局变量<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">　var module1 = (function ($, YAHOO) &#123;</div><div class=\"line\">　　　　//...</div><div class=\"line\">　&#125;)(jQuery, YAHOO);</div></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;上面的module1模块需要使用jQuery库和YUI库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。</p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.ruanyifeng.com/blog/2012/10/javascript_module.html\">《Javascript模块化编程（一）：模块的写法》—— 阮一峰</a></p>\n<h1 id=\"javascript之模块化\"><a href=\"#javascript之模块化\" class=\"headerlink\" title=\"javascript之模块化\"></a>javascript之模块化</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&emsp;&emsp;所谓的模块化，是换功能去划分模块，现在的网页越来越像桌面应用程序，随着团队协作、进度管理、单元测试等等开发模式，网页开发变得越来越复杂，引入的javascript文件越来越多。<br>&emsp;&emsp;模块化是软件工程的方法，开发者只需开发自己的核心模块，其他模块只需通过引入的方式即可（jquery、vue.js也是module）<br></p>","more":"<p></p>\n<h2 id=\"原始模块写法\"><a href=\"#原始模块写法\" class=\"headerlink\" title=\"原始模块写法\"></a>原始模块写法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">var v1;</div><div class=\"line\">function f1()&#123;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div><div class=\"line\">function f2()&#123;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;上面的简单放在一起就是一个module了，需要调用直接f1()和f2()调用就可以了。<br>&emsp;&emsp;但是这样的写法会污染全局变量，而且<br>变量名也有可能与其他模块冲突，而且模块之间看不出直接的关系。</p>\n<h2 id=\"对象写法\"><a href=\"#对象写法\" class=\"headerlink\" title=\"对象写法\"></a>对象写法</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=new Object&#123;</div><div class=\"line\">    _count:0,</div><div class=\"line\">    f1:function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;,</div><div class=\"line\">    f2:function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>&emsp;&emsp;像上面的写法，只需module.f1()即可调用函数，但是缺点是可以直接访问，对象内的私有变量，内部状态可以被外部直接编写。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">module._count=5;</div></pre></td></tr></table></figure></p>\n<h2 id=\"立即执行函数写法-javascript模块化的基本写法\"><a href=\"#立即执行函数写法-javascript模块化的基本写法\" class=\"headerlink\" title=\"立即执行函数写法(javascript模块化的基本写法)\"></a>立即执行函数写法(javascript模块化的基本写法)</h2><blockquote>\n<p>这样的写法，外部无法直接获取内部变量</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function()&#123;</div><div class=\"line\">    var _count=0;</div><div class=\"line\">    var f1=function()&#123;</div><div class=\"line\">        return _count;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    var f2=function()&#123;</div><div class=\"line\">        _count++;</div><div class=\"line\">    &#125;;</div><div class=\"line\">    return &#123;f1:f1,f2:f2&#125;;</div><div class=\"line\">&#125;)();</div><div class=\"line\">//外部无法直接获取内部变量</div><div class=\"line\">　console.info(module1._count); //undefined</div></pre></td></tr></table></figure>\n<h2 id=\"放大模式-augmentation\"><a href=\"#放大模式-augmentation\" class=\"headerlink\" title=\"放大模式(augmentation)\"></a>放大模式(augmentation)</h2><p>如果一个模块很大，需要分成几个小模块，或者需要一个模块继承另一个模块<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function(mod)&#123;</div><div class=\"line\">    mod.m3=function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;)(module);</div></pre></td></tr></table></figure></p>\n<p>module新增一个m3，并返回给新的module。</p>\n<h2 id=\"宽放大模式（Loose-augmentation）\"><a href=\"#宽放大模式（Loose-augmentation）\" class=\"headerlink\" title=\"宽放大模式（Loose augmentation）\"></a>宽放大模式（Loose augmentation）</h2><p>&emsp;&emsp;在开发中，大部分模块可能是直接网上获取的，所以我们无法保证哪一个预先加载完，也就是有可能会加载到一个module空对象，所以需要使用宽放大模式。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">var module=(function(mod)&#123;</div><div class=\"line\">    mod.m3=function()&#123;</div><div class=\"line\">        </div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;)(window.module||&#123;&#125;);</div></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;与”放大模式”相比，＂宽放大模式＂就是”立即执行函数”的参数可以是空对象。</p>\n<h2 id=\"模块内输入全局变量\"><a href=\"#模块内输入全局变量\" class=\"headerlink\" title=\"模块内输入全局变量\"></a>模块内输入全局变量</h2><p>&emsp;&emsp;模块内部最好不要直接引用全局变量<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">　var module1 = (function ($, YAHOO) &#123;</div><div class=\"line\">　　　　//...</div><div class=\"line\">　&#125;)(jQuery, YAHOO);</div></pre></td></tr></table></figure></p>\n<p>&emsp;&emsp;上面的module1模块需要使用jQuery库和YUI库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。</p>"},{"title":"javascript之模拟ajax","date":"2017-06-10T15:09:22.000Z","_content":"\n# javascript之模拟ajax\n## 原javascript的异步请求方法\n很多人可能一直用jquery封装好的ajax异步请求，可能不知道原生javascript是怎么异步请求的，javascript是用`XMLHttpRequest`来创建异步对象的，以下是简单的请求方法。\n```\n    var ajax = new XMLHttpRequest();\n    ajax.open('post','http://www.baidu.com');\n    //因为是post请求所以必须加上setRequestHeader(get请求可以忽略)\n    ajax.setRequestHeader('Content-type','text/plain;charset=UTF-8');\n    //请求所带的参数\n    ajax.send(\"username=123456\");\n    //绑定onreadystatechange事件\n    ajax.onreadystatechange=function(){\n    //判断如果请求的状态是否成功\n    \tif (ajax.readyState==4&&ajax.status==200) {\n    \t\t    console.log(\"请求的结果是\"+ajax.responseText);\n\t\t}\n    };\n```\n<!--more-->\n## 简单封装，便于理解\n当然是我没有看到jquery是如何写的ajax，只是在自己理解范围写了这个ajax。\n\n> ajax.js\n\n```\n//requestParameter为一个JSON对象\nvar ajax=function(requestParameter){\n\tvar requestObj = new XMLHttpRequest();\n\tvar requestMethod=requestParameter.type.toLowerCase();\n\t\tswitch(requestMethod){\n\t\t\tcase \"get\":\n\t\t\t\tbreak;\n\t\t\tcase \"post\":\n\t\t\t\tbreak;\n\t\t\tcase \"options\":\n\t\t\t\tbreak;\n\t\t\tcase \"head\":\n\t\t\t\tbreak;\n\t\t\tcase \"put\":\n\t\t\t\tbreak;\n\t\t\tcase \"detele\":\n\t\t\t\tbreak;\n\t\t\tcase \"trace\":\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow(\"ajax:type don't null\");\n\t\t\t\tbreak;\n\n\t\t}\n\t//\t请求地址及请求方法设置\n\tif (requestParameter.url) {\n\t\trequestObj.open(requestMethod,requestParameter.url);\t\n\t}else{\n\t\tthrow(\"ajax:url don't null\");\n\t}\n\t//请求头\n\tif (requestParameter.head) {\n\t\trequestObj.setRequestHeader('Content-type',requestParameter.head);\n\t}\n\t//请求参数，data为一个JSON对象并发送\n\tif (requestParameter.data) {\n\t\tvar dataParameter=\"\";\n\t\tfor(var o in requestParameter.data){\n\t\t\tdataParameter+=o+\"=\"+requestParameter.data[o]+\"&\"\n\t\t}\n\t\tdataParameter=dataParameter.substring(0,dataParameter.length-1)\n\t\trequestObj.send(dataParameter);\n\t}\n\t//结果返回\n\trequestObj.onreadystatechange=function(){\n\t\tvar result={\n\t\t\tstatus:requestObj.status,\n\t\t\tresult:requestObj.responseText\n\t\t};\n\t\tif (requestObj.readyState==4&&requestObj.status==200&&requestParameter.success) {\n\t\t\t requestParameter.success(result);\n\t\t}else if (requestObj.readyState==4&&requestParameter.error) {\n\t\t\trequestParameter.error(result);\n\t\t}\n\t\t\n\t}\n\t\n\treturn requestObj;\n\t\n};\n```\n## 简单调用\n```\n<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>测试</title>\t\n\t<script src=\"ajax.js\" type=\"text/javascript\"></script>\n</head>\n<body>\n    <!-- login('abc','123456') -->\n    <input type=\"submit\" value=\"登录\" onclick=\"testLogin()\"/><br>\n</body>\n<script type=\"text/javascript\">\n//登录\nfunction testLogin(username,pass){\n    ajax({\n    \turl:\"http://www.server.com\",\n    \ttype:\"post\",\n    \tdata:{\n    \t\tusername:username,\n    \t\tpass:pass\n    \t},\n    \tsuccess:function(obj){\n    \t\tconsole.log(\"index: 成功了，状态代码是\"+obj.status+\"返回结果\"+obj.result);\n    \t},\n    \terror:function(obj){\n    \t\tconsole.log(\"index: 失败了，状态代码是\"+obj.status+\"返回结果\"+obj.result);\n    \t}\n    });\n}\n</script>\n</html>\n```\n\n> 如果有觉得写不好，请在下方评论一起讨论","source":"_posts/javascript之模拟ajax.md","raw":"---\ntitle: javascript之模拟ajax\ndate: 2017-06-10 23:09:22\ncategories:\n  - javascript\n  - ajax\ntags:\n  - javascript ajax\n---\n\n# javascript之模拟ajax\n## 原javascript的异步请求方法\n很多人可能一直用jquery封装好的ajax异步请求，可能不知道原生javascript是怎么异步请求的，javascript是用`XMLHttpRequest`来创建异步对象的，以下是简单的请求方法。\n```\n    var ajax = new XMLHttpRequest();\n    ajax.open('post','http://www.baidu.com');\n    //因为是post请求所以必须加上setRequestHeader(get请求可以忽略)\n    ajax.setRequestHeader('Content-type','text/plain;charset=UTF-8');\n    //请求所带的参数\n    ajax.send(\"username=123456\");\n    //绑定onreadystatechange事件\n    ajax.onreadystatechange=function(){\n    //判断如果请求的状态是否成功\n    \tif (ajax.readyState==4&&ajax.status==200) {\n    \t\t    console.log(\"请求的结果是\"+ajax.responseText);\n\t\t}\n    };\n```\n<!--more-->\n## 简单封装，便于理解\n当然是我没有看到jquery是如何写的ajax，只是在自己理解范围写了这个ajax。\n\n> ajax.js\n\n```\n//requestParameter为一个JSON对象\nvar ajax=function(requestParameter){\n\tvar requestObj = new XMLHttpRequest();\n\tvar requestMethod=requestParameter.type.toLowerCase();\n\t\tswitch(requestMethod){\n\t\t\tcase \"get\":\n\t\t\t\tbreak;\n\t\t\tcase \"post\":\n\t\t\t\tbreak;\n\t\t\tcase \"options\":\n\t\t\t\tbreak;\n\t\t\tcase \"head\":\n\t\t\t\tbreak;\n\t\t\tcase \"put\":\n\t\t\t\tbreak;\n\t\t\tcase \"detele\":\n\t\t\t\tbreak;\n\t\t\tcase \"trace\":\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow(\"ajax:type don't null\");\n\t\t\t\tbreak;\n\n\t\t}\n\t//\t请求地址及请求方法设置\n\tif (requestParameter.url) {\n\t\trequestObj.open(requestMethod,requestParameter.url);\t\n\t}else{\n\t\tthrow(\"ajax:url don't null\");\n\t}\n\t//请求头\n\tif (requestParameter.head) {\n\t\trequestObj.setRequestHeader('Content-type',requestParameter.head);\n\t}\n\t//请求参数，data为一个JSON对象并发送\n\tif (requestParameter.data) {\n\t\tvar dataParameter=\"\";\n\t\tfor(var o in requestParameter.data){\n\t\t\tdataParameter+=o+\"=\"+requestParameter.data[o]+\"&\"\n\t\t}\n\t\tdataParameter=dataParameter.substring(0,dataParameter.length-1)\n\t\trequestObj.send(dataParameter);\n\t}\n\t//结果返回\n\trequestObj.onreadystatechange=function(){\n\t\tvar result={\n\t\t\tstatus:requestObj.status,\n\t\t\tresult:requestObj.responseText\n\t\t};\n\t\tif (requestObj.readyState==4&&requestObj.status==200&&requestParameter.success) {\n\t\t\t requestParameter.success(result);\n\t\t}else if (requestObj.readyState==4&&requestParameter.error) {\n\t\t\trequestParameter.error(result);\n\t\t}\n\t\t\n\t}\n\t\n\treturn requestObj;\n\t\n};\n```\n## 简单调用\n```\n<!DOCTYPE html>\n<html>\n<head>\n\t<meta charset=\"utf-8\">\n\t<title>测试</title>\t\n\t<script src=\"ajax.js\" type=\"text/javascript\"></script>\n</head>\n<body>\n    <!-- login('abc','123456') -->\n    <input type=\"submit\" value=\"登录\" onclick=\"testLogin()\"/><br>\n</body>\n<script type=\"text/javascript\">\n//登录\nfunction testLogin(username,pass){\n    ajax({\n    \turl:\"http://www.server.com\",\n    \ttype:\"post\",\n    \tdata:{\n    \t\tusername:username,\n    \t\tpass:pass\n    \t},\n    \tsuccess:function(obj){\n    \t\tconsole.log(\"index: 成功了，状态代码是\"+obj.status+\"返回结果\"+obj.result);\n    \t},\n    \terror:function(obj){\n    \t\tconsole.log(\"index: 失败了，状态代码是\"+obj.status+\"返回结果\"+obj.result);\n    \t}\n    });\n}\n</script>\n</html>\n```\n\n> 如果有觉得写不好，请在下方评论一起讨论","slug":"javascript之模拟ajax","published":1,"updated":"2017-06-10T15:36:59.981Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3amh001ja0usxmzslwkd","content":"<h1 id=\"javascript之模拟ajax\"><a href=\"#javascript之模拟ajax\" class=\"headerlink\" title=\"javascript之模拟ajax\"></a>javascript之模拟ajax</h1><h2 id=\"原javascript的异步请求方法\"><a href=\"#原javascript的异步请求方法\" class=\"headerlink\" title=\"原javascript的异步请求方法\"></a>原javascript的异步请求方法</h2><p>很多人可能一直用jquery封装好的ajax异步请求，可能不知道原生javascript是怎么异步请求的，javascript是用<code>XMLHttpRequest</code>来创建异步对象的，以下是简单的请求方法。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">  var ajax = new XMLHttpRequest();</div><div class=\"line\">  ajax.open(&apos;post&apos;,&apos;http://www.baidu.com&apos;);</div><div class=\"line\">  //因为是post请求所以必须加上setRequestHeader(get请求可以忽略)</div><div class=\"line\">  ajax.setRequestHeader(&apos;Content-type&apos;,&apos;text/plain;charset=UTF-8&apos;);</div><div class=\"line\">  //请求所带的参数</div><div class=\"line\">  ajax.send(&quot;username=123456&quot;);</div><div class=\"line\">  //绑定onreadystatechange事件</div><div class=\"line\">  ajax.onreadystatechange=function()&#123;</div><div class=\"line\">  //判断如果请求的状态是否成功</div><div class=\"line\">  \tif (ajax.readyState==4&amp;&amp;ajax.status==200) &#123;</div><div class=\"line\">  \t\t    console.log(&quot;请求的结果是&quot;+ajax.responseText);</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;;</div></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<h2 id=\"简单封装，便于理解\"><a href=\"#简单封装，便于理解\" class=\"headerlink\" title=\"简单封装，便于理解\"></a>简单封装，便于理解</h2><p>当然是我没有看到jquery是如何写的ajax，只是在自己理解范围写了这个ajax。</p>\n<blockquote>\n<p>ajax.js</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div></pre></td><td class=\"code\"><pre><div class=\"line\">//requestParameter为一个JSON对象</div><div class=\"line\">var ajax=function(requestParameter)&#123;</div><div class=\"line\">\tvar requestObj = new XMLHttpRequest();</div><div class=\"line\">\tvar requestMethod=requestParameter.type.toLowerCase();</div><div class=\"line\">\t\tswitch(requestMethod)&#123;</div><div class=\"line\">\t\t\tcase &quot;get&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;post&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;options&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;head&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;put&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;detele&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;trace&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tdefault:</div><div class=\"line\">\t\t\t\tthrow(&quot;ajax:type don&apos;t null&quot;);</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\"></div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t//\t请求地址及请求方法设置</div><div class=\"line\">\tif (requestParameter.url) &#123;</div><div class=\"line\">\t\trequestObj.open(requestMethod,requestParameter.url);\t</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\tthrow(&quot;ajax:url don&apos;t null&quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//请求头</div><div class=\"line\">\tif (requestParameter.head) &#123;</div><div class=\"line\">\t\trequestObj.setRequestHeader(&apos;Content-type&apos;,requestParameter.head);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//请求参数，data为一个JSON对象并发送</div><div class=\"line\">\tif (requestParameter.data) &#123;</div><div class=\"line\">\t\tvar dataParameter=&quot;&quot;;</div><div class=\"line\">\t\tfor(var o in requestParameter.data)&#123;</div><div class=\"line\">\t\t\tdataParameter+=o+&quot;=&quot;+requestParameter.data[o]+&quot;&amp;&quot;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tdataParameter=dataParameter.substring(0,dataParameter.length-1)</div><div class=\"line\">\t\trequestObj.send(dataParameter);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//结果返回</div><div class=\"line\">\trequestObj.onreadystatechange=function()&#123;</div><div class=\"line\">\t\tvar result=&#123;</div><div class=\"line\">\t\t\tstatus:requestObj.status,</div><div class=\"line\">\t\t\tresult:requestObj.responseText</div><div class=\"line\">\t\t&#125;;</div><div class=\"line\">\t\tif (requestObj.readyState==4&amp;&amp;requestObj.status==200&amp;&amp;requestParameter.success) &#123;</div><div class=\"line\">\t\t\t requestParameter.success(result);</div><div class=\"line\">\t\t&#125;else if (requestObj.readyState==4&amp;&amp;requestParameter.error) &#123;</div><div class=\"line\">\t\t\trequestParameter.error(result);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t</div><div class=\"line\">\treturn requestObj;</div><div class=\"line\">\t</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h2 id=\"简单调用\"><a href=\"#简单调用\" class=\"headerlink\" title=\"简单调用\"></a>简单调用</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">&lt;html&gt;</div><div class=\"line\">&lt;head&gt;</div><div class=\"line\">\t&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class=\"line\">\t&lt;title&gt;测试&lt;/title&gt;\t</div><div class=\"line\">\t&lt;script src=&quot;ajax.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class=\"line\">&lt;/head&gt;</div><div class=\"line\">&lt;body&gt;</div><div class=\"line\">    &lt;!-- login(&apos;abc&apos;,&apos;123456&apos;) --&gt;</div><div class=\"line\">    &lt;input type=&quot;submit&quot; value=&quot;登录&quot; onclick=&quot;testLogin()&quot;/&gt;&lt;br&gt;</div><div class=\"line\">&lt;/body&gt;</div><div class=\"line\">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">//登录</div><div class=\"line\">function testLogin(username,pass)&#123;</div><div class=\"line\">    ajax(&#123;</div><div class=\"line\">    \turl:&quot;http://www.server.com&quot;,</div><div class=\"line\">    \ttype:&quot;post&quot;,</div><div class=\"line\">    \tdata:&#123;</div><div class=\"line\">    \t\tusername:username,</div><div class=\"line\">    \t\tpass:pass</div><div class=\"line\">    \t&#125;,</div><div class=\"line\">    \tsuccess:function(obj)&#123;</div><div class=\"line\">    \t\tconsole.log(&quot;index: 成功了，状态代码是&quot;+obj.status+&quot;返回结果&quot;+obj.result);</div><div class=\"line\">    \t&#125;,</div><div class=\"line\">    \terror:function(obj)&#123;</div><div class=\"line\">    \t\tconsole.log(&quot;index: 失败了，状态代码是&quot;+obj.status+&quot;返回结果&quot;+obj.result);</div><div class=\"line\">    \t&#125;</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\">&lt;/html&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>如果有觉得写不好，请在下方评论一起讨论</p>\n</blockquote>\n","excerpt":"<h1 id=\"javascript之模拟ajax\"><a href=\"#javascript之模拟ajax\" class=\"headerlink\" title=\"javascript之模拟ajax\"></a>javascript之模拟ajax</h1><h2 id=\"原javascript的异步请求方法\"><a href=\"#原javascript的异步请求方法\" class=\"headerlink\" title=\"原javascript的异步请求方法\"></a>原javascript的异步请求方法</h2><p>很多人可能一直用jquery封装好的ajax异步请求，可能不知道原生javascript是怎么异步请求的，javascript是用<code>XMLHttpRequest</code>来创建异步对象的，以下是简单的请求方法。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">  var ajax = new XMLHttpRequest();</div><div class=\"line\">  ajax.open(&apos;post&apos;,&apos;http://www.baidu.com&apos;);</div><div class=\"line\">  //因为是post请求所以必须加上setRequestHeader(get请求可以忽略)</div><div class=\"line\">  ajax.setRequestHeader(&apos;Content-type&apos;,&apos;text/plain;charset=UTF-8&apos;);</div><div class=\"line\">  //请求所带的参数</div><div class=\"line\">  ajax.send(&quot;username=123456&quot;);</div><div class=\"line\">  //绑定onreadystatechange事件</div><div class=\"line\">  ajax.onreadystatechange=function()&#123;</div><div class=\"line\">  //判断如果请求的状态是否成功</div><div class=\"line\">  \tif (ajax.readyState==4&amp;&amp;ajax.status==200) &#123;</div><div class=\"line\">  \t\t    console.log(&quot;请求的结果是&quot;+ajax.responseText);</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;;</div></pre></td></tr></table></figure></p>","more":"<h2 id=\"简单封装，便于理解\"><a href=\"#简单封装，便于理解\" class=\"headerlink\" title=\"简单封装，便于理解\"></a>简单封装，便于理解</h2><p>当然是我没有看到jquery是如何写的ajax，只是在自己理解范围写了这个ajax。</p>\n<blockquote>\n<p>ajax.js</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div></pre></td><td class=\"code\"><pre><div class=\"line\">//requestParameter为一个JSON对象</div><div class=\"line\">var ajax=function(requestParameter)&#123;</div><div class=\"line\">\tvar requestObj = new XMLHttpRequest();</div><div class=\"line\">\tvar requestMethod=requestParameter.type.toLowerCase();</div><div class=\"line\">\t\tswitch(requestMethod)&#123;</div><div class=\"line\">\t\t\tcase &quot;get&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;post&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;options&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;head&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;put&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;detele&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tcase &quot;trace&quot;:</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\">\t\t\tdefault:</div><div class=\"line\">\t\t\t\tthrow(&quot;ajax:type don&apos;t null&quot;);</div><div class=\"line\">\t\t\t\tbreak;</div><div class=\"line\"></div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t//\t请求地址及请求方法设置</div><div class=\"line\">\tif (requestParameter.url) &#123;</div><div class=\"line\">\t\trequestObj.open(requestMethod,requestParameter.url);\t</div><div class=\"line\">\t&#125;else&#123;</div><div class=\"line\">\t\tthrow(&quot;ajax:url don&apos;t null&quot;);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//请求头</div><div class=\"line\">\tif (requestParameter.head) &#123;</div><div class=\"line\">\t\trequestObj.setRequestHeader(&apos;Content-type&apos;,requestParameter.head);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//请求参数，data为一个JSON对象并发送</div><div class=\"line\">\tif (requestParameter.data) &#123;</div><div class=\"line\">\t\tvar dataParameter=&quot;&quot;;</div><div class=\"line\">\t\tfor(var o in requestParameter.data)&#123;</div><div class=\"line\">\t\t\tdataParameter+=o+&quot;=&quot;+requestParameter.data[o]+&quot;&amp;&quot;</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\tdataParameter=dataParameter.substring(0,dataParameter.length-1)</div><div class=\"line\">\t\trequestObj.send(dataParameter);</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t//结果返回</div><div class=\"line\">\trequestObj.onreadystatechange=function()&#123;</div><div class=\"line\">\t\tvar result=&#123;</div><div class=\"line\">\t\t\tstatus:requestObj.status,</div><div class=\"line\">\t\t\tresult:requestObj.responseText</div><div class=\"line\">\t\t&#125;;</div><div class=\"line\">\t\tif (requestObj.readyState==4&amp;&amp;requestObj.status==200&amp;&amp;requestParameter.success) &#123;</div><div class=\"line\">\t\t\t requestParameter.success(result);</div><div class=\"line\">\t\t&#125;else if (requestObj.readyState==4&amp;&amp;requestParameter.error) &#123;</div><div class=\"line\">\t\t\trequestParameter.error(result);</div><div class=\"line\">\t\t&#125;</div><div class=\"line\">\t\t</div><div class=\"line\">\t&#125;</div><div class=\"line\">\t</div><div class=\"line\">\treturn requestObj;</div><div class=\"line\">\t</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h2 id=\"简单调用\"><a href=\"#简单调用\" class=\"headerlink\" title=\"简单调用\"></a>简单调用</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;!DOCTYPE html&gt;</div><div class=\"line\">&lt;html&gt;</div><div class=\"line\">&lt;head&gt;</div><div class=\"line\">\t&lt;meta charset=&quot;utf-8&quot;&gt;</div><div class=\"line\">\t&lt;title&gt;测试&lt;/title&gt;\t</div><div class=\"line\">\t&lt;script src=&quot;ajax.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</div><div class=\"line\">&lt;/head&gt;</div><div class=\"line\">&lt;body&gt;</div><div class=\"line\">    &lt;!-- login(&apos;abc&apos;,&apos;123456&apos;) --&gt;</div><div class=\"line\">    &lt;input type=&quot;submit&quot; value=&quot;登录&quot; onclick=&quot;testLogin()&quot;/&gt;&lt;br&gt;</div><div class=\"line\">&lt;/body&gt;</div><div class=\"line\">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">//登录</div><div class=\"line\">function testLogin(username,pass)&#123;</div><div class=\"line\">    ajax(&#123;</div><div class=\"line\">    \turl:&quot;http://www.server.com&quot;,</div><div class=\"line\">    \ttype:&quot;post&quot;,</div><div class=\"line\">    \tdata:&#123;</div><div class=\"line\">    \t\tusername:username,</div><div class=\"line\">    \t\tpass:pass</div><div class=\"line\">    \t&#125;,</div><div class=\"line\">    \tsuccess:function(obj)&#123;</div><div class=\"line\">    \t\tconsole.log(&quot;index: 成功了，状态代码是&quot;+obj.status+&quot;返回结果&quot;+obj.result);</div><div class=\"line\">    \t&#125;,</div><div class=\"line\">    \terror:function(obj)&#123;</div><div class=\"line\">    \t\tconsole.log(&quot;index: 失败了，状态代码是&quot;+obj.status+&quot;返回结果&quot;+obj.result);</div><div class=\"line\">    \t&#125;</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;</div><div class=\"line\">&lt;/script&gt;</div><div class=\"line\">&lt;/html&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>如果有觉得写不好，请在下方评论一起讨论</p>\n</blockquote>"},{"title":"javatoexe之exe4j和innosetup打包jar","date":"2018-01-23T15:09:20.000Z","_content":"\n# 下面对几个重要配置进行说明\n## exe4j\n### APP名和输出路径配置\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-5fc0f33e35c8c0f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### 选择需要打包的jar\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-3a6bff67ad2a0ce7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n<!--more-->\n\n### 打包jre运行环境\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-e76be763e240f538.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### 其他配置不作解释，基本够用\n## innosetup\n\n>  前面的exe4j就像是生成了一个exe文件 ，然后为了exe配置了一些文件的路径位置，那么innosetup就是打包所有文件方便拷贝\n\n### 打包成安装包\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-a61506845f32147b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-7bf3f427aec191c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### innosetup配置文件\n> 图形界面配置完后会生成配置文件，点击comlipe就可以了，配置文件也可随心编写配置\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-9adfdab16511fe71.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n\n\n","source":"_posts/javatoexe之exe4j和innosetup打包jar.md","raw":"---\ntitle: javatoexe之exe4j和innosetup打包jar\ndate: 2018-01-23 23:09:20\ncategories:\n  - java\n  - javatoexe\ntags:\n  - javatoexe\n---\n\n# 下面对几个重要配置进行说明\n## exe4j\n### APP名和输出路径配置\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-5fc0f33e35c8c0f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### 选择需要打包的jar\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-3a6bff67ad2a0ce7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n<!--more-->\n\n### 打包jre运行环境\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-e76be763e240f538.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### 其他配置不作解释，基本够用\n## innosetup\n\n>  前面的exe4j就像是生成了一个exe文件 ，然后为了exe配置了一些文件的路径位置，那么innosetup就是打包所有文件方便拷贝\n\n### 打包成安装包\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-a61506845f32147b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-7bf3f427aec191c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n### innosetup配置文件\n> 图形界面配置完后会生成配置文件，点击comlipe就可以了，配置文件也可随心编写配置\n![image.png](http://upload-images.jianshu.io/upload_images/2641470-9adfdab16511fe71.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n\n\n\n\n","slug":"javatoexe之exe4j和innosetup打包jar","published":1,"updated":"2018-01-23T15:10:34.420Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3amn001oa0usbngs99n5","content":"<h1 id=\"下面对几个重要配置进行说明\"><a href=\"#下面对几个重要配置进行说明\" class=\"headerlink\" title=\"下面对几个重要配置进行说明\"></a>下面对几个重要配置进行说明</h1><h2 id=\"exe4j\"><a href=\"#exe4j\" class=\"headerlink\" title=\"exe4j\"></a>exe4j</h2><h3 id=\"APP名和输出路径配置\"><a href=\"#APP名和输出路径配置\" class=\"headerlink\" title=\"APP名和输出路径配置\"></a>APP名和输出路径配置</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-5fc0f33e35c8c0f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"选择需要打包的jar\"><a href=\"#选择需要打包的jar\" class=\"headerlink\" title=\"选择需要打包的jar\"></a>选择需要打包的jar</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-3a6bff67ad2a0ce7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<a id=\"more\"></a>\n<h3 id=\"打包jre运行环境\"><a href=\"#打包jre运行环境\" class=\"headerlink\" title=\"打包jre运行环境\"></a>打包jre运行环境</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-e76be763e240f538.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"其他配置不作解释，基本够用\"><a href=\"#其他配置不作解释，基本够用\" class=\"headerlink\" title=\"其他配置不作解释，基本够用\"></a>其他配置不作解释，基本够用</h3><h2 id=\"innosetup\"><a href=\"#innosetup\" class=\"headerlink\" title=\"innosetup\"></a>innosetup</h2><blockquote>\n<p> 前面的exe4j就像是生成了一个exe文件 ，然后为了exe配置了一些文件的路径位置，那么innosetup就是打包所有文件方便拷贝</p>\n</blockquote>\n<h3 id=\"打包成安装包\"><a href=\"#打包成安装包\" class=\"headerlink\" title=\"打包成安装包\"></a>打包成安装包</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-a61506845f32147b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"http://upload-images.jianshu.io/upload_images/2641470-7bf3f427aec191c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"innosetup配置文件\"><a href=\"#innosetup配置文件\" class=\"headerlink\" title=\"innosetup配置文件\"></a>innosetup配置文件</h3><blockquote>\n<p>图形界面配置完后会生成配置文件，点击comlipe就可以了，配置文件也可随心编写配置<br><img src=\"http://upload-images.jianshu.io/upload_images/2641470-9adfdab16511fe71.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</blockquote>\n","excerpt":"<h1 id=\"下面对几个重要配置进行说明\"><a href=\"#下面对几个重要配置进行说明\" class=\"headerlink\" title=\"下面对几个重要配置进行说明\"></a>下面对几个重要配置进行说明</h1><h2 id=\"exe4j\"><a href=\"#exe4j\" class=\"headerlink\" title=\"exe4j\"></a>exe4j</h2><h3 id=\"APP名和输出路径配置\"><a href=\"#APP名和输出路径配置\" class=\"headerlink\" title=\"APP名和输出路径配置\"></a>APP名和输出路径配置</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-5fc0f33e35c8c0f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"选择需要打包的jar\"><a href=\"#选择需要打包的jar\" class=\"headerlink\" title=\"选择需要打包的jar\"></a>选择需要打包的jar</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-3a6bff67ad2a0ce7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>","more":"<h3 id=\"打包jre运行环境\"><a href=\"#打包jre运行环境\" class=\"headerlink\" title=\"打包jre运行环境\"></a>打包jre运行环境</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-e76be763e240f538.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"其他配置不作解释，基本够用\"><a href=\"#其他配置不作解释，基本够用\" class=\"headerlink\" title=\"其他配置不作解释，基本够用\"></a>其他配置不作解释，基本够用</h3><h2 id=\"innosetup\"><a href=\"#innosetup\" class=\"headerlink\" title=\"innosetup\"></a>innosetup</h2><blockquote>\n<p> 前面的exe4j就像是生成了一个exe文件 ，然后为了exe配置了一些文件的路径位置，那么innosetup就是打包所有文件方便拷贝</p>\n</blockquote>\n<h3 id=\"打包成安装包\"><a href=\"#打包成安装包\" class=\"headerlink\" title=\"打包成安装包\"></a>打包成安装包</h3><p><img src=\"http://upload-images.jianshu.io/upload_images/2641470-a61506845f32147b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"http://upload-images.jianshu.io/upload_images/2641470-7bf3f427aec191c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<h3 id=\"innosetup配置文件\"><a href=\"#innosetup配置文件\" class=\"headerlink\" title=\"innosetup配置文件\"></a>innosetup配置文件</h3><blockquote>\n<p>图形界面配置完后会生成配置文件，点击comlipe就可以了，配置文件也可随心编写配置<br><img src=\"http://upload-images.jianshu.io/upload_images/2641470-9adfdab16511fe71.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</blockquote>"},{"title":"tomcat之如何让tomcat运行在指定JDK环境上","date":"2018-05-21T22:51:25.000Z","_content":"# 参考链接\n[tomcat下指定jdk——百度经验](https://jingyan.baidu.com/article/066074d62d371cc3c21cb0ec.html)\n# 正文\n## 概述\n我与参考链接中的不太一样，我是嫌麻烦的，直接在环境变量中新建了一个。\n## 设置环境变量\n\n1. 变量名可以自定义的，因为我的是tomcat6，所以我准备使用JDK6。  \n\n![设置环境变量](https://upload-images.jianshu.io/upload_images/2641470-7d05d047beb0981d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)  \n\n<!-- more -->\n\n2.  编辑`PATH` 变量，`%JAVA6_HOME%\\bin;%JAVA6_HOME%\\jre\\bin;`\n\n![编辑`PATH` 变量](https://upload-images.jianshu.io/upload_images/2641470-aa6096ff424aadc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## 编辑tomcat的catalina.bat文件\n\n将`echo Using JAVA_HOME:       \"%JAVA_HOME%\"`修改为`echo Using JAVA_HOME:       \"%JAVA6_HOME%\"`\n\n## 编辑setclasspath.bat\n\n```\n# 这个是原代码\nif not \"%JAVA_HOME%\" == \"\" goto gotJdkHome\n# 忽略大部分代码……………………………………………………………………\n:gotJdkHome\nif not exist \"%JAVA_HOME%\\bin\\java.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\javaw.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\jdb.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\javac.exe\" goto noJavaHome\nif not \"%JRE_HOME%\" == \"\" goto okJavaHome\nset \"JRE_HOME=%JAVA_HOME%\"\n# 忽略大部分代码……………………………………………………………………\nset _RUNJDB=\"%JAVA_HOME%\\bin\\jdb.exe\"\n```\n\n```\n# 这个是修改后的代码\nif not \"%JAVA6_HOME%\" == \"\" goto gotJdkHome\n# 忽略大部分代码……………………………………………………………………\n:gotJdkHome\nif not exist \"%JAVA6_HOME%\\bin\\java.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\javaw.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\jdb.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\javac.exe\" goto noJavaHome # 需要修改的地方\nif not \"%JRE_HOME%\" == \"\" goto okJavaHome\nset \"JRE_HOME=%JAVA6_HOME%\" # 需要修改的地方\n# 忽略大部分代码……………………………………………………………………\nset _RUNJDB=\"%JAVA6_HOME%\\bin\\jdb.exe\"# 需要修改的地方\n```\n","source":"_posts/tomcat之如何让tomcat运行在指定JDK环境上.md","raw":"---\ntitle: tomcat之如何让tomcat运行在指定JDK环境上\ndate: 2018-05-22 06:51:25\ncategories:\n  - server\n  - tomcat\ntags:\n  - tomcat\n---\n# 参考链接\n[tomcat下指定jdk——百度经验](https://jingyan.baidu.com/article/066074d62d371cc3c21cb0ec.html)\n# 正文\n## 概述\n我与参考链接中的不太一样，我是嫌麻烦的，直接在环境变量中新建了一个。\n## 设置环境变量\n\n1. 变量名可以自定义的，因为我的是tomcat6，所以我准备使用JDK6。  \n\n![设置环境变量](https://upload-images.jianshu.io/upload_images/2641470-7d05d047beb0981d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)  \n\n<!-- more -->\n\n2.  编辑`PATH` 变量，`%JAVA6_HOME%\\bin;%JAVA6_HOME%\\jre\\bin;`\n\n![编辑`PATH` 变量](https://upload-images.jianshu.io/upload_images/2641470-aa6096ff424aadc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## 编辑tomcat的catalina.bat文件\n\n将`echo Using JAVA_HOME:       \"%JAVA_HOME%\"`修改为`echo Using JAVA_HOME:       \"%JAVA6_HOME%\"`\n\n## 编辑setclasspath.bat\n\n```\n# 这个是原代码\nif not \"%JAVA_HOME%\" == \"\" goto gotJdkHome\n# 忽略大部分代码……………………………………………………………………\n:gotJdkHome\nif not exist \"%JAVA_HOME%\\bin\\java.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\javaw.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\jdb.exe\" goto noJavaHome\nif not exist \"%JAVA_HOME%\\bin\\javac.exe\" goto noJavaHome\nif not \"%JRE_HOME%\" == \"\" goto okJavaHome\nset \"JRE_HOME=%JAVA_HOME%\"\n# 忽略大部分代码……………………………………………………………………\nset _RUNJDB=\"%JAVA_HOME%\\bin\\jdb.exe\"\n```\n\n```\n# 这个是修改后的代码\nif not \"%JAVA6_HOME%\" == \"\" goto gotJdkHome\n# 忽略大部分代码……………………………………………………………………\n:gotJdkHome\nif not exist \"%JAVA6_HOME%\\bin\\java.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\javaw.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\jdb.exe\" goto noJavaHome # 需要修改的地方\nif not exist \"%JAVA6_HOME%\\bin\\javac.exe\" goto noJavaHome # 需要修改的地方\nif not \"%JRE_HOME%\" == \"\" goto okJavaHome\nset \"JRE_HOME=%JAVA6_HOME%\" # 需要修改的地方\n# 忽略大部分代码……………………………………………………………………\nset _RUNJDB=\"%JAVA6_HOME%\\bin\\jdb.exe\"# 需要修改的地方\n```\n","slug":"tomcat之如何让tomcat运行在指定JDK环境上","published":1,"updated":"2018-05-21T23:04:07.783Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3amq001qa0us2nto48la","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"https://jingyan.baidu.com/article/066074d62d371cc3c21cb0ec.html\" target=\"_blank\" rel=\"external\">tomcat下指定jdk——百度经验</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>我与参考链接中的不太一样，我是嫌麻烦的，直接在环境变量中新建了一个。</p>\n<h2 id=\"设置环境变量\"><a href=\"#设置环境变量\" class=\"headerlink\" title=\"设置环境变量\"></a>设置环境变量</h2><ol>\n<li>变量名可以自定义的，因为我的是tomcat6，所以我准备使用JDK6。  </li>\n</ol>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/2641470-7d05d047beb0981d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"设置环境变量\">  </p>\n<a id=\"more\"></a>\n<ol>\n<li>编辑<code>PATH</code> 变量，<code>%JAVA6_HOME%\\bin;%JAVA6_HOME%\\jre\\bin;</code></li>\n</ol>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/2641470-aa6096ff424aadc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"编辑`PATH` 变量\"></p>\n<h2 id=\"编辑tomcat的catalina-bat文件\"><a href=\"#编辑tomcat的catalina-bat文件\" class=\"headerlink\" title=\"编辑tomcat的catalina.bat文件\"></a>编辑tomcat的catalina.bat文件</h2><p>将<code>echo Using JAVA_HOME:       &quot;%JAVA_HOME%&quot;</code>修改为<code>echo Using JAVA_HOME:       &quot;%JAVA6_HOME%&quot;</code></p>\n<h2 id=\"编辑setclasspath-bat\"><a href=\"#编辑setclasspath-bat\" class=\"headerlink\" title=\"编辑setclasspath.bat\"></a>编辑setclasspath.bat</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 这个是原代码</div><div class=\"line\">if not &quot;%JAVA_HOME%&quot; == &quot;&quot; goto gotJdkHome</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">:gotJdkHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\javaw.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\jdb.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\javac.exe&quot; goto noJavaHome</div><div class=\"line\">if not &quot;%JRE_HOME%&quot; == &quot;&quot; goto okJavaHome</div><div class=\"line\">set &quot;JRE_HOME=%JAVA_HOME%&quot;</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">set _RUNJDB=&quot;%JAVA_HOME%\\bin\\jdb.exe&quot;</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 这个是修改后的代码</div><div class=\"line\">if not &quot;%JAVA6_HOME%&quot; == &quot;&quot; goto gotJdkHome</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">:gotJdkHome</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\java.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\javaw.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\jdb.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\javac.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not &quot;%JRE_HOME%&quot; == &quot;&quot; goto okJavaHome</div><div class=\"line\">set &quot;JRE_HOME=%JAVA6_HOME%&quot; # 需要修改的地方</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">set _RUNJDB=&quot;%JAVA6_HOME%\\bin\\jdb.exe&quot;# 需要修改的地方</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"https://jingyan.baidu.com/article/066074d62d371cc3c21cb0ec.html\">tomcat下指定jdk——百度经验</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>我与参考链接中的不太一样，我是嫌麻烦的，直接在环境变量中新建了一个。</p>\n<h2 id=\"设置环境变量\"><a href=\"#设置环境变量\" class=\"headerlink\" title=\"设置环境变量\"></a>设置环境变量</h2><ol>\n<li>变量名可以自定义的，因为我的是tomcat6，所以我准备使用JDK6。  </li>\n</ol>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/2641470-7d05d047beb0981d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"设置环境变量\">  </p>","more":"<ol>\n<li>编辑<code>PATH</code> 变量，<code>%JAVA6_HOME%\\bin;%JAVA6_HOME%\\jre\\bin;</code></li>\n</ol>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/2641470-aa6096ff424aadc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"编辑`PATH` 变量\"></p>\n<h2 id=\"编辑tomcat的catalina-bat文件\"><a href=\"#编辑tomcat的catalina-bat文件\" class=\"headerlink\" title=\"编辑tomcat的catalina.bat文件\"></a>编辑tomcat的catalina.bat文件</h2><p>将<code>echo Using JAVA_HOME:       &quot;%JAVA_HOME%&quot;</code>修改为<code>echo Using JAVA_HOME:       &quot;%JAVA6_HOME%&quot;</code></p>\n<h2 id=\"编辑setclasspath-bat\"><a href=\"#编辑setclasspath-bat\" class=\"headerlink\" title=\"编辑setclasspath.bat\"></a>编辑setclasspath.bat</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 这个是原代码</div><div class=\"line\">if not &quot;%JAVA_HOME%&quot; == &quot;&quot; goto gotJdkHome</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">:gotJdkHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\javaw.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\jdb.exe&quot; goto noJavaHome</div><div class=\"line\">if not exist &quot;%JAVA_HOME%\\bin\\javac.exe&quot; goto noJavaHome</div><div class=\"line\">if not &quot;%JRE_HOME%&quot; == &quot;&quot; goto okJavaHome</div><div class=\"line\">set &quot;JRE_HOME=%JAVA_HOME%&quot;</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">set _RUNJDB=&quot;%JAVA_HOME%\\bin\\jdb.exe&quot;</div></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 这个是修改后的代码</div><div class=\"line\">if not &quot;%JAVA6_HOME%&quot; == &quot;&quot; goto gotJdkHome</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">:gotJdkHome</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\java.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\javaw.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\jdb.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not exist &quot;%JAVA6_HOME%\\bin\\javac.exe&quot; goto noJavaHome # 需要修改的地方</div><div class=\"line\">if not &quot;%JRE_HOME%&quot; == &quot;&quot; goto okJavaHome</div><div class=\"line\">set &quot;JRE_HOME=%JAVA6_HOME%&quot; # 需要修改的地方</div><div class=\"line\"># 忽略大部分代码……………………………………………………………………</div><div class=\"line\">set _RUNJDB=&quot;%JAVA6_HOME%\\bin\\jdb.exe&quot;# 需要修改的地方</div></pre></td></tr></table></figure>"},{"title":"oracle之partition by与group by的区别","date":"2018-01-10T14:58:39.000Z","_content":"# 正文\n## 前言\n> 先来看两个表\n\n* 主表(webcheck——存储网站记录)\n\n|  webcheckid   | website       | \n| :-------------:|:-------------:| \n| 1 | www.baidu.com   | \n| 2 | www.google.com |\n| 3 | www.soso.com |\n\n* 副表(webrecord——访问网站记录表)\n\n| webrecordid   |webcheckid | access_state  | access_date|\n| :-------------:|:-------------:|:-------------:| :-------------:| \n| 1         | 1  |  成功  | 2018-01-10 18:03:49  |\n| 2         | 1| 成功  | 2018-01-09 18:03:49  |\n| 3         | 2| 失败 | 2018-01-11 18:03:49  |\n> 我想要关联副表，**查询每个网站最新访问记录**，即使**网站没有访问记录，也要能查询出来**\n> \n<!--more-->\n\n* 预计实现效果为\n\n| webcheckid|website|webrecordid| access_state| access_date|\n| :-----:|:----------:|:---------:| :---------:|  :---------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  |\n| 2     | www.google.com | 3| 失败  | 2018-01-11 18:03:49  |\n| 3     | www.soso.com | |  |  |\n```\n--以下是错误的sql，唯一难住我的是就是关联查询最新记录了，之前想当然地用group by来分组获取最新记录，但是会报错，group by的字段必须与查询的字段相对应，除非是聚合函数包裹着\nselect a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID \ngroup by b.WEBCHECKID,b.access_date having b.access_state=max(b.access_state) \n--报错不是group by 的表达式      \n```\n> 改为使用以下语句\n```\nrow_number() over(partition by b.webcheckid order by b.access_date desc) \n\n--partition by 按字段分组\n--order by 分组，按组内排序，desc即最新在第一条\n--row_number() 按分组内的行个数，生成行号；1,2,3，……\n```\n> 推出新的sql\n\n```\n--行号作为新字段,并用一个新select包裹，获取第一行数据，即为新记录\nselect * from ( \n         select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date,  \n         \n         row_number() over(partition by b.webcheckid order by b.access_date desc) as ran\n          from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID \n        ) where recordid is  null or ran=1\n```\n\n> -- `recordid is  null `是为了防止当前webrecord表里面没有数据，行号数据为混乱，行号此时就无法作为判断条件\n\n* 例如当soso和google在webrecord没有访问记录时，错误实现效果为，soso这一数据没有显示出来\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 2     | www.google.com | |   |  |  1 |\n\n* 去外部条件，我们来看看效果，可以看到soso的行号为2，明显不正常，故需要增加 `recordid is  null `，并需要`or`条件\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 1     | www.baidu.com | 1  |  成功  | 2018-01-09 18:03:49  | 2  |\n| 2     | www.google.com | |   |  |  1 |\n| 1     | www.soso.com |   |    |   | 2  |\n\n\n# 成功实现效果为\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 2     | www.google.com | 3|  失败 | 2018-01-11 18:03:49 |  1 |\n| 3 | www.soso.com |   |    |   | 2 |\n","source":"_posts/oracle之partition-by与group-by的区别.md","raw":"---\ntitle: oracle之partition by与group by的区别\ndate: 2018-01-10 22:58:39\ncategories:\n  - oralce\n  - sql\ntags:\n  - oralce\n  - sql\n---\n# 正文\n## 前言\n> 先来看两个表\n\n* 主表(webcheck——存储网站记录)\n\n|  webcheckid   | website       | \n| :-------------:|:-------------:| \n| 1 | www.baidu.com   | \n| 2 | www.google.com |\n| 3 | www.soso.com |\n\n* 副表(webrecord——访问网站记录表)\n\n| webrecordid   |webcheckid | access_state  | access_date|\n| :-------------:|:-------------:|:-------------:| :-------------:| \n| 1         | 1  |  成功  | 2018-01-10 18:03:49  |\n| 2         | 1| 成功  | 2018-01-09 18:03:49  |\n| 3         | 2| 失败 | 2018-01-11 18:03:49  |\n> 我想要关联副表，**查询每个网站最新访问记录**，即使**网站没有访问记录，也要能查询出来**\n> \n<!--more-->\n\n* 预计实现效果为\n\n| webcheckid|website|webrecordid| access_state| access_date|\n| :-----:|:----------:|:---------:| :---------:|  :---------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  |\n| 2     | www.google.com | 3| 失败  | 2018-01-11 18:03:49  |\n| 3     | www.soso.com | |  |  |\n```\n--以下是错误的sql，唯一难住我的是就是关联查询最新记录了，之前想当然地用group by来分组获取最新记录，但是会报错，group by的字段必须与查询的字段相对应，除非是聚合函数包裹着\nselect a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID \ngroup by b.WEBCHECKID,b.access_date having b.access_state=max(b.access_state) \n--报错不是group by 的表达式      \n```\n> 改为使用以下语句\n```\nrow_number() over(partition by b.webcheckid order by b.access_date desc) \n\n--partition by 按字段分组\n--order by 分组，按组内排序，desc即最新在第一条\n--row_number() 按分组内的行个数，生成行号；1,2,3，……\n```\n> 推出新的sql\n\n```\n--行号作为新字段,并用一个新select包裹，获取第一行数据，即为新记录\nselect * from ( \n         select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date,  \n         \n         row_number() over(partition by b.webcheckid order by b.access_date desc) as ran\n          from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID \n        ) where recordid is  null or ran=1\n```\n\n> -- `recordid is  null `是为了防止当前webrecord表里面没有数据，行号数据为混乱，行号此时就无法作为判断条件\n\n* 例如当soso和google在webrecord没有访问记录时，错误实现效果为，soso这一数据没有显示出来\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 2     | www.google.com | |   |  |  1 |\n\n* 去外部条件，我们来看看效果，可以看到soso的行号为2，明显不正常，故需要增加 `recordid is  null `，并需要`or`条件\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 1     | www.baidu.com | 1  |  成功  | 2018-01-09 18:03:49  | 2  |\n| 2     | www.google.com | |   |  |  1 |\n| 1     | www.soso.com |   |    |   | 2  |\n\n\n# 成功实现效果为\n\n| webcheckid|website|webrecordid| access_state| access_date|ran|\n| :---:|:---:|:----:| :----:|  :------:| :-------:| \n| 1     | www.baidu.com | 1  |  成功  | 2018-01-10 18:03:49  | 1  |\n| 2     | www.google.com | 3|  失败 | 2018-01-11 18:03:49 |  1 |\n| 3 | www.soso.com |   |    |   | 2 |\n","slug":"oracle之partition-by与group-by的区别","published":1,"updated":"2018-01-10T15:10:49.980Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3amt001ta0us8r0pz07e","content":"<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><blockquote>\n<p>先来看两个表</p>\n</blockquote>\n<ul>\n<li>主表(webcheck——存储网站记录)</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>副表(webrecord——访问网站记录表)</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-09 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>我想要关联副表，<strong>查询每个网站最新访问记录</strong>，即使<strong>网站没有访问记录，也要能查询出来</strong></p>\n<a id=\"more\"></a>\n</blockquote>\n<ul>\n<li>预计实现效果为</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">--以下是错误的sql，唯一难住我的是就是关联查询最新记录了，之前想当然地用group by来分组获取最新记录，但是会报错，group by的字段必须与查询的字段相对应，除非是聚合函数包裹着</div><div class=\"line\">select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID </div><div class=\"line\">group by b.WEBCHECKID,b.access_date having b.access_state=max(b.access_state) </div><div class=\"line\">--报错不是group by 的表达式</div></pre></td></tr></table></figure>\n<blockquote>\n<p>改为使用以下语句<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">row_number() over(partition by b.webcheckid order by b.access_date desc) </div><div class=\"line\"></div><div class=\"line\">--partition by 按字段分组</div><div class=\"line\">--order by 分组，按组内排序，desc即最新在第一条</div><div class=\"line\">--row_number() 按分组内的行个数，生成行号；1,2,3，……</div></pre></td></tr></table></figure></p>\n<p>推出新的sql</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">--行号作为新字段,并用一个新select包裹，获取第一行数据，即为新记录</div><div class=\"line\">select * from ( </div><div class=\"line\">         select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date,  </div><div class=\"line\">         </div><div class=\"line\">         row_number() over(partition by b.webcheckid order by b.access_date desc) as ran</div><div class=\"line\">          from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID </div><div class=\"line\">        ) where recordid is  null or ran=1</div></pre></td></tr></table></figure>\n<blockquote>\n<p>– <code>recordid is  null</code>是为了防止当前webrecord表里面没有数据，行号数据为混乱，行号此时就无法作为判断条件</p>\n</blockquote>\n<ul>\n<li>例如当soso和google在webrecord没有访问记录时，错误实现效果为，soso这一数据没有显示出来</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>去外部条件，我们来看看效果，可以看到soso的行号为2，明显不正常，故需要增加 <code>recordid is  null</code>，并需要<code>or</code>条件</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-09 18:03:49</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"成功实现效果为\"><a href=\"#成功实现效果为\" class=\"headerlink\" title=\"成功实现效果为\"></a>成功实现效果为</h1><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n</tr>\n</tbody>\n</table>\n","excerpt":"<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><blockquote>\n<p>先来看两个表</p>\n</blockquote>\n<ul>\n<li>主表(webcheck——存储网站记录)</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>副表(webrecord——访问网站记录表)</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-09 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>我想要关联副表，<strong>查询每个网站最新访问记录</strong>，即使<strong>网站没有访问记录，也要能查询出来</strong></p></blockquote>","more":"\n<ul>\n<li>预计实现效果为</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">--以下是错误的sql，唯一难住我的是就是关联查询最新记录了，之前想当然地用group by来分组获取最新记录，但是会报错，group by的字段必须与查询的字段相对应，除非是聚合函数包裹着</div><div class=\"line\">select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID </div><div class=\"line\">group by b.WEBCHECKID,b.access_date having b.access_state=max(b.access_state) </div><div class=\"line\">--报错不是group by 的表达式</div></pre></td></tr></table></figure>\n<blockquote>\n<p>改为使用以下语句<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">row_number() over(partition by b.webcheckid order by b.access_date desc) </div><div class=\"line\"></div><div class=\"line\">--partition by 按字段分组</div><div class=\"line\">--order by 分组，按组内排序，desc即最新在第一条</div><div class=\"line\">--row_number() 按分组内的行个数，生成行号；1,2,3，……</div></pre></td></tr></table></figure></p>\n<p>推出新的sql</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">--行号作为新字段,并用一个新select包裹，获取第一行数据，即为新记录</div><div class=\"line\">select * from ( </div><div class=\"line\">         select a.WEBCHECKID,a.WEBSITE,b.RECORDID,b.access_state,b.access_date,  </div><div class=\"line\">         </div><div class=\"line\">         row_number() over(partition by b.webcheckid order by b.access_date desc) as ran</div><div class=\"line\">          from TFSWXTS_WEBCHECK a left join TFSWXTS_WEBRECORD b on a.WEBCHECKID=b.WEBCHECKID </div><div class=\"line\">        ) where recordid is  null or ran=1</div></pre></td></tr></table></figure>\n<blockquote>\n<p>– <code>recordid is  null</code>是为了防止当前webrecord表里面没有数据，行号数据为混乱，行号此时就无法作为判断条件</p>\n</blockquote>\n<ul>\n<li>例如当soso和google在webrecord没有访问记录时，错误实现效果为，soso这一数据没有显示出来</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>去外部条件，我们来看看效果，可以看到soso的行号为2，明显不正常，故需要增加 <code>recordid is  null</code>，并需要<code>or</code>条件</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-09 18:03:49</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"成功实现效果为\"><a href=\"#成功实现效果为\" class=\"headerlink\" title=\"成功实现效果为\"></a>成功实现效果为</h1><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">webcheckid</th>\n<th style=\"text-align:center\">website</th>\n<th style=\"text-align:center\">webrecordid</th>\n<th style=\"text-align:center\">access_state</th>\n<th style=\"text-align:center\">access_date</th>\n<th style=\"text-align:center\">ran</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">www.baidu.com</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">成功</td>\n<td style=\"text-align:center\">2018-01-10 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">www.google.com</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">失败</td>\n<td style=\"text-align:center\">2018-01-11 18:03:49</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">www.soso.com</td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\"></td>\n<td style=\"text-align:center\">2</td>\n</tr>\n</tbody>\n</table>"},{"title":"viewpager在最后一页滑动之后，跳转到主页面","date":"2018-05-26T14:52:01.000Z","_content":"\n# viewpager在最后一页滑动之后，跳转到主页面\n\n## 思路\n\n主要有是两个监听，\n一是addOnPageChangeListener();二是setOnTouchListener()；\n\naddOnPageChangeListener()主要是为了获取position(滑动到了第几页)\n\nsetOnTouchListener()主要是判断在最后一页中是否向左滑动了，然后进入主页\n\n<!-- more -->\n\n## 主要功能代码\n### addOnPageChangeListener();\n\n```\nviewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                currentItem = position;//获取位置，即第几页\n                Log.i(\"Guide\",\"监听改变\"+position);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n        });\n```\n### setOnTouchListener()；\n\n```\nviewPager.setOnTouchListener(new View.OnTouchListener() {\n            float startX;\n            float startY;//没有用到\n            float endX;\n            float endY;//没有用到\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()){\n                    case MotionEvent.ACTION_DOWN:\n                        startX=event.getX();\n                        startY=event.getY();\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        endX=event.getX();\n                        endY=event.getY();\n                     WindowManager windowManager= (WindowManager)                                   getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n       \n                        //获取屏幕的宽度\n                 Point size = new Point();\n                 windowManager.getDefaultDisplay().getSize(size);\n                        int width=size.x;\n                        \n //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）\nif(currentItem==(imageViews.size()-1)&&startX-endX>=(width/4)){\n       Log.i(LOG,\"进入了触摸\");\n       goToMainActivity();//进入主页\n                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);//这部分代码是切换Activity时的动画，看起来就不会很生硬\n                        }\n                        break;\n                }\n                return false;\n            }\n        });\n```\n## 以下是全部代码\n### GuideActivity\n\n```\npackage com.tc.mobileshop;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Point;\nimport android.support.v4.view.PagerAdapter;\nimport android.support.v4.view.ViewPager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.widget.ImageView;\n\nimport com.tc.mobileshop.utils.DisplayUtils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GuideActivity extends AppCompatActivity {\n    private static final String LOG = \"GuideActivity\";\n    int touchCount;\n    int currentItem;\n    List<Integer> imageIDList;\n    List<ImageView> imageViews;\n    ViewPager viewPager;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_guide);\n        //初始化引导数据\n        initGuideData();\n        //初始化引导页\n        initGuideView();\n        //初始化分页控件\n        iniView();\n    }\n\n\n    /**\n     * 初始化引导页数据\n     */\n    private void initGuideData() {\n        imageIDList = new ArrayList();\n        imageIDList.add(R.mipmap.apk_img1);\n        imageIDList.add(R.mipmap.apk_img2);\n        imageIDList.add(R.mipmap.apk_img3);\n    }\n\n    /**\n     * 初始化引导页\n     */\n    private void initGuideView() {\n        imageViews = new ArrayList<>();\n        for (int i = 0; i < imageIDList.size(); i++) {\n            imageViews.add(new ImageView(this));\n        }\n    }\n\n    /**\n     * 初始化分页控件\n     */\n    private void iniView() {\n        viewPager = (ViewPager) findViewById(R.id.guide_pager);\n        viewPager.setAdapter(new GuideAdapter());\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                currentItem = position;\n                Log.i(\"Guide\",\"监听改变\"+position);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n        });\n        viewPager.setOnTouchListener(new View.OnTouchListener() {\n            float startX;\n            float startY;\n            float endX;\n            float endY;\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()){\n                    case MotionEvent.ACTION_DOWN:\n                        startX=event.getX();\n                        startY=event.getY();\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        endX=event.getX();\n                        endY=event.getY();\n                        WindowManager windowManager= (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n                        //获取屏幕的宽度\n                        Point size = new Point();\n                        windowManager.getDefaultDisplay().getSize(size);\n                        int width=size.x;\n                        //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）\n                        if(currentItem==(imageViews.size()-1)&&startX-endX>0&&startX-endX>=(width/4)){\n                            Log.i(LOG,\"进入了触摸\");\n                            goToMainActivity();\n                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);\n                        }\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    private void goToMainActivity() {\n        Intent intent=new Intent(this,MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n\n    /**\n     * Viewpager适配器\n     */\n    private class GuideAdapter extends PagerAdapter {\n\n        @Override\n        public int getCount() {\n            return imageViews.size();\n        }\n\n        /**\n         * 判断当前分页是不是view\n         * 由于ViewPager里面的分页可以填入Fragment\n         *\n         * @param view\n         * @param object\n         * @return\n         */\n        @Override\n        public boolean isViewFromObject(View view, Object object) {\n            return view == object;\n        }\n\n        /**\n         * 清理内存\n         * 从第一页滑动到第二页，此时第一页的内存应该释放\n         *\n         * @param container\n         * @param position\n         * @param object\n         */\n        @Override\n        public void destroyItem(ViewGroup container, int position, Object object) {\n           container.removeView(imageViews.get(position));//释放滑动过后的前一页\n        }\n\n        /**\n         * 得到---->暂时是没有用的\n         *\n         * @param object\n         * @return\n         */\n        @Override\n        public int getItemPosition(Object object) {\n            return super.getItemPosition(object);\n        }\n\n        /**\n         * 初始化分页\n         *\n         * @param container\n         * @param position\n         * @return\n         */\n        @Override\n        public Object instantiateItem(ViewGroup container, int position) {\n            ImageView imageView = imageViews.get(position);\n            imageView.setImageResource(imageIDList.get(position));\n            ViewGroup.LayoutParams viewLayoutParams = new ViewGroup.LayoutParams\n                    (\n                            DisplayUtils.dip2px(GuideActivity.this, 170),\n                            DisplayUtils.dip2px(GuideActivity.this, 200)\n                    );\n            container.addView(imageView,viewLayoutParams);//设置图片的宽高\n\n            return imageView;\n        }\n    }\n}\n\n```\n### 以下为动画资源代码\n#### slide_in_left.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <translate\n        android:duration=\"1000\"\n        android:fromXDelta=\"0%p\"\n        android:toXDelta=\"-100%\"\n        />\n\n</set>\n```\n####slide_in_right.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <translate\n        android:duration=\"1000\"\n        android:fromXDelta=\"100%p\"\n        android:toXDelta=\"0\"\n        />\n\n</set>\n```\n#### 以下是动画效果\n![这里写图片描述](viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif)","source":"_posts/viewpager在最后一页滑动之后，跳转到主页面.md","raw":"---\ntitle: viewpager在最后一页滑动之后，跳转到主页面\ndate: 2018-05-26 22:52:01\ncategories:\n  - android\n  - widget\ntags:\n  - android\n  - widget\n---\n\n# viewpager在最后一页滑动之后，跳转到主页面\n\n## 思路\n\n主要有是两个监听，\n一是addOnPageChangeListener();二是setOnTouchListener()；\n\naddOnPageChangeListener()主要是为了获取position(滑动到了第几页)\n\nsetOnTouchListener()主要是判断在最后一页中是否向左滑动了，然后进入主页\n\n<!-- more -->\n\n## 主要功能代码\n### addOnPageChangeListener();\n\n```\nviewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                currentItem = position;//获取位置，即第几页\n                Log.i(\"Guide\",\"监听改变\"+position);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n        });\n```\n### setOnTouchListener()；\n\n```\nviewPager.setOnTouchListener(new View.OnTouchListener() {\n            float startX;\n            float startY;//没有用到\n            float endX;\n            float endY;//没有用到\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()){\n                    case MotionEvent.ACTION_DOWN:\n                        startX=event.getX();\n                        startY=event.getY();\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        endX=event.getX();\n                        endY=event.getY();\n                     WindowManager windowManager= (WindowManager)                                   getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n       \n                        //获取屏幕的宽度\n                 Point size = new Point();\n                 windowManager.getDefaultDisplay().getSize(size);\n                        int width=size.x;\n                        \n //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）\nif(currentItem==(imageViews.size()-1)&&startX-endX>=(width/4)){\n       Log.i(LOG,\"进入了触摸\");\n       goToMainActivity();//进入主页\n                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);//这部分代码是切换Activity时的动画，看起来就不会很生硬\n                        }\n                        break;\n                }\n                return false;\n            }\n        });\n```\n## 以下是全部代码\n### GuideActivity\n\n```\npackage com.tc.mobileshop;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Point;\nimport android.support.v4.view.PagerAdapter;\nimport android.support.v4.view.ViewPager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\nimport android.widget.ImageView;\n\nimport com.tc.mobileshop.utils.DisplayUtils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GuideActivity extends AppCompatActivity {\n    private static final String LOG = \"GuideActivity\";\n    int touchCount;\n    int currentItem;\n    List<Integer> imageIDList;\n    List<ImageView> imageViews;\n    ViewPager viewPager;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_guide);\n        //初始化引导数据\n        initGuideData();\n        //初始化引导页\n        initGuideView();\n        //初始化分页控件\n        iniView();\n    }\n\n\n    /**\n     * 初始化引导页数据\n     */\n    private void initGuideData() {\n        imageIDList = new ArrayList();\n        imageIDList.add(R.mipmap.apk_img1);\n        imageIDList.add(R.mipmap.apk_img2);\n        imageIDList.add(R.mipmap.apk_img3);\n    }\n\n    /**\n     * 初始化引导页\n     */\n    private void initGuideView() {\n        imageViews = new ArrayList<>();\n        for (int i = 0; i < imageIDList.size(); i++) {\n            imageViews.add(new ImageView(this));\n        }\n    }\n\n    /**\n     * 初始化分页控件\n     */\n    private void iniView() {\n        viewPager = (ViewPager) findViewById(R.id.guide_pager);\n        viewPager.setAdapter(new GuideAdapter());\n        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n            @Override\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n\n            }\n\n            @Override\n            public void onPageSelected(int position) {\n                currentItem = position;\n                Log.i(\"Guide\",\"监听改变\"+position);\n            }\n\n            @Override\n            public void onPageScrollStateChanged(int state) {\n\n            }\n        });\n        viewPager.setOnTouchListener(new View.OnTouchListener() {\n            float startX;\n            float startY;\n            float endX;\n            float endY;\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                switch (event.getAction()){\n                    case MotionEvent.ACTION_DOWN:\n                        startX=event.getX();\n                        startY=event.getY();\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        endX=event.getX();\n                        endY=event.getY();\n                        WindowManager windowManager= (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n                        //获取屏幕的宽度\n                        Point size = new Point();\n                        windowManager.getDefaultDisplay().getSize(size);\n                        int width=size.x;\n                        //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）\n                        if(currentItem==(imageViews.size()-1)&&startX-endX>0&&startX-endX>=(width/4)){\n                            Log.i(LOG,\"进入了触摸\");\n                            goToMainActivity();\n                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);\n                        }\n                        break;\n                }\n                return false;\n            }\n        });\n    }\n\n    private void goToMainActivity() {\n        Intent intent=new Intent(this,MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n\n    /**\n     * Viewpager适配器\n     */\n    private class GuideAdapter extends PagerAdapter {\n\n        @Override\n        public int getCount() {\n            return imageViews.size();\n        }\n\n        /**\n         * 判断当前分页是不是view\n         * 由于ViewPager里面的分页可以填入Fragment\n         *\n         * @param view\n         * @param object\n         * @return\n         */\n        @Override\n        public boolean isViewFromObject(View view, Object object) {\n            return view == object;\n        }\n\n        /**\n         * 清理内存\n         * 从第一页滑动到第二页，此时第一页的内存应该释放\n         *\n         * @param container\n         * @param position\n         * @param object\n         */\n        @Override\n        public void destroyItem(ViewGroup container, int position, Object object) {\n           container.removeView(imageViews.get(position));//释放滑动过后的前一页\n        }\n\n        /**\n         * 得到---->暂时是没有用的\n         *\n         * @param object\n         * @return\n         */\n        @Override\n        public int getItemPosition(Object object) {\n            return super.getItemPosition(object);\n        }\n\n        /**\n         * 初始化分页\n         *\n         * @param container\n         * @param position\n         * @return\n         */\n        @Override\n        public Object instantiateItem(ViewGroup container, int position) {\n            ImageView imageView = imageViews.get(position);\n            imageView.setImageResource(imageIDList.get(position));\n            ViewGroup.LayoutParams viewLayoutParams = new ViewGroup.LayoutParams\n                    (\n                            DisplayUtils.dip2px(GuideActivity.this, 170),\n                            DisplayUtils.dip2px(GuideActivity.this, 200)\n                    );\n            container.addView(imageView,viewLayoutParams);//设置图片的宽高\n\n            return imageView;\n        }\n    }\n}\n\n```\n### 以下为动画资源代码\n#### slide_in_left.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <translate\n        android:duration=\"1000\"\n        android:fromXDelta=\"0%p\"\n        android:toXDelta=\"-100%\"\n        />\n\n</set>\n```\n####slide_in_right.xml\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<set xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <translate\n        android:duration=\"1000\"\n        android:fromXDelta=\"100%p\"\n        android:toXDelta=\"0\"\n        />\n\n</set>\n```\n#### 以下是动画效果\n![这里写图片描述](viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif)","slug":"viewpager在最后一页滑动之后，跳转到主页面","published":1,"updated":"2018-05-26T14:56:12.529Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3amz001ya0us44jy3090","content":"<h1 id=\"viewpager在最后一页滑动之后，跳转到主页面\"><a href=\"#viewpager在最后一页滑动之后，跳转到主页面\" class=\"headerlink\" title=\"viewpager在最后一页滑动之后，跳转到主页面\"></a>viewpager在最后一页滑动之后，跳转到主页面</h1><h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h2><p>主要有是两个监听，<br>一是addOnPageChangeListener();二是setOnTouchListener()；</p>\n<p>addOnPageChangeListener()主要是为了获取position(滑动到了第几页)</p>\n<p>setOnTouchListener()主要是判断在最后一页中是否向左滑动了，然后进入主页</p>\n<a id=\"more\"></a>\n<h2 id=\"主要功能代码\"><a href=\"#主要功能代码\" class=\"headerlink\" title=\"主要功能代码\"></a>主要功能代码</h2><h3 id=\"addOnPageChangeListener\"><a href=\"#addOnPageChangeListener\" class=\"headerlink\" title=\"addOnPageChangeListener();\"></a>addOnPageChangeListener();</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageSelected(int position) &#123;</div><div class=\"line\">                currentItem = position;//获取位置，即第几页</div><div class=\"line\">                Log.i(&quot;Guide&quot;,&quot;监听改变&quot;+position);</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrollStateChanged(int state) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"setOnTouchListener-；\"><a href=\"#setOnTouchListener-；\" class=\"headerlink\" title=\"setOnTouchListener()；\"></a>setOnTouchListener()；</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">viewPager.setOnTouchListener(new View.OnTouchListener() &#123;</div><div class=\"line\">            float startX;</div><div class=\"line\">            float startY;//没有用到</div><div class=\"line\">            float endX;</div><div class=\"line\">            float endY;//没有用到</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onTouch(View v, MotionEvent event) &#123;</div><div class=\"line\">                switch (event.getAction())&#123;</div><div class=\"line\">                    case MotionEvent.ACTION_DOWN:</div><div class=\"line\">                        startX=event.getX();</div><div class=\"line\">                        startY=event.getY();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case MotionEvent.ACTION_UP:</div><div class=\"line\">                        endX=event.getX();</div><div class=\"line\">                        endY=event.getY();</div><div class=\"line\">                     WindowManager windowManager= (WindowManager)                                   getApplicationContext().getSystemService(Context.WINDOW_SERVICE);</div><div class=\"line\">       </div><div class=\"line\">                        //获取屏幕的宽度</div><div class=\"line\">                 Point size = new Point();</div><div class=\"line\">                 windowManager.getDefaultDisplay().getSize(size);</div><div class=\"line\">                        int width=size.x;</div><div class=\"line\">                        </div><div class=\"line\"> //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）</div><div class=\"line\">if(currentItem==(imageViews.size()-1)&amp;&amp;startX-endX&gt;=(width/4))&#123;</div><div class=\"line\">       Log.i(LOG,&quot;进入了触摸&quot;);</div><div class=\"line\">       goToMainActivity();//进入主页</div><div class=\"line\">                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);//这部分代码是切换Activity时的动画，看起来就不会很生硬</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"以下是全部代码\"><a href=\"#以下是全部代码\" class=\"headerlink\" title=\"以下是全部代码\"></a>以下是全部代码</h2><h3 id=\"GuideActivity\"><a href=\"#GuideActivity\" class=\"headerlink\" title=\"GuideActivity\"></a>GuideActivity</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div><div class=\"line\">178</div><div class=\"line\">179</div><div class=\"line\">180</div><div class=\"line\">181</div><div class=\"line\">182</div><div class=\"line\">183</div><div class=\"line\">184</div><div class=\"line\">185</div><div class=\"line\">186</div><div class=\"line\">187</div><div class=\"line\">188</div><div class=\"line\">189</div><div class=\"line\">190</div><div class=\"line\">191</div><div class=\"line\">192</div><div class=\"line\">193</div></pre></td><td class=\"code\"><pre><div class=\"line\">package com.tc.mobileshop;</div><div class=\"line\"></div><div class=\"line\">import android.content.Context;</div><div class=\"line\">import android.content.Intent;</div><div class=\"line\">import android.graphics.Point;</div><div class=\"line\">import android.support.v4.view.PagerAdapter;</div><div class=\"line\">import android.support.v4.view.ViewPager;</div><div class=\"line\">import android.support.v7.app.AppCompatActivity;</div><div class=\"line\">import android.os.Bundle;</div><div class=\"line\">import android.util.Log;</div><div class=\"line\">import android.view.Display;</div><div class=\"line\">import android.view.MotionEvent;</div><div class=\"line\">import android.view.View;</div><div class=\"line\">import android.view.ViewGroup;</div><div class=\"line\">import android.view.WindowManager;</div><div class=\"line\">import android.widget.ImageView;</div><div class=\"line\"></div><div class=\"line\">import com.tc.mobileshop.utils.DisplayUtils;</div><div class=\"line\"></div><div class=\"line\">import java.util.ArrayList;</div><div class=\"line\">import java.util.List;</div><div class=\"line\"></div><div class=\"line\">public class GuideActivity extends AppCompatActivity &#123;</div><div class=\"line\">    private static final String LOG = &quot;GuideActivity&quot;;</div><div class=\"line\">    int touchCount;</div><div class=\"line\">    int currentItem;</div><div class=\"line\">    List&lt;Integer&gt; imageIDList;</div><div class=\"line\">    List&lt;ImageView&gt; imageViews;</div><div class=\"line\">    ViewPager viewPager;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_guide);</div><div class=\"line\">        //初始化引导数据</div><div class=\"line\">        initGuideData();</div><div class=\"line\">        //初始化引导页</div><div class=\"line\">        initGuideView();</div><div class=\"line\">        //初始化分页控件</div><div class=\"line\">        iniView();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化引导页数据</div><div class=\"line\">     */</div><div class=\"line\">    private void initGuideData() &#123;</div><div class=\"line\">        imageIDList = new ArrayList();</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img1);</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img2);</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img3);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化引导页</div><div class=\"line\">     */</div><div class=\"line\">    private void initGuideView() &#123;</div><div class=\"line\">        imageViews = new ArrayList&lt;&gt;();</div><div class=\"line\">        for (int i = 0; i &lt; imageIDList.size(); i++) &#123;</div><div class=\"line\">            imageViews.add(new ImageView(this));</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化分页控件</div><div class=\"line\">     */</div><div class=\"line\">    private void iniView() &#123;</div><div class=\"line\">        viewPager = (ViewPager) findViewById(R.id.guide_pager);</div><div class=\"line\">        viewPager.setAdapter(new GuideAdapter());</div><div class=\"line\">        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageSelected(int position) &#123;</div><div class=\"line\">                currentItem = position;</div><div class=\"line\">                Log.i(&quot;Guide&quot;,&quot;监听改变&quot;+position);</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrollStateChanged(int state) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">        viewPager.setOnTouchListener(new View.OnTouchListener() &#123;</div><div class=\"line\">            float startX;</div><div class=\"line\">            float startY;</div><div class=\"line\">            float endX;</div><div class=\"line\">            float endY;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onTouch(View v, MotionEvent event) &#123;</div><div class=\"line\">                switch (event.getAction())&#123;</div><div class=\"line\">                    case MotionEvent.ACTION_DOWN:</div><div class=\"line\">                        startX=event.getX();</div><div class=\"line\">                        startY=event.getY();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case MotionEvent.ACTION_UP:</div><div class=\"line\">                        endX=event.getX();</div><div class=\"line\">                        endY=event.getY();</div><div class=\"line\">                        WindowManager windowManager= (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);</div><div class=\"line\">                        //获取屏幕的宽度</div><div class=\"line\">                        Point size = new Point();</div><div class=\"line\">                        windowManager.getDefaultDisplay().getSize(size);</div><div class=\"line\">                        int width=size.x;</div><div class=\"line\">                        //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）</div><div class=\"line\">                        if(currentItem==(imageViews.size()-1)&amp;&amp;startX-endX&gt;0&amp;&amp;startX-endX&gt;=(width/4))&#123;</div><div class=\"line\">                            Log.i(LOG,&quot;进入了触摸&quot;);</div><div class=\"line\">                            goToMainActivity();</div><div class=\"line\">                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private void goToMainActivity() &#123;</div><div class=\"line\">        Intent intent=new Intent(this,MainActivity.class);</div><div class=\"line\">        startActivity(intent);</div><div class=\"line\">        finish();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * Viewpager适配器</div><div class=\"line\">     */</div><div class=\"line\">    private class GuideAdapter extends PagerAdapter &#123;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public int getCount() &#123;</div><div class=\"line\">            return imageViews.size();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 判断当前分页是不是view</div><div class=\"line\">         * 由于ViewPager里面的分页可以填入Fragment</div><div class=\"line\">         *</div><div class=\"line\">         * @param view</div><div class=\"line\">         * @param object</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public boolean isViewFromObject(View view, Object object) &#123;</div><div class=\"line\">            return view == object;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 清理内存</div><div class=\"line\">         * 从第一页滑动到第二页，此时第一页的内存应该释放</div><div class=\"line\">         *</div><div class=\"line\">         * @param container</div><div class=\"line\">         * @param position</div><div class=\"line\">         * @param object</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public void destroyItem(ViewGroup container, int position, Object object) &#123;</div><div class=\"line\">           container.removeView(imageViews.get(position));//释放滑动过后的前一页</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 得到----&gt;暂时是没有用的</div><div class=\"line\">         *</div><div class=\"line\">         * @param object</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public int getItemPosition(Object object) &#123;</div><div class=\"line\">            return super.getItemPosition(object);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 初始化分页</div><div class=\"line\">         *</div><div class=\"line\">         * @param container</div><div class=\"line\">         * @param position</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public Object instantiateItem(ViewGroup container, int position) &#123;</div><div class=\"line\">            ImageView imageView = imageViews.get(position);</div><div class=\"line\">            imageView.setImageResource(imageIDList.get(position));</div><div class=\"line\">            ViewGroup.LayoutParams viewLayoutParams = new ViewGroup.LayoutParams</div><div class=\"line\">                    (</div><div class=\"line\">                            DisplayUtils.dip2px(GuideActivity.this, 170),</div><div class=\"line\">                            DisplayUtils.dip2px(GuideActivity.this, 200)</div><div class=\"line\">                    );</div><div class=\"line\">            container.addView(imageView,viewLayoutParams);//设置图片的宽高</div><div class=\"line\"></div><div class=\"line\">            return imageView;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"以下为动画资源代码\"><a href=\"#以下为动画资源代码\" class=\"headerlink\" title=\"以下为动画资源代码\"></a>以下为动画资源代码</h3><h4 id=\"slide-in-left-xml\"><a href=\"#slide-in-left-xml\" class=\"headerlink\" title=\"slide_in_left.xml\"></a>slide_in_left.xml</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">    &lt;translate</div><div class=\"line\">        android:duration=&quot;1000&quot;</div><div class=\"line\">        android:fromXDelta=&quot;0%p&quot;</div><div class=\"line\">        android:toXDelta=&quot;-100%&quot;</div><div class=\"line\">        /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/set&gt;</div></pre></td></tr></table></figure>\n<p>####slide_in_right.xml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">    &lt;translate</div><div class=\"line\">        android:duration=&quot;1000&quot;</div><div class=\"line\">        android:fromXDelta=&quot;100%p&quot;</div><div class=\"line\">        android:toXDelta=&quot;0&quot;</div><div class=\"line\">        /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/set&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"以下是动画效果\"><a href=\"#以下是动画效果\" class=\"headerlink\" title=\"以下是动画效果\"></a>以下是动画效果</h4><p><img src=\"/2018/05/26/viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif\" alt=\"这里写图片描述\"></p>\n","excerpt":"<h1 id=\"viewpager在最后一页滑动之后，跳转到主页面\"><a href=\"#viewpager在最后一页滑动之后，跳转到主页面\" class=\"headerlink\" title=\"viewpager在最后一页滑动之后，跳转到主页面\"></a>viewpager在最后一页滑动之后，跳转到主页面</h1><h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h2><p>主要有是两个监听，<br>一是addOnPageChangeListener();二是setOnTouchListener()；</p>\n<p>addOnPageChangeListener()主要是为了获取position(滑动到了第几页)</p>\n<p>setOnTouchListener()主要是判断在最后一页中是否向左滑动了，然后进入主页</p>","more":"<h2 id=\"主要功能代码\"><a href=\"#主要功能代码\" class=\"headerlink\" title=\"主要功能代码\"></a>主要功能代码</h2><h3 id=\"addOnPageChangeListener\"><a href=\"#addOnPageChangeListener\" class=\"headerlink\" title=\"addOnPageChangeListener();\"></a>addOnPageChangeListener();</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageSelected(int position) &#123;</div><div class=\"line\">                currentItem = position;//获取位置，即第几页</div><div class=\"line\">                Log.i(&quot;Guide&quot;,&quot;监听改变&quot;+position);</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrollStateChanged(int state) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"setOnTouchListener-；\"><a href=\"#setOnTouchListener-；\" class=\"headerlink\" title=\"setOnTouchListener()；\"></a>setOnTouchListener()；</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">viewPager.setOnTouchListener(new View.OnTouchListener() &#123;</div><div class=\"line\">            float startX;</div><div class=\"line\">            float startY;//没有用到</div><div class=\"line\">            float endX;</div><div class=\"line\">            float endY;//没有用到</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onTouch(View v, MotionEvent event) &#123;</div><div class=\"line\">                switch (event.getAction())&#123;</div><div class=\"line\">                    case MotionEvent.ACTION_DOWN:</div><div class=\"line\">                        startX=event.getX();</div><div class=\"line\">                        startY=event.getY();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case MotionEvent.ACTION_UP:</div><div class=\"line\">                        endX=event.getX();</div><div class=\"line\">                        endY=event.getY();</div><div class=\"line\">                     WindowManager windowManager= (WindowManager)                                   getApplicationContext().getSystemService(Context.WINDOW_SERVICE);</div><div class=\"line\">       </div><div class=\"line\">                        //获取屏幕的宽度</div><div class=\"line\">                 Point size = new Point();</div><div class=\"line\">                 windowManager.getDefaultDisplay().getSize(size);</div><div class=\"line\">                        int width=size.x;</div><div class=\"line\">                        </div><div class=\"line\"> //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）</div><div class=\"line\">if(currentItem==(imageViews.size()-1)&amp;&amp;startX-endX&gt;=(width/4))&#123;</div><div class=\"line\">       Log.i(LOG,&quot;进入了触摸&quot;);</div><div class=\"line\">       goToMainActivity();//进入主页</div><div class=\"line\">                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);//这部分代码是切换Activity时的动画，看起来就不会很生硬</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div></pre></td></tr></table></figure>\n<h2 id=\"以下是全部代码\"><a href=\"#以下是全部代码\" class=\"headerlink\" title=\"以下是全部代码\"></a>以下是全部代码</h2><h3 id=\"GuideActivity\"><a href=\"#GuideActivity\" class=\"headerlink\" title=\"GuideActivity\"></a>GuideActivity</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div><div class=\"line\">178</div><div class=\"line\">179</div><div class=\"line\">180</div><div class=\"line\">181</div><div class=\"line\">182</div><div class=\"line\">183</div><div class=\"line\">184</div><div class=\"line\">185</div><div class=\"line\">186</div><div class=\"line\">187</div><div class=\"line\">188</div><div class=\"line\">189</div><div class=\"line\">190</div><div class=\"line\">191</div><div class=\"line\">192</div><div class=\"line\">193</div></pre></td><td class=\"code\"><pre><div class=\"line\">package com.tc.mobileshop;</div><div class=\"line\"></div><div class=\"line\">import android.content.Context;</div><div class=\"line\">import android.content.Intent;</div><div class=\"line\">import android.graphics.Point;</div><div class=\"line\">import android.support.v4.view.PagerAdapter;</div><div class=\"line\">import android.support.v4.view.ViewPager;</div><div class=\"line\">import android.support.v7.app.AppCompatActivity;</div><div class=\"line\">import android.os.Bundle;</div><div class=\"line\">import android.util.Log;</div><div class=\"line\">import android.view.Display;</div><div class=\"line\">import android.view.MotionEvent;</div><div class=\"line\">import android.view.View;</div><div class=\"line\">import android.view.ViewGroup;</div><div class=\"line\">import android.view.WindowManager;</div><div class=\"line\">import android.widget.ImageView;</div><div class=\"line\"></div><div class=\"line\">import com.tc.mobileshop.utils.DisplayUtils;</div><div class=\"line\"></div><div class=\"line\">import java.util.ArrayList;</div><div class=\"line\">import java.util.List;</div><div class=\"line\"></div><div class=\"line\">public class GuideActivity extends AppCompatActivity &#123;</div><div class=\"line\">    private static final String LOG = &quot;GuideActivity&quot;;</div><div class=\"line\">    int touchCount;</div><div class=\"line\">    int currentItem;</div><div class=\"line\">    List&lt;Integer&gt; imageIDList;</div><div class=\"line\">    List&lt;ImageView&gt; imageViews;</div><div class=\"line\">    ViewPager viewPager;</div><div class=\"line\">    @Override</div><div class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class=\"line\">        super.onCreate(savedInstanceState);</div><div class=\"line\">        setContentView(R.layout.activity_guide);</div><div class=\"line\">        //初始化引导数据</div><div class=\"line\">        initGuideData();</div><div class=\"line\">        //初始化引导页</div><div class=\"line\">        initGuideView();</div><div class=\"line\">        //初始化分页控件</div><div class=\"line\">        iniView();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化引导页数据</div><div class=\"line\">     */</div><div class=\"line\">    private void initGuideData() &#123;</div><div class=\"line\">        imageIDList = new ArrayList();</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img1);</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img2);</div><div class=\"line\">        imageIDList.add(R.mipmap.apk_img3);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化引导页</div><div class=\"line\">     */</div><div class=\"line\">    private void initGuideView() &#123;</div><div class=\"line\">        imageViews = new ArrayList&lt;&gt;();</div><div class=\"line\">        for (int i = 0; i &lt; imageIDList.size(); i++) &#123;</div><div class=\"line\">            imageViews.add(new ImageView(this));</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * 初始化分页控件</div><div class=\"line\">     */</div><div class=\"line\">    private void iniView() &#123;</div><div class=\"line\">        viewPager = (ViewPager) findViewById(R.id.guide_pager);</div><div class=\"line\">        viewPager.setAdapter(new GuideAdapter());</div><div class=\"line\">        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() &#123;</div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageSelected(int position) &#123;</div><div class=\"line\">                currentItem = position;</div><div class=\"line\">                Log.i(&quot;Guide&quot;,&quot;监听改变&quot;+position);</div><div class=\"line\">            &#125;</div><div class=\"line\"></div><div class=\"line\">            @Override</div><div class=\"line\">            public void onPageScrollStateChanged(int state) &#123;</div><div class=\"line\"></div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">        viewPager.setOnTouchListener(new View.OnTouchListener() &#123;</div><div class=\"line\">            float startX;</div><div class=\"line\">            float startY;</div><div class=\"line\">            float endX;</div><div class=\"line\">            float endY;</div><div class=\"line\">            @Override</div><div class=\"line\">            public boolean onTouch(View v, MotionEvent event) &#123;</div><div class=\"line\">                switch (event.getAction())&#123;</div><div class=\"line\">                    case MotionEvent.ACTION_DOWN:</div><div class=\"line\">                        startX=event.getX();</div><div class=\"line\">                        startY=event.getY();</div><div class=\"line\">                        break;</div><div class=\"line\">                    case MotionEvent.ACTION_UP:</div><div class=\"line\">                        endX=event.getX();</div><div class=\"line\">                        endY=event.getY();</div><div class=\"line\">                        WindowManager windowManager= (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);</div><div class=\"line\">                        //获取屏幕的宽度</div><div class=\"line\">                        Point size = new Point();</div><div class=\"line\">                        windowManager.getDefaultDisplay().getSize(size);</div><div class=\"line\">                        int width=size.x;</div><div class=\"line\">                        //首先要确定的是，是否到了最后一页，然后判断是否向左滑动，并且滑动距离是否符合，我这里的判断距离是屏幕宽度的4分之一（这里可以适当控制）</div><div class=\"line\">                        if(currentItem==(imageViews.size()-1)&amp;&amp;startX-endX&gt;0&amp;&amp;startX-endX&gt;=(width/4))&#123;</div><div class=\"line\">                            Log.i(LOG,&quot;进入了触摸&quot;);</div><div class=\"line\">                            goToMainActivity();</div><div class=\"line\">                            overridePendingTransition(R.anim.slide_in_right,R.anim.slide_in_left);</div><div class=\"line\">                        &#125;</div><div class=\"line\">                        break;</div><div class=\"line\">                &#125;</div><div class=\"line\">                return false;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    private void goToMainActivity() &#123;</div><div class=\"line\">        Intent intent=new Intent(this,MainActivity.class);</div><div class=\"line\">        startActivity(intent);</div><div class=\"line\">        finish();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    /**</div><div class=\"line\">     * Viewpager适配器</div><div class=\"line\">     */</div><div class=\"line\">    private class GuideAdapter extends PagerAdapter &#123;</div><div class=\"line\"></div><div class=\"line\">        @Override</div><div class=\"line\">        public int getCount() &#123;</div><div class=\"line\">            return imageViews.size();</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 判断当前分页是不是view</div><div class=\"line\">         * 由于ViewPager里面的分页可以填入Fragment</div><div class=\"line\">         *</div><div class=\"line\">         * @param view</div><div class=\"line\">         * @param object</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public boolean isViewFromObject(View view, Object object) &#123;</div><div class=\"line\">            return view == object;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 清理内存</div><div class=\"line\">         * 从第一页滑动到第二页，此时第一页的内存应该释放</div><div class=\"line\">         *</div><div class=\"line\">         * @param container</div><div class=\"line\">         * @param position</div><div class=\"line\">         * @param object</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public void destroyItem(ViewGroup container, int position, Object object) &#123;</div><div class=\"line\">           container.removeView(imageViews.get(position));//释放滑动过后的前一页</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 得到----&gt;暂时是没有用的</div><div class=\"line\">         *</div><div class=\"line\">         * @param object</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public int getItemPosition(Object object) &#123;</div><div class=\"line\">            return super.getItemPosition(object);</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        /**</div><div class=\"line\">         * 初始化分页</div><div class=\"line\">         *</div><div class=\"line\">         * @param container</div><div class=\"line\">         * @param position</div><div class=\"line\">         * @return</div><div class=\"line\">         */</div><div class=\"line\">        @Override</div><div class=\"line\">        public Object instantiateItem(ViewGroup container, int position) &#123;</div><div class=\"line\">            ImageView imageView = imageViews.get(position);</div><div class=\"line\">            imageView.setImageResource(imageIDList.get(position));</div><div class=\"line\">            ViewGroup.LayoutParams viewLayoutParams = new ViewGroup.LayoutParams</div><div class=\"line\">                    (</div><div class=\"line\">                            DisplayUtils.dip2px(GuideActivity.this, 170),</div><div class=\"line\">                            DisplayUtils.dip2px(GuideActivity.this, 200)</div><div class=\"line\">                    );</div><div class=\"line\">            container.addView(imageView,viewLayoutParams);//设置图片的宽高</div><div class=\"line\"></div><div class=\"line\">            return imageView;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"以下为动画资源代码\"><a href=\"#以下为动画资源代码\" class=\"headerlink\" title=\"以下为动画资源代码\"></a>以下为动画资源代码</h3><h4 id=\"slide-in-left-xml\"><a href=\"#slide-in-left-xml\" class=\"headerlink\" title=\"slide_in_left.xml\"></a>slide_in_left.xml</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">    &lt;translate</div><div class=\"line\">        android:duration=&quot;1000&quot;</div><div class=\"line\">        android:fromXDelta=&quot;0%p&quot;</div><div class=\"line\">        android:toXDelta=&quot;-100%&quot;</div><div class=\"line\">        /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/set&gt;</div></pre></td></tr></table></figure>\n<p>####slide_in_right.xml</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class=\"line\">&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</div><div class=\"line\">    &lt;translate</div><div class=\"line\">        android:duration=&quot;1000&quot;</div><div class=\"line\">        android:fromXDelta=&quot;100%p&quot;</div><div class=\"line\">        android:toXDelta=&quot;0&quot;</div><div class=\"line\">        /&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;/set&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"以下是动画效果\"><a href=\"#以下是动画效果\" class=\"headerlink\" title=\"以下是动画效果\"></a>以下是动画效果</h4><p><img src=\"/2018/05/26/viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif\" alt=\"这里写图片描述\"></p>"},{"title":"vmware之ubuntu如何在仅主机模式下联网","date":"2017-07-29T15:44:42.000Z","_content":"# 参考链接\n[《仅主机模式上网》——邓戈麟](http://www.cnblogs.com/denggelin/p/6135582.html)  \n[《ubuntu修改网络配置》——百度经验](https://jingyan.baidu.com/article/76a7e409daca52fc3b6e15e5.html)   \n# vmware之ubuntu如何在仅主机模式下联网\n## 仅主机模式\n![仅主机模式1](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png)  \n![仅主机模式2](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png)\n<!-- more -->\n## 共享我的网络到虚拟网络适配器\n> 右键“以太网”或者“无线网络适配器”-->“属性”-->勾选“允许其他用户通过此计算机的internet连接来连接”-->选择你要使用的适配器。\n\n![共享我的网络](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png)\n\n## 查看虚拟网络IP值\n> 点击“编辑--->虚拟网络编辑”，可以看到IP自动变成了某一IP值，这是共享网络自动配置的。\n\n![虚拟网络编辑](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png)  \n我的是192.168.0.0\n## 在ubuntu系统中修改网络配置。\n> 先查看自己的网卡适配器叫什么名字\n```\n$ ifconfig\n```\n![查看自己的网卡适配器](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png)  \n> 修改网卡的配置文件可以永久保存。\n注意不是/etc/resolv.conf，可能由于ubuntu和其他linux系统不一样，配置文件应该是/etc/network/interfaces文件。\n\n```\n# 输入以下命令，进入修改网络配置\n$sudo nano /etc/network/interfaces\n```\n![配置IP](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png)  \nCtrl+x保存退出\n> 配置 DNS\n```\n# 输入以下命令，进入配置DNS\n$sudo nano /etc/resolvconf/resolv.conf.d/base\n```  \n![输入以下命令](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png)\n## 测试是否能够连接网络\n> 真机测试是否能访问虚拟机\n![真机测试是否能访问虚拟机](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png)\n> 虚拟机测试是否能访问网络\n![image](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png)\n\n\n## 问题总结\n### 必须编辑虚拟机网段\n我就是没注意到虚拟机网段规定了起始网IP为“192.168.0.174”，终止IP为“192.168.0.281”，我设置的IP是“192.168.0.5”，明显不在这个范围了，虽然在真机上“ping 192.168.0.5”是有数据返回的（虽然我也不知道为什么），但是在虚拟机上ping真机是失败的，也不能ping上外网\n## 申明\n有必要申明一下，这个教程是成功，我想截一些图，但是发现虚拟机突然不能上网，一直解决不了，实在抱歉","source":"_posts/vmware之ubuntu如何在仅主机模式下联网.md","raw":"---\ntitle: vmware之ubuntu如何在仅主机模式下联网\ndate: 2017-07-29 23:44:42\ncategories:\n  - vmware\ntags:\n  - vmware\n---\n# 参考链接\n[《仅主机模式上网》——邓戈麟](http://www.cnblogs.com/denggelin/p/6135582.html)  \n[《ubuntu修改网络配置》——百度经验](https://jingyan.baidu.com/article/76a7e409daca52fc3b6e15e5.html)   \n# vmware之ubuntu如何在仅主机模式下联网\n## 仅主机模式\n![仅主机模式1](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png)  \n![仅主机模式2](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png)\n<!-- more -->\n## 共享我的网络到虚拟网络适配器\n> 右键“以太网”或者“无线网络适配器”-->“属性”-->勾选“允许其他用户通过此计算机的internet连接来连接”-->选择你要使用的适配器。\n\n![共享我的网络](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png)\n\n## 查看虚拟网络IP值\n> 点击“编辑--->虚拟网络编辑”，可以看到IP自动变成了某一IP值，这是共享网络自动配置的。\n\n![虚拟网络编辑](vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png)  \n我的是192.168.0.0\n## 在ubuntu系统中修改网络配置。\n> 先查看自己的网卡适配器叫什么名字\n```\n$ ifconfig\n```\n![查看自己的网卡适配器](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png)  \n> 修改网卡的配置文件可以永久保存。\n注意不是/etc/resolv.conf，可能由于ubuntu和其他linux系统不一样，配置文件应该是/etc/network/interfaces文件。\n\n```\n# 输入以下命令，进入修改网络配置\n$sudo nano /etc/network/interfaces\n```\n![配置IP](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png)  \nCtrl+x保存退出\n> 配置 DNS\n```\n# 输入以下命令，进入配置DNS\n$sudo nano /etc/resolvconf/resolv.conf.d/base\n```  \n![输入以下命令](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png)\n## 测试是否能够连接网络\n> 真机测试是否能访问虚拟机\n![真机测试是否能访问虚拟机](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png)\n> 虚拟机测试是否能访问网络\n![image](vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png)\n\n\n## 问题总结\n### 必须编辑虚拟机网段\n我就是没注意到虚拟机网段规定了起始网IP为“192.168.0.174”，终止IP为“192.168.0.281”，我设置的IP是“192.168.0.5”，明显不在这个范围了，虽然在真机上“ping 192.168.0.5”是有数据返回的（虽然我也不知道为什么），但是在虚拟机上ping真机是失败的，也不能ping上外网\n## 申明\n有必要申明一下，这个教程是成功，我想截一些图，但是发现虚拟机突然不能上网，一直解决不了，实在抱歉","slug":"vmware之ubuntu如何在仅主机模式下联网","published":1,"updated":"2017-08-13T04:28:43.302Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3an40021a0usxrd08nyf","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/denggelin/p/6135582.html\" target=\"_blank\" rel=\"external\">《仅主机模式上网》——邓戈麟</a><br><a href=\"https://jingyan.baidu.com/article/76a7e409daca52fc3b6e15e5.html\" target=\"_blank\" rel=\"external\">《ubuntu修改网络配置》——百度经验</a>   </p>\n<h1 id=\"vmware之ubuntu如何在仅主机模式下联网\"><a href=\"#vmware之ubuntu如何在仅主机模式下联网\" class=\"headerlink\" title=\"vmware之ubuntu如何在仅主机模式下联网\"></a>vmware之ubuntu如何在仅主机模式下联网</h1><h2 id=\"仅主机模式\"><a href=\"#仅主机模式\" class=\"headerlink\" title=\"仅主机模式\"></a>仅主机模式</h2><p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png\" alt=\"仅主机模式1\"><br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png\" alt=\"仅主机模式2\"><br><a id=\"more\"></a></p>\n<h2 id=\"共享我的网络到虚拟网络适配器\"><a href=\"#共享我的网络到虚拟网络适配器\" class=\"headerlink\" title=\"共享我的网络到虚拟网络适配器\"></a>共享我的网络到虚拟网络适配器</h2><blockquote>\n<p>右键“以太网”或者“无线网络适配器”–&gt;“属性”–&gt;勾选“允许其他用户通过此计算机的internet连接来连接”–&gt;选择你要使用的适配器。</p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png\" alt=\"共享我的网络\"></p>\n<h2 id=\"查看虚拟网络IP值\"><a href=\"#查看虚拟网络IP值\" class=\"headerlink\" title=\"查看虚拟网络IP值\"></a>查看虚拟网络IP值</h2><blockquote>\n<p>点击“编辑—&gt;虚拟网络编辑”，可以看到IP自动变成了某一IP值，这是共享网络自动配置的。</p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png\" alt=\"虚拟网络编辑\"><br>我的是192.168.0.0</p>\n<h2 id=\"在ubuntu系统中修改网络配置。\"><a href=\"#在ubuntu系统中修改网络配置。\" class=\"headerlink\" title=\"在ubuntu系统中修改网络配置。\"></a>在ubuntu系统中修改网络配置。</h2><blockquote>\n<p>先查看自己的网卡适配器叫什么名字<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ifconfig</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png\" alt=\"查看自己的网卡适配器\">  </p>\n<blockquote>\n<p>修改网卡的配置文件可以永久保存。<br>注意不是/etc/resolv.conf，可能由于ubuntu和其他linux系统不一样，配置文件应该是/etc/network/interfaces文件。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 输入以下命令，进入修改网络配置</div><div class=\"line\">$sudo nano /etc/network/interfaces</div></pre></td></tr></table></figure>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png\" alt=\"配置IP\"><br>Ctrl+x保存退出</p>\n<blockquote>\n<p>配置 DNS</p>\n<pre><code># 输入以下命令，进入配置DNS\n$sudo nano /etc/resolvconf/resolv.conf.d/base\n</code></pre><p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png\" alt=\"输入以下命令\"></p>\n<h2 id=\"测试是否能够连接网络\"><a href=\"#测试是否能够连接网络\" class=\"headerlink\" title=\"测试是否能够连接网络\"></a>测试是否能够连接网络</h2><p>真机测试是否能访问虚拟机<br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png\" alt=\"真机测试是否能访问虚拟机\"><br>虚拟机测试是否能访问网络<br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png\" alt=\"image\"></p>\n</blockquote>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><h3 id=\"必须编辑虚拟机网段\"><a href=\"#必须编辑虚拟机网段\" class=\"headerlink\" title=\"必须编辑虚拟机网段\"></a>必须编辑虚拟机网段</h3><p>我就是没注意到虚拟机网段规定了起始网IP为“192.168.0.174”，终止IP为“192.168.0.281”，我设置的IP是“192.168.0.5”，明显不在这个范围了，虽然在真机上“ping 192.168.0.5”是有数据返回的（虽然我也不知道为什么），但是在虚拟机上ping真机是失败的，也不能ping上外网</p>\n<h2 id=\"申明\"><a href=\"#申明\" class=\"headerlink\" title=\"申明\"></a>申明</h2><p>有必要申明一下，这个教程是成功，我想截一些图，但是发现虚拟机突然不能上网，一直解决不了，实在抱歉</p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/denggelin/p/6135582.html\">《仅主机模式上网》——邓戈麟</a><br><a href=\"https://jingyan.baidu.com/article/76a7e409daca52fc3b6e15e5.html\">《ubuntu修改网络配置》——百度经验</a>   </p>\n<h1 id=\"vmware之ubuntu如何在仅主机模式下联网\"><a href=\"#vmware之ubuntu如何在仅主机模式下联网\" class=\"headerlink\" title=\"vmware之ubuntu如何在仅主机模式下联网\"></a>vmware之ubuntu如何在仅主机模式下联网</h1><h2 id=\"仅主机模式\"><a href=\"#仅主机模式\" class=\"headerlink\" title=\"仅主机模式\"></a>仅主机模式</h2><p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png\" alt=\"仅主机模式1\"><br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png\" alt=\"仅主机模式2\"><br></p>","more":"<p></p>\n<h2 id=\"共享我的网络到虚拟网络适配器\"><a href=\"#共享我的网络到虚拟网络适配器\" class=\"headerlink\" title=\"共享我的网络到虚拟网络适配器\"></a>共享我的网络到虚拟网络适配器</h2><blockquote>\n<p>右键“以太网”或者“无线网络适配器”–&gt;“属性”–&gt;勾选“允许其他用户通过此计算机的internet连接来连接”–&gt;选择你要使用的适配器。</p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png\" alt=\"共享我的网络\"></p>\n<h2 id=\"查看虚拟网络IP值\"><a href=\"#查看虚拟网络IP值\" class=\"headerlink\" title=\"查看虚拟网络IP值\"></a>查看虚拟网络IP值</h2><blockquote>\n<p>点击“编辑—&gt;虚拟网络编辑”，可以看到IP自动变成了某一IP值，这是共享网络自动配置的。</p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png\" alt=\"虚拟网络编辑\"><br>我的是192.168.0.0</p>\n<h2 id=\"在ubuntu系统中修改网络配置。\"><a href=\"#在ubuntu系统中修改网络配置。\" class=\"headerlink\" title=\"在ubuntu系统中修改网络配置。\"></a>在ubuntu系统中修改网络配置。</h2><blockquote>\n<p>先查看自己的网卡适配器叫什么名字<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ifconfig</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png\" alt=\"查看自己的网卡适配器\">  </p>\n<blockquote>\n<p>修改网卡的配置文件可以永久保存。<br>注意不是/etc/resolv.conf，可能由于ubuntu和其他linux系统不一样，配置文件应该是/etc/network/interfaces文件。</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 输入以下命令，进入修改网络配置</div><div class=\"line\">$sudo nano /etc/network/interfaces</div></pre></td></tr></table></figure>\n<p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png\" alt=\"配置IP\"><br>Ctrl+x保存退出</p>\n<blockquote>\n<p>配置 DNS</p>\n<pre><code># 输入以下命令，进入配置DNS\n$sudo nano /etc/resolvconf/resolv.conf.d/base\n</code></pre><p><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png\" alt=\"输入以下命令\"></p>\n<h2 id=\"测试是否能够连接网络\"><a href=\"#测试是否能够连接网络\" class=\"headerlink\" title=\"测试是否能够连接网络\"></a>测试是否能够连接网络</h2><p>真机测试是否能访问虚拟机<br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png\" alt=\"真机测试是否能访问虚拟机\"><br>虚拟机测试是否能访问网络<br><img src=\"/2017/07/29/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png\" alt=\"image\"></p>\n</blockquote>\n<h2 id=\"问题总结\"><a href=\"#问题总结\" class=\"headerlink\" title=\"问题总结\"></a>问题总结</h2><h3 id=\"必须编辑虚拟机网段\"><a href=\"#必须编辑虚拟机网段\" class=\"headerlink\" title=\"必须编辑虚拟机网段\"></a>必须编辑虚拟机网段</h3><p>我就是没注意到虚拟机网段规定了起始网IP为“192.168.0.174”，终止IP为“192.168.0.281”，我设置的IP是“192.168.0.5”，明显不在这个范围了，虽然在真机上“ping 192.168.0.5”是有数据返回的（虽然我也不知道为什么），但是在虚拟机上ping真机是失败的，也不能ping上外网</p>\n<h2 id=\"申明\"><a href=\"#申明\" class=\"headerlink\" title=\"申明\"></a>申明</h2><p>有必要申明一下，这个教程是成功，我想截一些图，但是发现虚拟机突然不能上网，一直解决不了，实在抱歉</p>"},{"title":"我的第一篇博客","date":"2017-01-26T15:55:51.000Z","_content":"\n摘要:\n\t第一篇\n<!--more-->\n正文:\n\t# Hellow World!\n\t# 这是我第一篇github博客\n","source":"_posts/我的第一篇博客.md","raw":"---\ntitle: 我的第一篇博客\ndate: 2017-01-26 23:55:51\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n\n摘要:\n\t第一篇\n<!--more-->\n正文:\n\t# Hellow World!\n\t# 这是我第一篇github博客\n","slug":"我的第一篇博客","published":1,"updated":"2017-05-02T05:48:36.498Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anb0026a0usffbmyldd","content":"<p>摘要:<br>    第一篇<br><a id=\"more\"></a><br>正文:</p>\n<pre><code># Hellow World!\n# 这是我第一篇github博客\n</code></pre>","excerpt":"<p>摘要:<br>    第一篇<br></p>","more":"<br>正文:<p></p>\n<pre><code># Hellow World!\n# 这是我第一篇github博客\n</code></pre>"},{"title":"再总结一下activity的生命周期吧","date":"2017-03-27T02:28:33.000Z","_content":"## 文章参考自\n[谈谈Activity生命周期和启动模式(一)- ReturnYHH](http://www.jianshu.com/p/54cdc02ccd93)  \n[谈谈Activity生命周期和启动模式(二)- ReturnYHH](http://www.jianshu.com/p/ca0d8b7680ed)  \n[Activity生命周期中我们可以做些什么?-小坤同学](http://blog.csdn.net/data_hlk/article/details/51472252)  \n[Activity-android Developer API doc](https://developer.android.google.cn/reference/android/app/Activity.html)\n>如果有侵权行为，请及时通知我，一般不会吧-_-!\n\n<!--more-->\n\n# 再总结一下activity的周期吧\n按back按钮、进入home screen、发生异常、横竖屏切换、更高优先级应用程序需要内存，这个几个方面入手测试总结吧。我们需要特别注意onSaveInstanceState()和onRestoreInstanceState()的调用情况。\n## 先给一张标准的activity生命周期吧（中英文都给你们吧）\n![1生命周期中文](再总结一下activity的生命周期吧/1生命周期中文.png)  \n![1生命周期中文](再总结一下activity的生命周期吧/2生命周期英文.png)\n## android官方文档以三个点来总体分析activity的生命周期\n### 全部的生命周期(entire lifetime)\n>The entire lifetime of an activity happens between the first call to onCreate(Bundle) through to a single final call to onDestroy(). An activity will do all setup of \"global\" state in onCreate(), and release all remaining resources in onDestroy(). For example, if it has a thread running in the background to download data from the network, it may create that thread in onCreate() and then stop the thread in onDestroy().  \nactivity的全部生命周期发生在首次调用onCreate(Bundle)到最后调用onDestroy()，一个activity将在onCreate()方法里面做所有目标状态的配置，和在onDestroy()里面释放所有残留的资源。例如，一个线程在网络中正在下载所有的数据，这个activity可能在onCreate()创建这个线程并且在之后在onDestroy()停止这个线程。\n### 可见生命周期(visiable lifetime)\n>The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop(). During this time the user can see the activity on-screen, though it may not be in the foreground and interacting with the user. Between these two methods you can maintain resources that are needed to show the activity to the user. For example, you can register a BroadcastReceiver in onStart() to monitor for changes that impact your UI, and unregister it in onStop() when the user no longer sees what you are displaying. The onStart() and onStop() methods can be called multiple times, as the activity becomes visible and hidden to the user.  \nactivity的可见生命周期发生在onStart()的调用，到在合适的情况下调用onStop()方法。在这个期间内用户可以看activity在屏幕上，即使它可能不在前台与用户交互。在这两个方法之前，你可以保留资源去展示activity给用户。例如，你可以注册一个广播接收者在onStart()监视影响用户的更改，也可以在用户不再看到你所显示的情况下，在onStop()中unregister这个广播。在activity变成显示隐藏给用户下，onStart()和onStop()方法可以被多次调用。\n### 前台生命周期(foreground lifetime)\n>The foreground lifetime of an activity happens between a call to onResume() until a corresponding call to onPause(). During this time the activity is in front of all other activities and interacting with the user. An activity can frequently go between the resumed and paused states -- for example when the device goes to sleep, when an activity result is delivered, when a new intent is delivered -- so the code in these methods should be fairly lightweight.  \nactivity的前台生命周期发生在onResume()调用，到在合适的情况下调用onPause()。在这期间activity是在所有其他的activities之前并且与用户交互。一个activity可以频繁地复位暂停状态————例如，当设备进入睡眠状态时，当一个activity结果被发布/发表时，当一个新意图被发布/发表时————因此代码在这些方法里面应该适当地做轻量工作。\n## 再总结一下各个生命周期可以处理什么的事情吧 \n### onCreate()\n>Called when the activity is first created. This is where you should do all of your normal static set up: create views, bind data to lists, etc. This method also provides you with a Bundle containing the activity's previously frozen state, if there was one.\nAlways followed by onStart().  \n当activity第一次被创建的时候调用。这儿应该做全部的静态安装，如**创建视图，绑定数据到列表**等等。这个方法也提供了一个Bundle（onCreate(Bundle savedInstanceState)中的参数），这个Bundle提供activity之前冻结的状态，如果有相关状态数据,**状态及数据会被恢复**。onCreate方法总是与OnStart()一起被调用。\n### onRestart()\n>Called after your activity has been stopped, prior to it being started again.\nAlways followed by onStart()  \n你的activity停止后，再次优先启动后调用。总是在这之后调用onStart()  \n\n### onStart()\n>Called when the activity is becoming visible to the user.\nFollowed by onResume() if the activity comes to the foreground, or onStop() if it becomes hidden.  \n当与onResume()一起调用使用activity进入前台，变成用户可见时调用。或者与onStop一起调用变成隐藏状态。  \n\n>**一般可以通过在此注册broadcastReceiver来监控影响UI或者加载一些资源**\n### onResume()\n>Called when the activity will start interacting with the user. At this point your activity is at the top of the activity stack, with user input going to it.\nAlways followed by onPause().  \n当activity将开始与用户交互时调用，在这一点你的actvity是在activity栈顶上，处于用户的输入。总是在这之后调用onPause()。\n### onPause()\n>Called when the system is about to start resuming a previous activity. This is typically used to commit unsaved changes to persistent data, stop animations and other things that may be consuming CPU, etc. Implementations of this method must be very quick because the next activity will not be resumed until this method returns.\nFollowed by either onResume() if the activity returns back to the front, or onStop() if it becomes invisible to the user  \n系统开始正在复位之前的activity时调用。这个经常用于提交未保存的改变的持久性数据，停止动画和其他消耗CPU等等的事情。这个方法的实现必须是非常快的，因为下一个activity将不会复位，直到这个方法return后。\n### onStop()\n>Called when the activity is no longer visible to the user, because another activity has been resumed and is covering this one. This may happen either because a new activity is being started, an existing one is being brought in front of this one, or this one is being destroyed.\nFollowed by either onRestart() if this activity is coming back to interact with the user, or onDestroy() if this activity is going away.  \n当activity不再显示给用户时调用，因为其他activity 复位并且覆盖它。这可能发生要么是因为一个新的activity正在启动，一个存在的activity被带到前面的这一个activity，或者这一个activity正在被摧毁。\n### onDestory()\n>The final call you receive before your activity is destroyed. This can happen either because the activity is finishing (someone called finish() on it, or because the system is temporarily destroying this instance of the activity to save space. You can distinguish between these two scenarios with the isFinishing() method.  \n在你的activity被销毁之前最终的调用。这会发生的原因，要么是activity正在完成（某人调用finish()在activity中，或者因为系统暂时销毁地activity的实例去节省内存。）\n## 影响activity生命周期的几种情况\n### 按back按钮\n>当前Task：A，再创建B\n>以下为打印结果，当前Task:A-B\n\n>由打印结果可以看A会预先调用OnPause()，表示开始进入暂时状态，等到目标启动B复位在前台显示时，才会执行onSaveInstanceState(Bundle outState)，再调用onStop()\n```\n03-27 13:29:52.938 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  \n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onCreate(Bundle savedInstanceState): 调用onCreate，获取当前Task的id4\n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n```\n>当B按了“back”\n>以下为打印结果，此时Task:A\n>Activity并没有调用onRestoreInstanceState()，可能是activity在非常状态退出，可能会调用onRestoreInstanceState()恢复activity的实例\n```\n03-27 13:31:53.018 5057-5057/com.app.androidbasic I/ActivityB: onPause: 调用了onPause\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onStop: 调用onStop\n03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy\n```\n### 进入home\n>当前Task A-B,点击“Home”进入home screen\n\n>B执行了onPause()-onSaveInstanceState(Bundle)-onStop()\n```\n03-27 13:39:22.088 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  \n03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n```\n>从Home恢复前台时，B并没有调用onRestoreInstanceState(Bundle)\n```\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n```\n### 发生异常\n#### onCreate()发生异常\n>onCreate—>onPause—>onSaveInstanceState()->onStop—>onDestroy\n#### onStart()发生异常\n>onCreate—>onStart—>onPause—>onSaveInstanceState()->onStop—>onDestroy\n#### onResume()发生异常\n>onCreate—>onStart—>onResume—>onPause—>onSaveInstanceState()->onStop—>onDestroy  \n\n### 横竖屏切换\n>当前Task:A,处于坚屏状态\n>当A 进入横屏状态\n>onPause()->onSaveInstanceState(Bundle)->onStop()-onDestory->onCreate(Bundle)->onStart()-onRestoreInstanceState(Bundle)-onResume()\n```\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onPause: 调用了onPause\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onDestroy: 调用onDestroy\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onCreate: 调用onCreate，获取当前Task的id12\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onRestoreInstanceState(Bundle savedInstanceState): 恢复实例\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n```\n### 更高优先级的应用需要内存\nonStop()->onCreate()-onStart()-onResume()\n\n>有不对的地方，还请大神多指教\n\n","source":"_posts/再总结一下activity的生命周期吧.md","raw":"---\ntitle: 再总结一下activity的生命周期吧\ndate: 2017-03-27 10:28:33\ncategories:\n  - android\n  - 四大组件\n  - activity\ntags:\n  - android\n  - activity lifetime\n---\n## 文章参考自\n[谈谈Activity生命周期和启动模式(一)- ReturnYHH](http://www.jianshu.com/p/54cdc02ccd93)  \n[谈谈Activity生命周期和启动模式(二)- ReturnYHH](http://www.jianshu.com/p/ca0d8b7680ed)  \n[Activity生命周期中我们可以做些什么?-小坤同学](http://blog.csdn.net/data_hlk/article/details/51472252)  \n[Activity-android Developer API doc](https://developer.android.google.cn/reference/android/app/Activity.html)\n>如果有侵权行为，请及时通知我，一般不会吧-_-!\n\n<!--more-->\n\n# 再总结一下activity的周期吧\n按back按钮、进入home screen、发生异常、横竖屏切换、更高优先级应用程序需要内存，这个几个方面入手测试总结吧。我们需要特别注意onSaveInstanceState()和onRestoreInstanceState()的调用情况。\n## 先给一张标准的activity生命周期吧（中英文都给你们吧）\n![1生命周期中文](再总结一下activity的生命周期吧/1生命周期中文.png)  \n![1生命周期中文](再总结一下activity的生命周期吧/2生命周期英文.png)\n## android官方文档以三个点来总体分析activity的生命周期\n### 全部的生命周期(entire lifetime)\n>The entire lifetime of an activity happens between the first call to onCreate(Bundle) through to a single final call to onDestroy(). An activity will do all setup of \"global\" state in onCreate(), and release all remaining resources in onDestroy(). For example, if it has a thread running in the background to download data from the network, it may create that thread in onCreate() and then stop the thread in onDestroy().  \nactivity的全部生命周期发生在首次调用onCreate(Bundle)到最后调用onDestroy()，一个activity将在onCreate()方法里面做所有目标状态的配置，和在onDestroy()里面释放所有残留的资源。例如，一个线程在网络中正在下载所有的数据，这个activity可能在onCreate()创建这个线程并且在之后在onDestroy()停止这个线程。\n### 可见生命周期(visiable lifetime)\n>The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop(). During this time the user can see the activity on-screen, though it may not be in the foreground and interacting with the user. Between these two methods you can maintain resources that are needed to show the activity to the user. For example, you can register a BroadcastReceiver in onStart() to monitor for changes that impact your UI, and unregister it in onStop() when the user no longer sees what you are displaying. The onStart() and onStop() methods can be called multiple times, as the activity becomes visible and hidden to the user.  \nactivity的可见生命周期发生在onStart()的调用，到在合适的情况下调用onStop()方法。在这个期间内用户可以看activity在屏幕上，即使它可能不在前台与用户交互。在这两个方法之前，你可以保留资源去展示activity给用户。例如，你可以注册一个广播接收者在onStart()监视影响用户的更改，也可以在用户不再看到你所显示的情况下，在onStop()中unregister这个广播。在activity变成显示隐藏给用户下，onStart()和onStop()方法可以被多次调用。\n### 前台生命周期(foreground lifetime)\n>The foreground lifetime of an activity happens between a call to onResume() until a corresponding call to onPause(). During this time the activity is in front of all other activities and interacting with the user. An activity can frequently go between the resumed and paused states -- for example when the device goes to sleep, when an activity result is delivered, when a new intent is delivered -- so the code in these methods should be fairly lightweight.  \nactivity的前台生命周期发生在onResume()调用，到在合适的情况下调用onPause()。在这期间activity是在所有其他的activities之前并且与用户交互。一个activity可以频繁地复位暂停状态————例如，当设备进入睡眠状态时，当一个activity结果被发布/发表时，当一个新意图被发布/发表时————因此代码在这些方法里面应该适当地做轻量工作。\n## 再总结一下各个生命周期可以处理什么的事情吧 \n### onCreate()\n>Called when the activity is first created. This is where you should do all of your normal static set up: create views, bind data to lists, etc. This method also provides you with a Bundle containing the activity's previously frozen state, if there was one.\nAlways followed by onStart().  \n当activity第一次被创建的时候调用。这儿应该做全部的静态安装，如**创建视图，绑定数据到列表**等等。这个方法也提供了一个Bundle（onCreate(Bundle savedInstanceState)中的参数），这个Bundle提供activity之前冻结的状态，如果有相关状态数据,**状态及数据会被恢复**。onCreate方法总是与OnStart()一起被调用。\n### onRestart()\n>Called after your activity has been stopped, prior to it being started again.\nAlways followed by onStart()  \n你的activity停止后，再次优先启动后调用。总是在这之后调用onStart()  \n\n### onStart()\n>Called when the activity is becoming visible to the user.\nFollowed by onResume() if the activity comes to the foreground, or onStop() if it becomes hidden.  \n当与onResume()一起调用使用activity进入前台，变成用户可见时调用。或者与onStop一起调用变成隐藏状态。  \n\n>**一般可以通过在此注册broadcastReceiver来监控影响UI或者加载一些资源**\n### onResume()\n>Called when the activity will start interacting with the user. At this point your activity is at the top of the activity stack, with user input going to it.\nAlways followed by onPause().  \n当activity将开始与用户交互时调用，在这一点你的actvity是在activity栈顶上，处于用户的输入。总是在这之后调用onPause()。\n### onPause()\n>Called when the system is about to start resuming a previous activity. This is typically used to commit unsaved changes to persistent data, stop animations and other things that may be consuming CPU, etc. Implementations of this method must be very quick because the next activity will not be resumed until this method returns.\nFollowed by either onResume() if the activity returns back to the front, or onStop() if it becomes invisible to the user  \n系统开始正在复位之前的activity时调用。这个经常用于提交未保存的改变的持久性数据，停止动画和其他消耗CPU等等的事情。这个方法的实现必须是非常快的，因为下一个activity将不会复位，直到这个方法return后。\n### onStop()\n>Called when the activity is no longer visible to the user, because another activity has been resumed and is covering this one. This may happen either because a new activity is being started, an existing one is being brought in front of this one, or this one is being destroyed.\nFollowed by either onRestart() if this activity is coming back to interact with the user, or onDestroy() if this activity is going away.  \n当activity不再显示给用户时调用，因为其他activity 复位并且覆盖它。这可能发生要么是因为一个新的activity正在启动，一个存在的activity被带到前面的这一个activity，或者这一个activity正在被摧毁。\n### onDestory()\n>The final call you receive before your activity is destroyed. This can happen either because the activity is finishing (someone called finish() on it, or because the system is temporarily destroying this instance of the activity to save space. You can distinguish between these two scenarios with the isFinishing() method.  \n在你的activity被销毁之前最终的调用。这会发生的原因，要么是activity正在完成（某人调用finish()在activity中，或者因为系统暂时销毁地activity的实例去节省内存。）\n## 影响activity生命周期的几种情况\n### 按back按钮\n>当前Task：A，再创建B\n>以下为打印结果，当前Task:A-B\n\n>由打印结果可以看A会预先调用OnPause()，表示开始进入暂时状态，等到目标启动B复位在前台显示时，才会执行onSaveInstanceState(Bundle outState)，再调用onStop()\n```\n03-27 13:29:52.938 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  \n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onCreate(Bundle savedInstanceState): 调用onCreate，获取当前Task的id4\n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n```\n>当B按了“back”\n>以下为打印结果，此时Task:A\n>Activity并没有调用onRestoreInstanceState()，可能是activity在非常状态退出，可能会调用onRestoreInstanceState()恢复activity的实例\n```\n03-27 13:31:53.018 5057-5057/com.app.androidbasic I/ActivityB: onPause: 调用了onPause\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onStop: 调用onStop\n03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy\n```\n### 进入home\n>当前Task A-B,点击“Home”进入home screen\n\n>B执行了onPause()-onSaveInstanceState(Bundle)-onStop()\n```\n03-27 13:39:22.088 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  \n03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n```\n>从Home恢复前台时，B并没有调用onRestoreInstanceState(Bundle)\n```\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n```\n### 发生异常\n#### onCreate()发生异常\n>onCreate—>onPause—>onSaveInstanceState()->onStop—>onDestroy\n#### onStart()发生异常\n>onCreate—>onStart—>onPause—>onSaveInstanceState()->onStop—>onDestroy\n#### onResume()发生异常\n>onCreate—>onStart—>onResume—>onPause—>onSaveInstanceState()->onStop—>onDestroy  \n\n### 横竖屏切换\n>当前Task:A,处于坚屏状态\n>当A 进入横屏状态\n>onPause()->onSaveInstanceState(Bundle)->onStop()-onDestory->onCreate(Bundle)->onStart()-onRestoreInstanceState(Bundle)-onResume()\n```\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onPause: 调用了onPause\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onStop: 调用onStop\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onDestroy: 调用onDestroy\n03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onCreate: 调用onCreate，获取当前Task的id12\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onStart: 调用onstart()\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onRestoreInstanceState(Bundle savedInstanceState): 恢复实例\n03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onResume: 调用了onResume\n```\n### 更高优先级的应用需要内存\nonStop()->onCreate()-onStart()-onResume()\n\n>有不对的地方，还请大神多指教\n\n","slug":"再总结一下activity的生命周期吧","published":1,"updated":"2017-04-18T13:38:57.881Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anf0027a0uslbg0qjmg","content":"<h2 id=\"文章参考自\"><a href=\"#文章参考自\" class=\"headerlink\" title=\"文章参考自\"></a>文章参考自</h2><p><a href=\"http://www.jianshu.com/p/54cdc02ccd93\" target=\"_blank\" rel=\"external\">谈谈Activity生命周期和启动模式(一)- ReturnYHH</a><br><a href=\"http://www.jianshu.com/p/ca0d8b7680ed\" target=\"_blank\" rel=\"external\">谈谈Activity生命周期和启动模式(二)- ReturnYHH</a><br><a href=\"http://blog.csdn.net/data_hlk/article/details/51472252\" target=\"_blank\" rel=\"external\">Activity生命周期中我们可以做些什么?-小坤同学</a><br><a href=\"https://developer.android.google.cn/reference/android/app/Activity.html\" target=\"_blank\" rel=\"external\">Activity-android Developer API doc</a></p>\n<blockquote>\n<p>如果有侵权行为，请及时通知我，一般不会吧-_-!</p>\n</blockquote>\n<a id=\"more\"></a>\n<h1 id=\"再总结一下activity的周期吧\"><a href=\"#再总结一下activity的周期吧\" class=\"headerlink\" title=\"再总结一下activity的周期吧\"></a>再总结一下activity的周期吧</h1><p>按back按钮、进入home screen、发生异常、横竖屏切换、更高优先级应用程序需要内存，这个几个方面入手测试总结吧。我们需要特别注意onSaveInstanceState()和onRestoreInstanceState()的调用情况。</p>\n<h2 id=\"先给一张标准的activity生命周期吧（中英文都给你们吧）\"><a href=\"#先给一张标准的activity生命周期吧（中英文都给你们吧）\" class=\"headerlink\" title=\"先给一张标准的activity生命周期吧（中英文都给你们吧）\"></a>先给一张标准的activity生命周期吧（中英文都给你们吧）</h2><p><img src=\"/2017/03/27/再总结一下activity的生命周期吧/1生命周期中文.png\" alt=\"1生命周期中文\"><br><img src=\"/2017/03/27/再总结一下activity的生命周期吧/2生命周期英文.png\" alt=\"1生命周期中文\"></p>\n<h2 id=\"android官方文档以三个点来总体分析activity的生命周期\"><a href=\"#android官方文档以三个点来总体分析activity的生命周期\" class=\"headerlink\" title=\"android官方文档以三个点来总体分析activity的生命周期\"></a>android官方文档以三个点来总体分析activity的生命周期</h2><h3 id=\"全部的生命周期-entire-lifetime\"><a href=\"#全部的生命周期-entire-lifetime\" class=\"headerlink\" title=\"全部的生命周期(entire lifetime)\"></a>全部的生命周期(entire lifetime)</h3><blockquote>\n<p>The entire lifetime of an activity happens between the first call to onCreate(Bundle) through to a single final call to onDestroy(). An activity will do all setup of “global” state in onCreate(), and release all remaining resources in onDestroy(). For example, if it has a thread running in the background to download data from the network, it may create that thread in onCreate() and then stop the thread in onDestroy().<br>activity的全部生命周期发生在首次调用onCreate(Bundle)到最后调用onDestroy()，一个activity将在onCreate()方法里面做所有目标状态的配置，和在onDestroy()里面释放所有残留的资源。例如，一个线程在网络中正在下载所有的数据，这个activity可能在onCreate()创建这个线程并且在之后在onDestroy()停止这个线程。</p>\n<h3 id=\"可见生命周期-visiable-lifetime\"><a href=\"#可见生命周期-visiable-lifetime\" class=\"headerlink\" title=\"可见生命周期(visiable lifetime)\"></a>可见生命周期(visiable lifetime)</h3><p>The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop(). During this time the user can see the activity on-screen, though it may not be in the foreground and interacting with the user. Between these two methods you can maintain resources that are needed to show the activity to the user. For example, you can register a BroadcastReceiver in onStart() to monitor for changes that impact your UI, and unregister it in onStop() when the user no longer sees what you are displaying. The onStart() and onStop() methods can be called multiple times, as the activity becomes visible and hidden to the user.<br>activity的可见生命周期发生在onStart()的调用，到在合适的情况下调用onStop()方法。在这个期间内用户可以看activity在屏幕上，即使它可能不在前台与用户交互。在这两个方法之前，你可以保留资源去展示activity给用户。例如，你可以注册一个广播接收者在onStart()监视影响用户的更改，也可以在用户不再看到你所显示的情况下，在onStop()中unregister这个广播。在activity变成显示隐藏给用户下，onStart()和onStop()方法可以被多次调用。</p>\n<h3 id=\"前台生命周期-foreground-lifetime\"><a href=\"#前台生命周期-foreground-lifetime\" class=\"headerlink\" title=\"前台生命周期(foreground lifetime)\"></a>前台生命周期(foreground lifetime)</h3><p>The foreground lifetime of an activity happens between a call to onResume() until a corresponding call to onPause(). During this time the activity is in front of all other activities and interacting with the user. An activity can frequently go between the resumed and paused states – for example when the device goes to sleep, when an activity result is delivered, when a new intent is delivered – so the code in these methods should be fairly lightweight.<br>activity的前台生命周期发生在onResume()调用，到在合适的情况下调用onPause()。在这期间activity是在所有其他的activities之前并且与用户交互。一个activity可以频繁地复位暂停状态————例如，当设备进入睡眠状态时，当一个activity结果被发布/发表时，当一个新意图被发布/发表时————因此代码在这些方法里面应该适当地做轻量工作。</p>\n<h2 id=\"再总结一下各个生命周期可以处理什么的事情吧\"><a href=\"#再总结一下各个生命周期可以处理什么的事情吧\" class=\"headerlink\" title=\"再总结一下各个生命周期可以处理什么的事情吧\"></a>再总结一下各个生命周期可以处理什么的事情吧</h2><h3 id=\"onCreate\"><a href=\"#onCreate\" class=\"headerlink\" title=\"onCreate()\"></a>onCreate()</h3><p>Called when the activity is first created. This is where you should do all of your normal static set up: create views, bind data to lists, etc. This method also provides you with a Bundle containing the activity’s previously frozen state, if there was one.<br>Always followed by onStart().<br>当activity第一次被创建的时候调用。这儿应该做全部的静态安装，如<strong>创建视图，绑定数据到列表</strong>等等。这个方法也提供了一个Bundle（onCreate(Bundle savedInstanceState)中的参数），这个Bundle提供activity之前冻结的状态，如果有相关状态数据,<strong>状态及数据会被恢复</strong>。onCreate方法总是与OnStart()一起被调用。</p>\n<h3 id=\"onRestart\"><a href=\"#onRestart\" class=\"headerlink\" title=\"onRestart()\"></a>onRestart()</h3><p>Called after your activity has been stopped, prior to it being started again.<br>Always followed by onStart()<br>你的activity停止后，再次优先启动后调用。总是在这之后调用onStart()  </p>\n</blockquote>\n<h3 id=\"onStart\"><a href=\"#onStart\" class=\"headerlink\" title=\"onStart()\"></a>onStart()</h3><blockquote>\n<p>Called when the activity is becoming visible to the user.<br>Followed by onResume() if the activity comes to the foreground, or onStop() if it becomes hidden.<br>当与onResume()一起调用使用activity进入前台，变成用户可见时调用。或者与onStop一起调用变成隐藏状态。  </p>\n<p><strong>一般可以通过在此注册broadcastReceiver来监控影响UI或者加载一些资源</strong></p>\n<h3 id=\"onResume\"><a href=\"#onResume\" class=\"headerlink\" title=\"onResume()\"></a>onResume()</h3><p>Called when the activity will start interacting with the user. At this point your activity is at the top of the activity stack, with user input going to it.<br>Always followed by onPause().<br>当activity将开始与用户交互时调用，在这一点你的actvity是在activity栈顶上，处于用户的输入。总是在这之后调用onPause()。</p>\n<h3 id=\"onPause\"><a href=\"#onPause\" class=\"headerlink\" title=\"onPause()\"></a>onPause()</h3><p>Called when the system is about to start resuming a previous activity. This is typically used to commit unsaved changes to persistent data, stop animations and other things that may be consuming CPU, etc. Implementations of this method must be very quick because the next activity will not be resumed until this method returns.<br>Followed by either onResume() if the activity returns back to the front, or onStop() if it becomes invisible to the user<br>系统开始正在复位之前的activity时调用。这个经常用于提交未保存的改变的持久性数据，停止动画和其他消耗CPU等等的事情。这个方法的实现必须是非常快的，因为下一个activity将不会复位，直到这个方法return后。</p>\n<h3 id=\"onStop\"><a href=\"#onStop\" class=\"headerlink\" title=\"onStop()\"></a>onStop()</h3><p>Called when the activity is no longer visible to the user, because another activity has been resumed and is covering this one. This may happen either because a new activity is being started, an existing one is being brought in front of this one, or this one is being destroyed.<br>Followed by either onRestart() if this activity is coming back to interact with the user, or onDestroy() if this activity is going away.<br>当activity不再显示给用户时调用，因为其他activity 复位并且覆盖它。这可能发生要么是因为一个新的activity正在启动，一个存在的activity被带到前面的这一个activity，或者这一个activity正在被摧毁。</p>\n<h3 id=\"onDestory\"><a href=\"#onDestory\" class=\"headerlink\" title=\"onDestory()\"></a>onDestory()</h3><p>The final call you receive before your activity is destroyed. This can happen either because the activity is finishing (someone called finish() on it, or because the system is temporarily destroying this instance of the activity to save space. You can distinguish between these two scenarios with the isFinishing() method.<br>在你的activity被销毁之前最终的调用。这会发生的原因，要么是activity正在完成（某人调用finish()在activity中，或者因为系统暂时销毁地activity的实例去节省内存。）</p>\n<h2 id=\"影响activity生命周期的几种情况\"><a href=\"#影响activity生命周期的几种情况\" class=\"headerlink\" title=\"影响activity生命周期的几种情况\"></a>影响activity生命周期的几种情况</h2><h3 id=\"按back按钮\"><a href=\"#按back按钮\" class=\"headerlink\" title=\"按back按钮\"></a>按back按钮</h3><p>当前Task：A，再创建B<br>以下为打印结果，当前Task:A-B</p>\n<p>由打印结果可以看A会预先调用OnPause()，表示开始进入暂时状态，等到目标启动B复位在前台显示时，才会执行onSaveInstanceState(Bundle outState)，再调用onStop()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:29:52.938 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  </div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onCreate(Bundle savedInstanceState): 调用onCreate，获取当前Task的id4</div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</div><div class=\"line\">03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div></pre></td></tr></table></figure></p>\n<p>当B按了“back”<br>以下为打印结果，此时Task:A<br>Activity并没有调用onRestoreInstanceState()，可能是activity在非常状态退出，可能会调用onRestoreInstanceState()恢复activity的实例<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:31:53.018 5057-5057/com.app.androidbasic I/ActivityB: onPause: 调用了onPause</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div><div class=\"line\">03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onStop: 调用onStop</div><div class=\"line\">03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"进入home\"><a href=\"#进入home\" class=\"headerlink\" title=\"进入home\"></a>进入home</h3><blockquote>\n<p>当前Task A-B,点击“Home”进入home screen</p>\n<p>B执行了onPause()-onSaveInstanceState(Bundle)-onStop()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:39:22.088 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  </div><div class=\"line\">03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div></pre></td></tr></table></figure></p>\n<p>从Home恢复前台时，B并没有调用onRestoreInstanceState(Bundle)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart</div><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"发生异常\"><a href=\"#发生异常\" class=\"headerlink\" title=\"发生异常\"></a>发生异常</h3><h4 id=\"onCreate-发生异常\"><a href=\"#onCreate-发生异常\" class=\"headerlink\" title=\"onCreate()发生异常\"></a>onCreate()发生异常</h4><blockquote>\n<p>onCreate—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy</p>\n<h4 id=\"onStart-发生异常\"><a href=\"#onStart-发生异常\" class=\"headerlink\" title=\"onStart()发生异常\"></a>onStart()发生异常</h4><p>onCreate—&gt;onStart—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy</p>\n<h4 id=\"onResume-发生异常\"><a href=\"#onResume-发生异常\" class=\"headerlink\" title=\"onResume()发生异常\"></a>onResume()发生异常</h4><p>onCreate—&gt;onStart—&gt;onResume—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy  </p>\n</blockquote>\n<h3 id=\"横竖屏切换\"><a href=\"#横竖屏切换\" class=\"headerlink\" title=\"横竖屏切换\"></a>横竖屏切换</h3><blockquote>\n<p>当前Task:A,处于坚屏状态<br>当A 进入横屏状态<br>onPause()-&gt;onSaveInstanceState(Bundle)-&gt;onStop()-onDestory-&gt;onCreate(Bundle)-&gt;onStart()-onRestoreInstanceState(Bundle)-onResume()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onPause: 调用了onPause</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onDestroy: 调用onDestroy</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onCreate: 调用onCreate，获取当前Task的id12</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onRestoreInstanceState(Bundle savedInstanceState): 恢复实例</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"更高优先级的应用需要内存\"><a href=\"#更高优先级的应用需要内存\" class=\"headerlink\" title=\"更高优先级的应用需要内存\"></a>更高优先级的应用需要内存</h3><p>onStop()-&gt;onCreate()-onStart()-onResume()</p>\n<blockquote>\n<p>有不对的地方，还请大神多指教</p>\n</blockquote>\n","excerpt":"<h2 id=\"文章参考自\"><a href=\"#文章参考自\" class=\"headerlink\" title=\"文章参考自\"></a>文章参考自</h2><p><a href=\"http://www.jianshu.com/p/54cdc02ccd93\">谈谈Activity生命周期和启动模式(一)- ReturnYHH</a><br><a href=\"http://www.jianshu.com/p/ca0d8b7680ed\">谈谈Activity生命周期和启动模式(二)- ReturnYHH</a><br><a href=\"http://blog.csdn.net/data_hlk/article/details/51472252\">Activity生命周期中我们可以做些什么?-小坤同学</a><br><a href=\"https://developer.android.google.cn/reference/android/app/Activity.html\">Activity-android Developer API doc</a></p>\n<blockquote>\n<p>如果有侵权行为，请及时通知我，一般不会吧-_-!</p>\n</blockquote>","more":"<h1 id=\"再总结一下activity的周期吧\"><a href=\"#再总结一下activity的周期吧\" class=\"headerlink\" title=\"再总结一下activity的周期吧\"></a>再总结一下activity的周期吧</h1><p>按back按钮、进入home screen、发生异常、横竖屏切换、更高优先级应用程序需要内存，这个几个方面入手测试总结吧。我们需要特别注意onSaveInstanceState()和onRestoreInstanceState()的调用情况。</p>\n<h2 id=\"先给一张标准的activity生命周期吧（中英文都给你们吧）\"><a href=\"#先给一张标准的activity生命周期吧（中英文都给你们吧）\" class=\"headerlink\" title=\"先给一张标准的activity生命周期吧（中英文都给你们吧）\"></a>先给一张标准的activity生命周期吧（中英文都给你们吧）</h2><p><img src=\"/2017/03/27/再总结一下activity的生命周期吧/1生命周期中文.png\" alt=\"1生命周期中文\"><br><img src=\"/2017/03/27/再总结一下activity的生命周期吧/2生命周期英文.png\" alt=\"1生命周期中文\"></p>\n<h2 id=\"android官方文档以三个点来总体分析activity的生命周期\"><a href=\"#android官方文档以三个点来总体分析activity的生命周期\" class=\"headerlink\" title=\"android官方文档以三个点来总体分析activity的生命周期\"></a>android官方文档以三个点来总体分析activity的生命周期</h2><h3 id=\"全部的生命周期-entire-lifetime\"><a href=\"#全部的生命周期-entire-lifetime\" class=\"headerlink\" title=\"全部的生命周期(entire lifetime)\"></a>全部的生命周期(entire lifetime)</h3><blockquote>\n<p>The entire lifetime of an activity happens between the first call to onCreate(Bundle) through to a single final call to onDestroy(). An activity will do all setup of “global” state in onCreate(), and release all remaining resources in onDestroy(). For example, if it has a thread running in the background to download data from the network, it may create that thread in onCreate() and then stop the thread in onDestroy().<br>activity的全部生命周期发生在首次调用onCreate(Bundle)到最后调用onDestroy()，一个activity将在onCreate()方法里面做所有目标状态的配置，和在onDestroy()里面释放所有残留的资源。例如，一个线程在网络中正在下载所有的数据，这个activity可能在onCreate()创建这个线程并且在之后在onDestroy()停止这个线程。</p>\n<h3 id=\"可见生命周期-visiable-lifetime\"><a href=\"#可见生命周期-visiable-lifetime\" class=\"headerlink\" title=\"可见生命周期(visiable lifetime)\"></a>可见生命周期(visiable lifetime)</h3><p>The visible lifetime of an activity happens between a call to onStart() until a corresponding call to onStop(). During this time the user can see the activity on-screen, though it may not be in the foreground and interacting with the user. Between these two methods you can maintain resources that are needed to show the activity to the user. For example, you can register a BroadcastReceiver in onStart() to monitor for changes that impact your UI, and unregister it in onStop() when the user no longer sees what you are displaying. The onStart() and onStop() methods can be called multiple times, as the activity becomes visible and hidden to the user.<br>activity的可见生命周期发生在onStart()的调用，到在合适的情况下调用onStop()方法。在这个期间内用户可以看activity在屏幕上，即使它可能不在前台与用户交互。在这两个方法之前，你可以保留资源去展示activity给用户。例如，你可以注册一个广播接收者在onStart()监视影响用户的更改，也可以在用户不再看到你所显示的情况下，在onStop()中unregister这个广播。在activity变成显示隐藏给用户下，onStart()和onStop()方法可以被多次调用。</p>\n<h3 id=\"前台生命周期-foreground-lifetime\"><a href=\"#前台生命周期-foreground-lifetime\" class=\"headerlink\" title=\"前台生命周期(foreground lifetime)\"></a>前台生命周期(foreground lifetime)</h3><p>The foreground lifetime of an activity happens between a call to onResume() until a corresponding call to onPause(). During this time the activity is in front of all other activities and interacting with the user. An activity can frequently go between the resumed and paused states – for example when the device goes to sleep, when an activity result is delivered, when a new intent is delivered – so the code in these methods should be fairly lightweight.<br>activity的前台生命周期发生在onResume()调用，到在合适的情况下调用onPause()。在这期间activity是在所有其他的activities之前并且与用户交互。一个activity可以频繁地复位暂停状态————例如，当设备进入睡眠状态时，当一个activity结果被发布/发表时，当一个新意图被发布/发表时————因此代码在这些方法里面应该适当地做轻量工作。</p>\n<h2 id=\"再总结一下各个生命周期可以处理什么的事情吧\"><a href=\"#再总结一下各个生命周期可以处理什么的事情吧\" class=\"headerlink\" title=\"再总结一下各个生命周期可以处理什么的事情吧\"></a>再总结一下各个生命周期可以处理什么的事情吧</h2><h3 id=\"onCreate\"><a href=\"#onCreate\" class=\"headerlink\" title=\"onCreate()\"></a>onCreate()</h3><p>Called when the activity is first created. This is where you should do all of your normal static set up: create views, bind data to lists, etc. This method also provides you with a Bundle containing the activity’s previously frozen state, if there was one.<br>Always followed by onStart().<br>当activity第一次被创建的时候调用。这儿应该做全部的静态安装，如<strong>创建视图，绑定数据到列表</strong>等等。这个方法也提供了一个Bundle（onCreate(Bundle savedInstanceState)中的参数），这个Bundle提供activity之前冻结的状态，如果有相关状态数据,<strong>状态及数据会被恢复</strong>。onCreate方法总是与OnStart()一起被调用。</p>\n<h3 id=\"onRestart\"><a href=\"#onRestart\" class=\"headerlink\" title=\"onRestart()\"></a>onRestart()</h3><p>Called after your activity has been stopped, prior to it being started again.<br>Always followed by onStart()<br>你的activity停止后，再次优先启动后调用。总是在这之后调用onStart()  </p>\n</blockquote>\n<h3 id=\"onStart\"><a href=\"#onStart\" class=\"headerlink\" title=\"onStart()\"></a>onStart()</h3><blockquote>\n<p>Called when the activity is becoming visible to the user.<br>Followed by onResume() if the activity comes to the foreground, or onStop() if it becomes hidden.<br>当与onResume()一起调用使用activity进入前台，变成用户可见时调用。或者与onStop一起调用变成隐藏状态。  </p>\n<p><strong>一般可以通过在此注册broadcastReceiver来监控影响UI或者加载一些资源</strong></p>\n<h3 id=\"onResume\"><a href=\"#onResume\" class=\"headerlink\" title=\"onResume()\"></a>onResume()</h3><p>Called when the activity will start interacting with the user. At this point your activity is at the top of the activity stack, with user input going to it.<br>Always followed by onPause().<br>当activity将开始与用户交互时调用，在这一点你的actvity是在activity栈顶上，处于用户的输入。总是在这之后调用onPause()。</p>\n<h3 id=\"onPause\"><a href=\"#onPause\" class=\"headerlink\" title=\"onPause()\"></a>onPause()</h3><p>Called when the system is about to start resuming a previous activity. This is typically used to commit unsaved changes to persistent data, stop animations and other things that may be consuming CPU, etc. Implementations of this method must be very quick because the next activity will not be resumed until this method returns.<br>Followed by either onResume() if the activity returns back to the front, or onStop() if it becomes invisible to the user<br>系统开始正在复位之前的activity时调用。这个经常用于提交未保存的改变的持久性数据，停止动画和其他消耗CPU等等的事情。这个方法的实现必须是非常快的，因为下一个activity将不会复位，直到这个方法return后。</p>\n<h3 id=\"onStop\"><a href=\"#onStop\" class=\"headerlink\" title=\"onStop()\"></a>onStop()</h3><p>Called when the activity is no longer visible to the user, because another activity has been resumed and is covering this one. This may happen either because a new activity is being started, an existing one is being brought in front of this one, or this one is being destroyed.<br>Followed by either onRestart() if this activity is coming back to interact with the user, or onDestroy() if this activity is going away.<br>当activity不再显示给用户时调用，因为其他activity 复位并且覆盖它。这可能发生要么是因为一个新的activity正在启动，一个存在的activity被带到前面的这一个activity，或者这一个activity正在被摧毁。</p>\n<h3 id=\"onDestory\"><a href=\"#onDestory\" class=\"headerlink\" title=\"onDestory()\"></a>onDestory()</h3><p>The final call you receive before your activity is destroyed. This can happen either because the activity is finishing (someone called finish() on it, or because the system is temporarily destroying this instance of the activity to save space. You can distinguish between these two scenarios with the isFinishing() method.<br>在你的activity被销毁之前最终的调用。这会发生的原因，要么是activity正在完成（某人调用finish()在activity中，或者因为系统暂时销毁地activity的实例去节省内存。）</p>\n<h2 id=\"影响activity生命周期的几种情况\"><a href=\"#影响activity生命周期的几种情况\" class=\"headerlink\" title=\"影响activity生命周期的几种情况\"></a>影响activity生命周期的几种情况</h2><h3 id=\"按back按钮\"><a href=\"#按back按钮\" class=\"headerlink\" title=\"按back按钮\"></a>按back按钮</h3><p>当前Task：A，再创建B<br>以下为打印结果，当前Task:A-B</p>\n<p>由打印结果可以看A会预先调用OnPause()，表示开始进入暂时状态，等到目标启动B复位在前台显示时，才会执行onSaveInstanceState(Bundle outState)，再调用onStop()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:29:52.938 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  </div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onCreate(Bundle savedInstanceState): 调用onCreate，获取当前Task的id4</div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</div><div class=\"line\">03-27 13:29:52.968 5057-5057/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</div><div class=\"line\">03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 13:29:53.398 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div></pre></td></tr></table></figure></p>\n<p>当B按了“back”<br>以下为打印结果，此时Task:A<br>Activity并没有调用onRestoreInstanceState()，可能是activity在非常状态退出，可能会调用onRestoreInstanceState()恢复activity的实例<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:31:53.018 5057-5057/com.app.androidbasic I/ActivityB: onPause: 调用了onPause</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 13:31:53.028 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div><div class=\"line\">03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onStop: 调用onStop</div><div class=\"line\">03-27 13:31:53.438 5057-5057/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"进入home\"><a href=\"#进入home\" class=\"headerlink\" title=\"进入home\"></a>进入home</h3><blockquote>\n<p>当前Task A-B,点击“Home”进入home screen</p>\n<p>B执行了onPause()-onSaveInstanceState(Bundle)-onStop()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:39:22.088 5057-5057/com.app.androidbasic I/ActivityA: onPause: 调用了onPause  </div><div class=\"line\">03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 13:39:22.688 5057-5057/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div></pre></td></tr></table></figure></p>\n<p>从Home恢复前台时，B并没有调用onRestoreInstanceState(Bundle)<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onRestart: 调用了onRestart</div><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 13:41:55.068 5057-5057/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"发生异常\"><a href=\"#发生异常\" class=\"headerlink\" title=\"发生异常\"></a>发生异常</h3><h4 id=\"onCreate-发生异常\"><a href=\"#onCreate-发生异常\" class=\"headerlink\" title=\"onCreate()发生异常\"></a>onCreate()发生异常</h4><blockquote>\n<p>onCreate—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy</p>\n<h4 id=\"onStart-发生异常\"><a href=\"#onStart-发生异常\" class=\"headerlink\" title=\"onStart()发生异常\"></a>onStart()发生异常</h4><p>onCreate—&gt;onStart—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy</p>\n<h4 id=\"onResume-发生异常\"><a href=\"#onResume-发生异常\" class=\"headerlink\" title=\"onResume()发生异常\"></a>onResume()发生异常</h4><p>onCreate—&gt;onStart—&gt;onResume—&gt;onPause—&gt;onSaveInstanceState()-&gt;onStop—&gt;onDestroy  </p>\n</blockquote>\n<h3 id=\"横竖屏切换\"><a href=\"#横竖屏切换\" class=\"headerlink\" title=\"横竖屏切换\"></a>横竖屏切换</h3><blockquote>\n<p>当前Task:A,处于坚屏状态<br>当A 进入横屏状态<br>onPause()-&gt;onSaveInstanceState(Bundle)-&gt;onStop()-onDestory-&gt;onCreate(Bundle)-&gt;onStart()-onRestoreInstanceState(Bundle)-onResume()<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onPause: 调用了onPause</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onSaveInstanceState(Bundle outState): 保存状态信息</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onStop: 调用onStop</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onDestroy: 调用onDestroy</div><div class=\"line\">03-27 14:10:57.668 10213-10213/com.app.androidbasic I/ActivityA: onCreate: 调用onCreate，获取当前Task的id12</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onStart: 调用onstart()</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onRestoreInstanceState(Bundle savedInstanceState): 恢复实例</div><div class=\"line\">03-27 14:10:57.708 10213-10213/com.app.androidbasic I/ActivityA: onResume: 调用了onResume</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"更高优先级的应用需要内存\"><a href=\"#更高优先级的应用需要内存\" class=\"headerlink\" title=\"更高优先级的应用需要内存\"></a>更高优先级的应用需要内存</h3><p>onStop()-&gt;onCreate()-onStart()-onResume()</p>\n<blockquote>\n<p>有不对的地方，还请大神多指教</p>\n</blockquote>"},{"title":"理解Android Activity运行模式（understand Android Activity's launch mode）","date":"2017-03-22T15:26:54.000Z","_content":"## 文章参考自\n[Understand Android Activity's LaunchMode:standard,singleTop,singleTask,and singleInstance](https://inthecheesefactory.com/blog/understand-android-activity-launchmode/en)\n\n[Activity启动模式及Intent Flags与栈的关联分析](http://blog.csdn.net/vipzjyno1/article/details/25463457)\n\n# 理解Android Activity运行模式（understand Android Activity's launch mode）\n## Activity's LaunchMode\nactivity的启动模式，设置了不同的启动模式activity会不同的启动方式，一般使用Intent中的Flag常量来标示如何启动一个Activity\n<!--more-->\n## understand Tasks and Back Stack(任务队列和回退栈)\n### Task\n一个Task是由多个Activity组成，一个应用程序可以有多个任务队列，在Android7.0的新特性——多窗口模式，每一个窗口都会创建一个Task\n\n### Back Stack\nTask中的多个Activity被安排在Back Stack中\n### 可以通过Activity在app中的状态来理解Task和Stack\n1、 在Task中，当Activity A启动Activity B时，当前A会调用onPause()-onStop()，A不在栈顶，没有显示在最前，但是A会保存一些基本的状态（例如滚动的位置或者text），Task状态为A-B，如果用户点击navigation back button时,Activity B会调用onPause()-onStop()-onDestroy()对栈顶进行pop（移出并销毁）,此时Activity A回到栈顶，调用onRestart()-onStart()-onResume()，恢复原来的状态\n\n2、当用点击Home Screen时，栈顶Activity会执行onPause()-onStop()，其他Activity之前置于栈下面时，就已经调用了onPause()-onStop(),所以所有activity都看不见了，这个过程，Task进入了后台运行\n4、Activity可以在不同时间、不同Task中实例化多次\n## type of LaunchMode\n### standard\n这个模式是默认的Activity的启动模式，每次启动Activity都会创建一个新实例，不会考虑之前实例了多少个这样的Activity\n\n![standard的activity启动时，task的状态](理解Android Activity运行模式（understand Android Activity's launch mode）/diagram_backstack.png)\n### singleTop\n这个模式下当前activity如果在栈顶，也就是正在前景，如果调用startActivity，启动当前activity，则会取出栈顶的activity。\n### SingleTask\n这个模式下，如果当需要打一个activity A，这个A已经在当前Task存在了，此模式会pop在A之上的所有Activity，使A处栈顶，处于前景，系统会调用onNewIntent(),而不创建新实例。\n\n如果当前Task为A-B-C-D，则从D-B，B不会被重新创建，而是直接恢复引用，置于foreground\n以下是activity B的生命周期打印结果，可见，B是不会被重新创建的\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onRestart: 调用了onRestart\n>\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n>\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n\n![singleTask](理解Android Activity运行模式（understand Android Activity's launch mode）/2017-03-23_105452.png)\n\n![singleTask](理解Android Activity运行模式（understand Android Activity's launch mode）/singleTask.gif)\n### SingleInstance\nTask1中A-B-C，当C启动D时，运用此模式下，会将D压入一个新Task中，Task2中D,此时D显示在屏幕上，当D启动C时，模式为standard时，那么会回Task1中，并创建一个新实例C，此时Task1中的结构为A-B-C-C，点击navigation back不会回到D\n\n![singleInstance](理解Android Activity运行模式（understand Android Activity's launch mode）/singleInstance.png)\n### launchMode and Flag\n\nManifest.xml中定义 | 同等于Intent.FLAG_ACTIVITY_*常量\n---|---\nstandard | 默认\nsingleTop | FLAG_ACTIVITY_SINGLE_TOP\nsingleTask|singleTop结合FLAG_ACTIVITY_CLEAR_TOP\nsingleInstance|FLAG_ACTIVITY_NEW_TASK\n### 详细解释Intent.FLAG\n#### FLAG_ACTIVITY_NEW_TASK\n这个flag必须与taskAffinity结合才能使用\n\n#### FLAG_ACTIVITY_CLEAR_TOP\n请注意和singleTask的区别，与singleTask的区别，FLAG_ACTIVITY_CLEAR_TOP会销毁启动的目标activity，再重新创建一个实例\n如果当前Task为A-B-C-D，则从D-B，B会被销毁重新创建\n\n以下为打印的结果，可以得知，B被重新创建\n>03-23 13:23:01.858 19000-19000/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onCreate: 调用onCreate，获取当前Task的id6\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n\n此标志可以与singleTop结合，实现与singleTask一样的效果，但是一般不使用，因为还不如直接使用singleTask\n#### FLAG_ACTIVITY_BROUGHT_TO_FRONT\n>This flag is not normally set by application code, but set for you by the system as described in the launchMode documentation for the singleTask mode.\n这个flag通常不是由我们来定义的，但是设置了singleTask mode系统会自动为我们设置这个标志\n\n#### FLAG_ACTIVITY_CLEAR_TASK\n>If set in an Intent passed to Context.startActivity(), this flag will cause any existing task that would be associated with the activity to be cleared before the activity is started. That is, the activity becomes the new root of an otherwise empty task, and any old activities are finished. This can only be used in conjunction with FLAG_ACTIVITY_NEW_TASK.\n>\n>如果设置了这个flag，将会导致已在的task与之关联的activity被清除，这个flag只能与FLAG_ACTIVITY_NEW_TASK结合使用","source":"_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）.md","raw":"---\ntitle: 理解Android Activity运行模式（understand Android Activity's launch mode）\ndate: 2017-03-22 23:26:54\ncategories:\n  - android\n  - 四大组件\n  - activity\ntags:\n  - android\n  - activity launchMode\n---\n## 文章参考自\n[Understand Android Activity's LaunchMode:standard,singleTop,singleTask,and singleInstance](https://inthecheesefactory.com/blog/understand-android-activity-launchmode/en)\n\n[Activity启动模式及Intent Flags与栈的关联分析](http://blog.csdn.net/vipzjyno1/article/details/25463457)\n\n# 理解Android Activity运行模式（understand Android Activity's launch mode）\n## Activity's LaunchMode\nactivity的启动模式，设置了不同的启动模式activity会不同的启动方式，一般使用Intent中的Flag常量来标示如何启动一个Activity\n<!--more-->\n## understand Tasks and Back Stack(任务队列和回退栈)\n### Task\n一个Task是由多个Activity组成，一个应用程序可以有多个任务队列，在Android7.0的新特性——多窗口模式，每一个窗口都会创建一个Task\n\n### Back Stack\nTask中的多个Activity被安排在Back Stack中\n### 可以通过Activity在app中的状态来理解Task和Stack\n1、 在Task中，当Activity A启动Activity B时，当前A会调用onPause()-onStop()，A不在栈顶，没有显示在最前，但是A会保存一些基本的状态（例如滚动的位置或者text），Task状态为A-B，如果用户点击navigation back button时,Activity B会调用onPause()-onStop()-onDestroy()对栈顶进行pop（移出并销毁）,此时Activity A回到栈顶，调用onRestart()-onStart()-onResume()，恢复原来的状态\n\n2、当用点击Home Screen时，栈顶Activity会执行onPause()-onStop()，其他Activity之前置于栈下面时，就已经调用了onPause()-onStop(),所以所有activity都看不见了，这个过程，Task进入了后台运行\n4、Activity可以在不同时间、不同Task中实例化多次\n## type of LaunchMode\n### standard\n这个模式是默认的Activity的启动模式，每次启动Activity都会创建一个新实例，不会考虑之前实例了多少个这样的Activity\n\n![standard的activity启动时，task的状态](理解Android Activity运行模式（understand Android Activity's launch mode）/diagram_backstack.png)\n### singleTop\n这个模式下当前activity如果在栈顶，也就是正在前景，如果调用startActivity，启动当前activity，则会取出栈顶的activity。\n### SingleTask\n这个模式下，如果当需要打一个activity A，这个A已经在当前Task存在了，此模式会pop在A之上的所有Activity，使A处栈顶，处于前景，系统会调用onNewIntent(),而不创建新实例。\n\n如果当前Task为A-B-C-D，则从D-B，B不会被重新创建，而是直接恢复引用，置于foreground\n以下是activity B的生命周期打印结果，可见，B是不会被重新创建的\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onRestart: 调用了onRestart\n>\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n>\n>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n\n![singleTask](理解Android Activity运行模式（understand Android Activity's launch mode）/2017-03-23_105452.png)\n\n![singleTask](理解Android Activity运行模式（understand Android Activity's launch mode）/singleTask.gif)\n### SingleInstance\nTask1中A-B-C，当C启动D时，运用此模式下，会将D压入一个新Task中，Task2中D,此时D显示在屏幕上，当D启动C时，模式为standard时，那么会回Task1中，并创建一个新实例C，此时Task1中的结构为A-B-C-C，点击navigation back不会回到D\n\n![singleInstance](理解Android Activity运行模式（understand Android Activity's launch mode）/singleInstance.png)\n### launchMode and Flag\n\nManifest.xml中定义 | 同等于Intent.FLAG_ACTIVITY_*常量\n---|---\nstandard | 默认\nsingleTop | FLAG_ACTIVITY_SINGLE_TOP\nsingleTask|singleTop结合FLAG_ACTIVITY_CLEAR_TOP\nsingleInstance|FLAG_ACTIVITY_NEW_TASK\n### 详细解释Intent.FLAG\n#### FLAG_ACTIVITY_NEW_TASK\n这个flag必须与taskAffinity结合才能使用\n\n#### FLAG_ACTIVITY_CLEAR_TOP\n请注意和singleTask的区别，与singleTask的区别，FLAG_ACTIVITY_CLEAR_TOP会销毁启动的目标activity，再重新创建一个实例\n如果当前Task为A-B-C-D，则从D-B，B会被销毁重新创建\n\n以下为打印的结果，可以得知，B被重新创建\n>03-23 13:23:01.858 19000-19000/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onCreate: 调用onCreate，获取当前Task的id6\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onStart: 调用onstart()\n\n>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onResume: 调用了onResume\n\n此标志可以与singleTop结合，实现与singleTask一样的效果，但是一般不使用，因为还不如直接使用singleTask\n#### FLAG_ACTIVITY_BROUGHT_TO_FRONT\n>This flag is not normally set by application code, but set for you by the system as described in the launchMode documentation for the singleTask mode.\n这个flag通常不是由我们来定义的，但是设置了singleTask mode系统会自动为我们设置这个标志\n\n#### FLAG_ACTIVITY_CLEAR_TASK\n>If set in an Intent passed to Context.startActivity(), this flag will cause any existing task that would be associated with the activity to be cleared before the activity is started. That is, the activity becomes the new root of an otherwise empty task, and any old activities are finished. This can only be used in conjunction with FLAG_ACTIVITY_NEW_TASK.\n>\n>如果设置了这个flag，将会导致已在的task与之关联的activity被清除，这个flag只能与FLAG_ACTIVITY_NEW_TASK结合使用","slug":"理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）","published":1,"updated":"2017-04-18T13:39:04.048Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anj002ba0usgzdlfacm","content":"<h2 id=\"文章参考自\"><a href=\"#文章参考自\" class=\"headerlink\" title=\"文章参考自\"></a>文章参考自</h2><p><a href=\"https://inthecheesefactory.com/blog/understand-android-activity-launchmode/en\" target=\"_blank\" rel=\"external\">Understand Android Activity’s LaunchMode:standard,singleTop,singleTask,and singleInstance</a></p>\n<p><a href=\"http://blog.csdn.net/vipzjyno1/article/details/25463457\" target=\"_blank\" rel=\"external\">Activity启动模式及Intent Flags与栈的关联分析</a></p>\n<h1 id=\"理解Android-Activity运行模式（understand-Android-Activity’s-launch-mode）\"><a href=\"#理解Android-Activity运行模式（understand-Android-Activity’s-launch-mode）\" class=\"headerlink\" title=\"理解Android Activity运行模式（understand Android Activity’s launch mode）\"></a>理解Android Activity运行模式（understand Android Activity’s launch mode）</h1><h2 id=\"Activity’s-LaunchMode\"><a href=\"#Activity’s-LaunchMode\" class=\"headerlink\" title=\"Activity’s LaunchMode\"></a>Activity’s LaunchMode</h2><p>activity的启动模式，设置了不同的启动模式activity会不同的启动方式，一般使用Intent中的Flag常量来标示如何启动一个Activity<br><a id=\"more\"></a></p>\n<h2 id=\"understand-Tasks-and-Back-Stack-任务队列和回退栈\"><a href=\"#understand-Tasks-and-Back-Stack-任务队列和回退栈\" class=\"headerlink\" title=\"understand Tasks and Back Stack(任务队列和回退栈)\"></a>understand Tasks and Back Stack(任务队列和回退栈)</h2><h3 id=\"Task\"><a href=\"#Task\" class=\"headerlink\" title=\"Task\"></a>Task</h3><p>一个Task是由多个Activity组成，一个应用程序可以有多个任务队列，在Android7.0的新特性——多窗口模式，每一个窗口都会创建一个Task</p>\n<h3 id=\"Back-Stack\"><a href=\"#Back-Stack\" class=\"headerlink\" title=\"Back Stack\"></a>Back Stack</h3><p>Task中的多个Activity被安排在Back Stack中</p>\n<h3 id=\"可以通过Activity在app中的状态来理解Task和Stack\"><a href=\"#可以通过Activity在app中的状态来理解Task和Stack\" class=\"headerlink\" title=\"可以通过Activity在app中的状态来理解Task和Stack\"></a>可以通过Activity在app中的状态来理解Task和Stack</h3><p>1、 在Task中，当Activity A启动Activity B时，当前A会调用onPause()-onStop()，A不在栈顶，没有显示在最前，但是A会保存一些基本的状态（例如滚动的位置或者text），Task状态为A-B，如果用户点击navigation back button时,Activity B会调用onPause()-onStop()-onDestroy()对栈顶进行pop（移出并销毁）,此时Activity A回到栈顶，调用onRestart()-onStart()-onResume()，恢复原来的状态</p>\n<p>2、当用点击Home Screen时，栈顶Activity会执行onPause()-onStop()，其他Activity之前置于栈下面时，就已经调用了onPause()-onStop(),所以所有activity都看不见了，这个过程，Task进入了后台运行<br>4、Activity可以在不同时间、不同Task中实例化多次</p>\n<h2 id=\"type-of-LaunchMode\"><a href=\"#type-of-LaunchMode\" class=\"headerlink\" title=\"type of LaunchMode\"></a>type of LaunchMode</h2><h3 id=\"standard\"><a href=\"#standard\" class=\"headerlink\" title=\"standard\"></a>standard</h3><p>这个模式是默认的Activity的启动模式，每次启动Activity都会创建一个新实例，不会考虑之前实例了多少个这样的Activity</p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/diagram_backstack.png\" alt=\"standard的activity启动时，task的状态\"></p>\n<h3 id=\"singleTop\"><a href=\"#singleTop\" class=\"headerlink\" title=\"singleTop\"></a>singleTop</h3><p>这个模式下当前activity如果在栈顶，也就是正在前景，如果调用startActivity，启动当前activity，则会取出栈顶的activity。</p>\n<h3 id=\"SingleTask\"><a href=\"#SingleTask\" class=\"headerlink\" title=\"SingleTask\"></a>SingleTask</h3><p>这个模式下，如果当需要打一个activity A，这个A已经在当前Task存在了，此模式会pop在A之上的所有Activity，使A处栈顶，处于前景，系统会调用onNewIntent(),而不创建新实例。</p>\n<p>如果当前Task为A-B-C-D，则从D-B，B不会被重新创建，而是直接恢复引用，置于foreground<br>以下是activity B的生命周期打印结果，可见，B是不会被重新创建的</p>\n<blockquote>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onRestart: 调用了onRestart</p>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</p>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</p>\n</blockquote>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/2017-03-23_105452.png\" alt=\"singleTask\"></p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleTask.gif\" alt=\"singleTask\"></p>\n<h3 id=\"SingleInstance\"><a href=\"#SingleInstance\" class=\"headerlink\" title=\"SingleInstance\"></a>SingleInstance</h3><p>Task1中A-B-C，当C启动D时，运用此模式下，会将D压入一个新Task中，Task2中D,此时D显示在屏幕上，当D启动C时，模式为standard时，那么会回Task1中，并创建一个新实例C，此时Task1中的结构为A-B-C-C，点击navigation back不会回到D</p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleInstance.png\" alt=\"singleInstance\"></p>\n<h3 id=\"launchMode-and-Flag\"><a href=\"#launchMode-and-Flag\" class=\"headerlink\" title=\"launchMode and Flag\"></a>launchMode and Flag</h3><table>\n<thead>\n<tr>\n<th>Manifest.xml中定义</th>\n<th>同等于Intent.FLAG<em>ACTIVITY</em>*常量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>standard</td>\n<td>默认</td>\n</tr>\n<tr>\n<td>singleTop</td>\n<td>FLAG_ACTIVITY_SINGLE_TOP</td>\n</tr>\n<tr>\n<td>singleTask</td>\n<td>singleTop结合FLAG_ACTIVITY_CLEAR_TOP</td>\n</tr>\n<tr>\n<td>singleInstance</td>\n<td>FLAG_ACTIVITY_NEW_TASK</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"详细解释Intent-FLAG\"><a href=\"#详细解释Intent-FLAG\" class=\"headerlink\" title=\"详细解释Intent.FLAG\"></a>详细解释Intent.FLAG</h3><h4 id=\"FLAG-ACTIVITY-NEW-TASK\"><a href=\"#FLAG-ACTIVITY-NEW-TASK\" class=\"headerlink\" title=\"FLAG_ACTIVITY_NEW_TASK\"></a>FLAG_ACTIVITY_NEW_TASK</h4><p>这个flag必须与taskAffinity结合才能使用</p>\n<h4 id=\"FLAG-ACTIVITY-CLEAR-TOP\"><a href=\"#FLAG-ACTIVITY-CLEAR-TOP\" class=\"headerlink\" title=\"FLAG_ACTIVITY_CLEAR_TOP\"></a>FLAG_ACTIVITY_CLEAR_TOP</h4><p>请注意和singleTask的区别，与singleTask的区别，FLAG_ACTIVITY_CLEAR_TOP会销毁启动的目标activity，再重新创建一个实例<br>如果当前Task为A-B-C-D，则从D-B，B会被销毁重新创建</p>\n<p>以下为打印的结果，可以得知，B被重新创建</p>\n<blockquote>\n<p>03-23 13:23:01.858 19000-19000/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onCreate: 调用onCreate，获取当前Task的id6</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</p>\n</blockquote>\n<p>此标志可以与singleTop结合，实现与singleTask一样的效果，但是一般不使用，因为还不如直接使用singleTask</p>\n<h4 id=\"FLAG-ACTIVITY-BROUGHT-TO-FRONT\"><a href=\"#FLAG-ACTIVITY-BROUGHT-TO-FRONT\" class=\"headerlink\" title=\"FLAG_ACTIVITY_BROUGHT_TO_FRONT\"></a>FLAG_ACTIVITY_BROUGHT_TO_FRONT</h4><blockquote>\n<p>This flag is not normally set by application code, but set for you by the system as described in the launchMode documentation for the singleTask mode.<br>这个flag通常不是由我们来定义的，但是设置了singleTask mode系统会自动为我们设置这个标志</p>\n</blockquote>\n<h4 id=\"FLAG-ACTIVITY-CLEAR-TASK\"><a href=\"#FLAG-ACTIVITY-CLEAR-TASK\" class=\"headerlink\" title=\"FLAG_ACTIVITY_CLEAR_TASK\"></a>FLAG_ACTIVITY_CLEAR_TASK</h4><blockquote>\n<p>If set in an Intent passed to Context.startActivity(), this flag will cause any existing task that would be associated with the activity to be cleared before the activity is started. That is, the activity becomes the new root of an otherwise empty task, and any old activities are finished. This can only be used in conjunction with FLAG_ACTIVITY_NEW_TASK.</p>\n<p>如果设置了这个flag，将会导致已在的task与之关联的activity被清除，这个flag只能与FLAG_ACTIVITY_NEW_TASK结合使用</p>\n</blockquote>\n","excerpt":"<h2 id=\"文章参考自\"><a href=\"#文章参考自\" class=\"headerlink\" title=\"文章参考自\"></a>文章参考自</h2><p><a href=\"https://inthecheesefactory.com/blog/understand-android-activity-launchmode/en\">Understand Android Activity’s LaunchMode:standard,singleTop,singleTask,and singleInstance</a></p>\n<p><a href=\"http://blog.csdn.net/vipzjyno1/article/details/25463457\">Activity启动模式及Intent Flags与栈的关联分析</a></p>\n<h1 id=\"理解Android-Activity运行模式（understand-Android-Activity’s-launch-mode）\"><a href=\"#理解Android-Activity运行模式（understand-Android-Activity’s-launch-mode）\" class=\"headerlink\" title=\"理解Android Activity运行模式（understand Android Activity’s launch mode）\"></a>理解Android Activity运行模式（understand Android Activity’s launch mode）</h1><h2 id=\"Activity’s-LaunchMode\"><a href=\"#Activity’s-LaunchMode\" class=\"headerlink\" title=\"Activity’s LaunchMode\"></a>Activity’s LaunchMode</h2><p>activity的启动模式，设置了不同的启动模式activity会不同的启动方式，一般使用Intent中的Flag常量来标示如何启动一个Activity<br></p>","more":"<p></p>\n<h2 id=\"understand-Tasks-and-Back-Stack-任务队列和回退栈\"><a href=\"#understand-Tasks-and-Back-Stack-任务队列和回退栈\" class=\"headerlink\" title=\"understand Tasks and Back Stack(任务队列和回退栈)\"></a>understand Tasks and Back Stack(任务队列和回退栈)</h2><h3 id=\"Task\"><a href=\"#Task\" class=\"headerlink\" title=\"Task\"></a>Task</h3><p>一个Task是由多个Activity组成，一个应用程序可以有多个任务队列，在Android7.0的新特性——多窗口模式，每一个窗口都会创建一个Task</p>\n<h3 id=\"Back-Stack\"><a href=\"#Back-Stack\" class=\"headerlink\" title=\"Back Stack\"></a>Back Stack</h3><p>Task中的多个Activity被安排在Back Stack中</p>\n<h3 id=\"可以通过Activity在app中的状态来理解Task和Stack\"><a href=\"#可以通过Activity在app中的状态来理解Task和Stack\" class=\"headerlink\" title=\"可以通过Activity在app中的状态来理解Task和Stack\"></a>可以通过Activity在app中的状态来理解Task和Stack</h3><p>1、 在Task中，当Activity A启动Activity B时，当前A会调用onPause()-onStop()，A不在栈顶，没有显示在最前，但是A会保存一些基本的状态（例如滚动的位置或者text），Task状态为A-B，如果用户点击navigation back button时,Activity B会调用onPause()-onStop()-onDestroy()对栈顶进行pop（移出并销毁）,此时Activity A回到栈顶，调用onRestart()-onStart()-onResume()，恢复原来的状态</p>\n<p>2、当用点击Home Screen时，栈顶Activity会执行onPause()-onStop()，其他Activity之前置于栈下面时，就已经调用了onPause()-onStop(),所以所有activity都看不见了，这个过程，Task进入了后台运行<br>4、Activity可以在不同时间、不同Task中实例化多次</p>\n<h2 id=\"type-of-LaunchMode\"><a href=\"#type-of-LaunchMode\" class=\"headerlink\" title=\"type of LaunchMode\"></a>type of LaunchMode</h2><h3 id=\"standard\"><a href=\"#standard\" class=\"headerlink\" title=\"standard\"></a>standard</h3><p>这个模式是默认的Activity的启动模式，每次启动Activity都会创建一个新实例，不会考虑之前实例了多少个这样的Activity</p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/diagram_backstack.png\" alt=\"standard的activity启动时，task的状态\"></p>\n<h3 id=\"singleTop\"><a href=\"#singleTop\" class=\"headerlink\" title=\"singleTop\"></a>singleTop</h3><p>这个模式下当前activity如果在栈顶，也就是正在前景，如果调用startActivity，启动当前activity，则会取出栈顶的activity。</p>\n<h3 id=\"SingleTask\"><a href=\"#SingleTask\" class=\"headerlink\" title=\"SingleTask\"></a>SingleTask</h3><p>这个模式下，如果当需要打一个activity A，这个A已经在当前Task存在了，此模式会pop在A之上的所有Activity，使A处栈顶，处于前景，系统会调用onNewIntent(),而不创建新实例。</p>\n<p>如果当前Task为A-B-C-D，则从D-B，B不会被重新创建，而是直接恢复引用，置于foreground<br>以下是activity B的生命周期打印结果，可见，B是不会被重新创建的</p>\n<blockquote>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onRestart: 调用了onRestart</p>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</p>\n<p>03-23 13:37:45.258 304-304/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</p>\n</blockquote>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/2017-03-23_105452.png\" alt=\"singleTask\"></p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleTask.gif\" alt=\"singleTask\"></p>\n<h3 id=\"SingleInstance\"><a href=\"#SingleInstance\" class=\"headerlink\" title=\"SingleInstance\"></a>SingleInstance</h3><p>Task1中A-B-C，当C启动D时，运用此模式下，会将D压入一个新Task中，Task2中D,此时D显示在屏幕上，当D启动C时，模式为standard时，那么会回Task1中，并创建一个新实例C，此时Task1中的结构为A-B-C-C，点击navigation back不会回到D</p>\n<p><img src=\"/2017/03/22/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleInstance.png\" alt=\"singleInstance\"></p>\n<h3 id=\"launchMode-and-Flag\"><a href=\"#launchMode-and-Flag\" class=\"headerlink\" title=\"launchMode and Flag\"></a>launchMode and Flag</h3><table>\n<thead>\n<tr>\n<th>Manifest.xml中定义</th>\n<th>同等于Intent.FLAG<em>ACTIVITY</em>*常量</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>standard</td>\n<td>默认</td>\n</tr>\n<tr>\n<td>singleTop</td>\n<td>FLAG_ACTIVITY_SINGLE_TOP</td>\n</tr>\n<tr>\n<td>singleTask</td>\n<td>singleTop结合FLAG_ACTIVITY_CLEAR_TOP</td>\n</tr>\n<tr>\n<td>singleInstance</td>\n<td>FLAG_ACTIVITY_NEW_TASK</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"详细解释Intent-FLAG\"><a href=\"#详细解释Intent-FLAG\" class=\"headerlink\" title=\"详细解释Intent.FLAG\"></a>详细解释Intent.FLAG</h3><h4 id=\"FLAG-ACTIVITY-NEW-TASK\"><a href=\"#FLAG-ACTIVITY-NEW-TASK\" class=\"headerlink\" title=\"FLAG_ACTIVITY_NEW_TASK\"></a>FLAG_ACTIVITY_NEW_TASK</h4><p>这个flag必须与taskAffinity结合才能使用</p>\n<h4 id=\"FLAG-ACTIVITY-CLEAR-TOP\"><a href=\"#FLAG-ACTIVITY-CLEAR-TOP\" class=\"headerlink\" title=\"FLAG_ACTIVITY_CLEAR_TOP\"></a>FLAG_ACTIVITY_CLEAR_TOP</h4><p>请注意和singleTask的区别，与singleTask的区别，FLAG_ACTIVITY_CLEAR_TOP会销毁启动的目标activity，再重新创建一个实例<br>如果当前Task为A-B-C-D，则从D-B，B会被销毁重新创建</p>\n<p>以下为打印的结果，可以得知，B被重新创建</p>\n<blockquote>\n<p>03-23 13:23:01.858 19000-19000/com.app.androidbasic I/ActivityB: onDestroy: 调用onDestroy</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onCreate: 调用onCreate，获取当前Task的id6</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onStart: 调用onstart()</p>\n<p>03-23 13:23:01.888 19000-19000/com.app.androidbasic I/ActivityB: onResume: 调用了onResume</p>\n</blockquote>\n<p>此标志可以与singleTop结合，实现与singleTask一样的效果，但是一般不使用，因为还不如直接使用singleTask</p>\n<h4 id=\"FLAG-ACTIVITY-BROUGHT-TO-FRONT\"><a href=\"#FLAG-ACTIVITY-BROUGHT-TO-FRONT\" class=\"headerlink\" title=\"FLAG_ACTIVITY_BROUGHT_TO_FRONT\"></a>FLAG_ACTIVITY_BROUGHT_TO_FRONT</h4><blockquote>\n<p>This flag is not normally set by application code, but set for you by the system as described in the launchMode documentation for the singleTask mode.<br>这个flag通常不是由我们来定义的，但是设置了singleTask mode系统会自动为我们设置这个标志</p>\n</blockquote>\n<h4 id=\"FLAG-ACTIVITY-CLEAR-TASK\"><a href=\"#FLAG-ACTIVITY-CLEAR-TASK\" class=\"headerlink\" title=\"FLAG_ACTIVITY_CLEAR_TASK\"></a>FLAG_ACTIVITY_CLEAR_TASK</h4><blockquote>\n<p>If set in an Intent passed to Context.startActivity(), this flag will cause any existing task that would be associated with the activity to be cleared before the activity is started. That is, the activity becomes the new root of an otherwise empty task, and any old activities are finished. This can only be used in conjunction with FLAG_ACTIVITY_NEW_TASK.</p>\n<p>如果设置了这个flag，将会导致已在的task与之关联的activity被清除，这个flag只能与FLAG_ACTIVITY_NEW_TASK结合使用</p>\n</blockquote>"},{"title":"正则表达式之环视(lookaround)","date":"2017-04-21T07:06:48.000Z","_content":"# 参考链接\n[正则基础之——环视(Lookaround)](http://www.cnblogs.com/kernel0815/p/3375249.html)  \n\n<!--more-->\n\n# 环视(lookaround)\n## 说明\n环视是由《精通正则表达式》命名的，其他资料也有不同的叫法。  \n环视，大体分为顺序和逆序环视，以下是一个表格，表示了环视四种组合。\n\n环视四种表示|  哪一侧的表达式| 是否匹配| 环视分类\n---|---|---|---\n?<=|左侧 | 是|逆序\n?<!|左侧 | 否|逆序\n?=|右侧 | 是|顺序\n?!|右侧| 否|顺序\n\n## 示例\n```\n//?=右侧匹配\nString str=\"abbb\";\nPattern p = Pattern.compile(\"a(?=bbb)\");//a后面紧跟bbb\nMatcher matcher = p.matcher(str);\nSystem.out.println(matcher.find());//返回true\n//?!右侧不匹配\nPattern p1 = Pattern.compile(\"a(?!bbb)\");//a后面不紧跟bbb\nMatcher matcher1 = p1.matcher(str);\nSystem.out.println(matcher1.find());//返回false\n```","source":"_posts/正则表达式之环视-lookaround.md","raw":"---\ntitle: 正则表达式之环视(lookaround)\ndate: 2017-04-21 15:06:48\ncategories:\n  - regex\ntags:\n  - regex\n---\n# 参考链接\n[正则基础之——环视(Lookaround)](http://www.cnblogs.com/kernel0815/p/3375249.html)  \n\n<!--more-->\n\n# 环视(lookaround)\n## 说明\n环视是由《精通正则表达式》命名的，其他资料也有不同的叫法。  \n环视，大体分为顺序和逆序环视，以下是一个表格，表示了环视四种组合。\n\n环视四种表示|  哪一侧的表达式| 是否匹配| 环视分类\n---|---|---|---\n?<=|左侧 | 是|逆序\n?<!|左侧 | 否|逆序\n?=|右侧 | 是|顺序\n?!|右侧| 否|顺序\n\n## 示例\n```\n//?=右侧匹配\nString str=\"abbb\";\nPattern p = Pattern.compile(\"a(?=bbb)\");//a后面紧跟bbb\nMatcher matcher = p.matcher(str);\nSystem.out.println(matcher.find());//返回true\n//?!右侧不匹配\nPattern p1 = Pattern.compile(\"a(?!bbb)\");//a后面不紧跟bbb\nMatcher matcher1 = p1.matcher(str);\nSystem.out.println(matcher1.find());//返回false\n```","slug":"正则表达式之环视-lookaround","published":1,"updated":"2017-04-21T07:11:51.607Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anm002ea0us1688k2bg","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/kernel0815/p/3375249.html\" target=\"_blank\" rel=\"external\">正则基础之——环视(Lookaround)</a>  </p>\n<a id=\"more\"></a>\n<h1 id=\"环视-lookaround\"><a href=\"#环视-lookaround\" class=\"headerlink\" title=\"环视(lookaround)\"></a>环视(lookaround)</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>环视是由《精通正则表达式》命名的，其他资料也有不同的叫法。<br>环视，大体分为顺序和逆序环视，以下是一个表格，表示了环视四种组合。</p>\n<table>\n<thead>\n<tr>\n<th>环视四种表示</th>\n<th>哪一侧的表达式</th>\n<th>是否匹配</th>\n<th>环视分类</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>?&lt;=</td>\n<td>左侧</td>\n<td>是</td>\n<td>逆序</td>\n</tr>\n<tr>\n<td>?&lt;!</td>\n<td>左侧</td>\n<td>否</td>\n<td>逆序</td>\n</tr>\n<tr>\n<td>?=</td>\n<td>右侧</td>\n<td>是</td>\n<td>顺序</td>\n</tr>\n<tr>\n<td>?!</td>\n<td>右侧</td>\n<td>否</td>\n<td>顺序</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">//?=右侧匹配</div><div class=\"line\">String str=&quot;abbb&quot;;</div><div class=\"line\">Pattern p = Pattern.compile(&quot;a(?=bbb)&quot;);//a后面紧跟bbb</div><div class=\"line\">Matcher matcher = p.matcher(str);</div><div class=\"line\">System.out.println(matcher.find());//返回true</div><div class=\"line\">//?!右侧不匹配</div><div class=\"line\">Pattern p1 = Pattern.compile(&quot;a(?!bbb)&quot;);//a后面不紧跟bbb</div><div class=\"line\">Matcher matcher1 = p1.matcher(str);</div><div class=\"line\">System.out.println(matcher1.find());//返回false</div></pre></td></tr></table></figure>","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"http://www.cnblogs.com/kernel0815/p/3375249.html\">正则基础之——环视(Lookaround)</a>  </p>","more":"<h1 id=\"环视-lookaround\"><a href=\"#环视-lookaround\" class=\"headerlink\" title=\"环视(lookaround)\"></a>环视(lookaround)</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>环视是由《精通正则表达式》命名的，其他资料也有不同的叫法。<br>环视，大体分为顺序和逆序环视，以下是一个表格，表示了环视四种组合。</p>\n<table>\n<thead>\n<tr>\n<th>环视四种表示</th>\n<th>哪一侧的表达式</th>\n<th>是否匹配</th>\n<th>环视分类</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>?&lt;=</td>\n<td>左侧</td>\n<td>是</td>\n<td>逆序</td>\n</tr>\n<tr>\n<td>?&lt;!</td>\n<td>左侧</td>\n<td>否</td>\n<td>逆序</td>\n</tr>\n<tr>\n<td>?=</td>\n<td>右侧</td>\n<td>是</td>\n<td>顺序</td>\n</tr>\n<tr>\n<td>?!</td>\n<td>右侧</td>\n<td>否</td>\n<td>顺序</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">//?=右侧匹配</div><div class=\"line\">String str=&quot;abbb&quot;;</div><div class=\"line\">Pattern p = Pattern.compile(&quot;a(?=bbb)&quot;);//a后面紧跟bbb</div><div class=\"line\">Matcher matcher = p.matcher(str);</div><div class=\"line\">System.out.println(matcher.find());//返回true</div><div class=\"line\">//?!右侧不匹配</div><div class=\"line\">Pattern p1 = Pattern.compile(&quot;a(?!bbb)&quot;);//a后面不紧跟bbb</div><div class=\"line\">Matcher matcher1 = p1.matcher(str);</div><div class=\"line\">System.out.println(matcher1.find());//返回false</div></pre></td></tr></table></figure>"},{"title":"如何在github上创建个人博客？","date":"2017-01-26T17:13:43.000Z","_content":"\n摘要:\n    个人如何创建免费博客呢？github就有为用户提供创建个人博客的机会，如果你是一个开发者完全可以为自己定义一个个人博客。\n<!--more-->\n正文:\n\n  [文章来自于hifor的博客](http://hifor.net/2015/07/01/零基础免费搭建个人博客-hexo-github/)\n  # 如何在github创建个人博客？\n  [TOC]\n  ## git和node.js的安装就不解释了\n  ```\n  # 查看安装是否成功\n  git --version\n  node -v\n  npm -v\n  ```\n  ![这里写图片描述](http://img.blog.csdn.net/20170127011000970?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ## 申请github账号（是程序员应该都有一个吧，不解释）\n  ## 创建github仓库\n  ![这里写图片描述](http://img.blog.csdn.net/20170127011049344?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013138526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  因为我已经创建过了，所以会报错，仓库命名一定要严格按“zengmianhui.github.io”来命名，\"zengmianhui\"是你的用户名\n  这样创建成功后就可以直接访问了\n  ## 安装hexo(hexo是基于node.js的)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013343317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013402558?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  在hifor的博客中，在安装hexo之前，有先设置淘宝的镜像来安装hexo的，但是我实际安装是不需要的，网速还可以。\n  使用以下代码安装hexo\n  ```\n  $ npm install -g hexo-cli\n  ```\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013758197?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  出现的WARN可以不用理会\n  继续使用命令\n\n  ```\n  npm install hexo --save\n\n  ```\n  查看hexo是否安装正确\n  ```\n  hexo -v\n  ```\n  ## 本地支行hexo\n  初始化hexo\n  ```\n  hexo init\n  ```\n  安装生成器\n\n  ```\n  npm install\n  ```\n  在本地运行hexo\n\n  ```\n  hexo s -g\n  ```\n  打开浏览器，输入localhost:4000,就可以在本地看到你的个人博客了，按住Ctrl+C键即可停止\n  ## 管理博客\n  打开根目录下的_config.yml，注意：主题目录下也有 _config.yml\n  ![这里写图片描述](http://img.blog.csdn.net/20170127014901283?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ```\n  # Hexo Configuration\n  ## Docs: https://hexo.io/docs/configuration.html\n  ## Source: https://github.com/hexojs/hexo/\n\n  # Site\n  title: zengmianhui's personal blog\n  subtitle:\n  description: 来这里，查看更多技术的分享\n  author: zengmianhui\n  language: zh-Hans\n  #时区\n  timezone:\n  # URL\n  ## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\n  url: https://zengmianhui.github.io\n  root: /\n  permalink: :year/:month/:day/:title/\n  permalink_defaults:\n\n  # Directory\n  source_dir: source\n  public_dir: public\n  tag_dir: tags\n  archive_dir: archives\n  category_dir: categories\n  code_dir: downloads/code\n  i18n_dir: :lang\n  skip_render:\n\n  # Writing\n  new_post_name: :title.md # File name of new posts\n  default_layout: post\n  titlecase: false # Transform title into titlecase\n  external_link: true # Open external links in new tab\n  filename_case: 0\n  render_drafts: false\n  post_asset_folder: false\n  relative_link: false\n  future: true\n  highlight:\n    enable: true\n    line_number: true\n    auto_detect: false\n    tab_replace:\n\n  # Category & Tag\n  default_category: categorized\n  category_map:\n  tag_map:\n\n  # Date / Time format\n  ## Hexo uses Moment.js to parse and display date\n  ## You can customize the date format as defined in\n  ## http://momentjs.com/docs/#/displaying/format/\n  date_format: YYYY-MM-DD\n  time_format: HH:mm:ss\n\n  # Pagination\n  ## Set per_page to 0 to disable pagination\n  per_page: 10\n  pagination_dir: page\n\n  #博客主题\n  # Extensions\n  ## Plugins: https://hexo.io/plugins/\n  ## Themes: https://hexo.io/themes/\n  theme: next\n\n  #发布设置\n  # Deployment\n  ## Docs: https://hexo.io/docs/deployment.html\n  deploy:\n    type: git\n    repo: https://github.com/zengmianhui/zengmianhui.github.io.git\n    branch: master\n    message: 我的博客\n  #头像\n  avatar: zengmianhui.github.io/images/avatar.jpg\n  ```\n  ## 发一篇新的博客\n  输入命令\n\n  ```\n  $ hexo new \"博客名\"\n  ```\n\n  ![这里写图片描述](http://img.blog.csdn.net/20170127015326231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  打开生成的博客，并编辑\n\n  ```\n  ---\n  title: 如何在github上创建个人博客？\n  date: 2017-01-27 01:13:43\n  categories:\n    - 其他\n    - github\n  tags:\n    - 其他\n  ---\n\n  摘要:\n  <!--more-->\n  正文:\n\n  ```\n  ## 发布博客\n\n\n  当然发布之前，首先要确保你本地的SSH和github上保存的SSH是一致的\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020333242?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  如果电脑中没有SSH，就输入以下命令生成\n  ```\n  $ ssh-keygen -t rsa -C \"邮件地址@youremail.com\"\n  Generating public/private rsa key pair.\n  Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):<直接回车>\n\n  ```\n  注意1: 此处的邮箱地址，你可以输入自己的邮箱地址；\n  注意2: 此处的「-C」的是大写的「C」\n  然后系统会要你输入密码：\n\n  ```\n  Enter passphrase (empty for no passphrase):<输入加密串>\n  Enter same passphrase again:<再次输入加密串>\n  ```\n  在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020532649?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  添加SSH Key到GitHub\n  在本机设置SSH Key之后，需要添加到GitHub上，以完成SSH链接的设置。\n  1、打开本地C:\\Documents and Settings\\Administrator.ssh\\id_rsa.pub文件。此文件里面内容为刚才生成人密钥。如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。\n  2、登陆github系统。点击右上角的 Account Settings—>SSH Public keys —> add another public keys\n  3、把你本地生成的密钥复制到里面（key文本框中）， 点击 add key 就ok了\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020622059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n  设置git信息\n\n  ```\n\n  2\n  $ git config --global user.name \"你的用户名\"\n  $ git config --global user.email \"你的邮箱\"\n\n  ```\n  安装hexo git插件，这个插件会自动push到github\n\n  ```\n  $ npm install hexo-deployer-git --save\n\n  ```\n  使用命令，hexo会自动将博客push到github上\n\n  ```\n  $ hexo d -g\n  ```\n  发布时需要输入github的帐号和密码，输入密码时是看不到自己输入的内容的\n\n  发布成功后，访问yourname.github.io看下成果\n  [我的个人博客](https://zengmianhui.github.io)\n","source":"_posts/如何在github上创建个人博客？.md","raw":"---\ntitle: 如何在github上创建个人博客？\ndate: 2017-01-27 01:13:43\ncategories:\n  - git\n  - hexo\ntags:\n  - 个人主页\n---\n\n摘要:\n    个人如何创建免费博客呢？github就有为用户提供创建个人博客的机会，如果你是一个开发者完全可以为自己定义一个个人博客。\n<!--more-->\n正文:\n\n  [文章来自于hifor的博客](http://hifor.net/2015/07/01/零基础免费搭建个人博客-hexo-github/)\n  # 如何在github创建个人博客？\n  [TOC]\n  ## git和node.js的安装就不解释了\n  ```\n  # 查看安装是否成功\n  git --version\n  node -v\n  npm -v\n  ```\n  ![这里写图片描述](http://img.blog.csdn.net/20170127011000970?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ## 申请github账号（是程序员应该都有一个吧，不解释）\n  ## 创建github仓库\n  ![这里写图片描述](http://img.blog.csdn.net/20170127011049344?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013138526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  因为我已经创建过了，所以会报错，仓库命名一定要严格按“zengmianhui.github.io”来命名，\"zengmianhui\"是你的用户名\n  这样创建成功后就可以直接访问了\n  ## 安装hexo(hexo是基于node.js的)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013343317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013402558?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  在hifor的博客中，在安装hexo之前，有先设置淘宝的镜像来安装hexo的，但是我实际安装是不需要的，网速还可以。\n  使用以下代码安装hexo\n  ```\n  $ npm install -g hexo-cli\n  ```\n  ![这里写图片描述](http://img.blog.csdn.net/20170127013758197?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  出现的WARN可以不用理会\n  继续使用命令\n\n  ```\n  npm install hexo --save\n\n  ```\n  查看hexo是否安装正确\n  ```\n  hexo -v\n  ```\n  ## 本地支行hexo\n  初始化hexo\n  ```\n  hexo init\n  ```\n  安装生成器\n\n  ```\n  npm install\n  ```\n  在本地运行hexo\n\n  ```\n  hexo s -g\n  ```\n  打开浏览器，输入localhost:4000,就可以在本地看到你的个人博客了，按住Ctrl+C键即可停止\n  ## 管理博客\n  打开根目录下的_config.yml，注意：主题目录下也有 _config.yml\n  ![这里写图片描述](http://img.blog.csdn.net/20170127014901283?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  ```\n  # Hexo Configuration\n  ## Docs: https://hexo.io/docs/configuration.html\n  ## Source: https://github.com/hexojs/hexo/\n\n  # Site\n  title: zengmianhui's personal blog\n  subtitle:\n  description: 来这里，查看更多技术的分享\n  author: zengmianhui\n  language: zh-Hans\n  #时区\n  timezone:\n  # URL\n  ## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\n  url: https://zengmianhui.github.io\n  root: /\n  permalink: :year/:month/:day/:title/\n  permalink_defaults:\n\n  # Directory\n  source_dir: source\n  public_dir: public\n  tag_dir: tags\n  archive_dir: archives\n  category_dir: categories\n  code_dir: downloads/code\n  i18n_dir: :lang\n  skip_render:\n\n  # Writing\n  new_post_name: :title.md # File name of new posts\n  default_layout: post\n  titlecase: false # Transform title into titlecase\n  external_link: true # Open external links in new tab\n  filename_case: 0\n  render_drafts: false\n  post_asset_folder: false\n  relative_link: false\n  future: true\n  highlight:\n    enable: true\n    line_number: true\n    auto_detect: false\n    tab_replace:\n\n  # Category & Tag\n  default_category: categorized\n  category_map:\n  tag_map:\n\n  # Date / Time format\n  ## Hexo uses Moment.js to parse and display date\n  ## You can customize the date format as defined in\n  ## http://momentjs.com/docs/#/displaying/format/\n  date_format: YYYY-MM-DD\n  time_format: HH:mm:ss\n\n  # Pagination\n  ## Set per_page to 0 to disable pagination\n  per_page: 10\n  pagination_dir: page\n\n  #博客主题\n  # Extensions\n  ## Plugins: https://hexo.io/plugins/\n  ## Themes: https://hexo.io/themes/\n  theme: next\n\n  #发布设置\n  # Deployment\n  ## Docs: https://hexo.io/docs/deployment.html\n  deploy:\n    type: git\n    repo: https://github.com/zengmianhui/zengmianhui.github.io.git\n    branch: master\n    message: 我的博客\n  #头像\n  avatar: zengmianhui.github.io/images/avatar.jpg\n  ```\n  ## 发一篇新的博客\n  输入命令\n\n  ```\n  $ hexo new \"博客名\"\n  ```\n\n  ![这里写图片描述](http://img.blog.csdn.net/20170127015326231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  打开生成的博客，并编辑\n\n  ```\n  ---\n  title: 如何在github上创建个人博客？\n  date: 2017-01-27 01:13:43\n  categories:\n    - 其他\n    - github\n  tags:\n    - 其他\n  ---\n\n  摘要:\n  <!--more-->\n  正文:\n\n  ```\n  ## 发布博客\n\n\n  当然发布之前，首先要确保你本地的SSH和github上保存的SSH是一致的\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020333242?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  如果电脑中没有SSH，就输入以下命令生成\n  ```\n  $ ssh-keygen -t rsa -C \"邮件地址@youremail.com\"\n  Generating public/private rsa key pair.\n  Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):<直接回车>\n\n  ```\n  注意1: 此处的邮箱地址，你可以输入自己的邮箱地址；\n  注意2: 此处的「-C」的是大写的「C」\n  然后系统会要你输入密码：\n\n  ```\n  Enter passphrase (empty for no passphrase):<输入加密串>\n  Enter same passphrase again:<再次输入加密串>\n  ```\n  在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020532649?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n  添加SSH Key到GitHub\n  在本机设置SSH Key之后，需要添加到GitHub上，以完成SSH链接的设置。\n  1、打开本地C:\\Documents and Settings\\Administrator.ssh\\id_rsa.pub文件。此文件里面内容为刚才生成人密钥。如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。\n  2、登陆github系统。点击右上角的 Account Settings—>SSH Public keys —> add another public keys\n  3、把你本地生成的密钥复制到里面（key文本框中）， 点击 add key 就ok了\n  ![这里写图片描述](http://img.blog.csdn.net/20170127020622059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n  设置git信息\n\n  ```\n\n  2\n  $ git config --global user.name \"你的用户名\"\n  $ git config --global user.email \"你的邮箱\"\n\n  ```\n  安装hexo git插件，这个插件会自动push到github\n\n  ```\n  $ npm install hexo-deployer-git --save\n\n  ```\n  使用命令，hexo会自动将博客push到github上\n\n  ```\n  $ hexo d -g\n  ```\n  发布时需要输入github的帐号和密码，输入密码时是看不到自己输入的内容的\n\n  发布成功后，访问yourname.github.io看下成果\n  [我的个人博客](https://zengmianhui.github.io)\n","slug":"如何在github上创建个人博客？","published":1,"updated":"2017-05-02T05:48:03.155Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anr002ja0uswio6qjma","content":"<p>摘要:<br>    个人如何创建免费博客呢？github就有为用户提供创建个人博客的机会，如果你是一个开发者完全可以为自己定义一个个人博客。<br><a id=\"more\"></a><br>正文:</p>\n<p>  <a href=\"http://hifor.net/2015/07/01/零基础免费搭建个人博客-hexo-github/\" target=\"_blank\" rel=\"external\">文章来自于hifor的博客</a></p>\n<h1 id=\"如何在github创建个人博客？\"><a href=\"#如何在github创建个人博客？\" class=\"headerlink\" title=\"如何在github创建个人博客？\"></a>如何在github创建个人博客？</h1><p>  [TOC]</p>\n<h2 id=\"git和node-js的安装就不解释了\"><a href=\"#git和node-js的安装就不解释了\" class=\"headerlink\" title=\"git和node.js的安装就不解释了\"></a>git和node.js的安装就不解释了</h2>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 查看安装是否成功</div><div class=\"line\">git --version</div><div class=\"line\">node -v</div><div class=\"line\">npm -v</div></pre></td></tr></table></figure>\n<p>  <img src=\"http://img.blog.csdn.net/20170127011000970?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"申请github账号（是程序员应该都有一个吧，不解释）\"><a href=\"#申请github账号（是程序员应该都有一个吧，不解释）\" class=\"headerlink\" title=\"申请github账号（是程序员应该都有一个吧，不解释）\"></a>申请github账号（是程序员应该都有一个吧，不解释）</h2><h2 id=\"创建github仓库\"><a href=\"#创建github仓库\" class=\"headerlink\" title=\"创建github仓库\"></a>创建github仓库</h2><p>  <img src=\"http://img.blog.csdn.net/20170127011049344?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <img src=\"http://img.blog.csdn.net/20170127013138526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  因为我已经创建过了，所以会报错，仓库命名一定要严格按“zengmianhui.github.io”来命名，”zengmianhui”是你的用户名<br>  这样创建成功后就可以直接访问了</p>\n<h2 id=\"安装hexo-hexo是基于node-js的\"><a href=\"#安装hexo-hexo是基于node-js的\" class=\"headerlink\" title=\"安装hexo(hexo是基于node.js的)\"></a>安装hexo(hexo是基于node.js的)</h2><p>  <img src=\"http://img.blog.csdn.net/20170127013343317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <img src=\"http://img.blog.csdn.net/20170127013402558?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  在hifor的博客中，在安装hexo之前，有先设置淘宝的镜像来安装hexo的，但是我实际安装是不需要的，网速还可以。<br>  使用以下代码安装hexo<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ npm install -g hexo-cli</div></pre></td></tr></table></figure></p>\n<p>  <img src=\"http://img.blog.csdn.net/20170127013758197?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  出现的WARN可以不用理会<br>  继续使用命令</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo --save</div></pre></td></tr></table></figure>\n<p>  查看hexo是否安装正确<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo -v</div></pre></td></tr></table></figure></p>\n<h2 id=\"本地支行hexo\"><a href=\"#本地支行hexo\" class=\"headerlink\" title=\"本地支行hexo\"></a>本地支行hexo</h2><p>  初始化hexo<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo init</div></pre></td></tr></table></figure></p>\n<p>  安装生成器</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install</div></pre></td></tr></table></figure>\n<p>  在本地运行hexo</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo s -g</div></pre></td></tr></table></figure>\n<p>  打开浏览器，输入localhost:4000,就可以在本地看到你的个人博客了，按住Ctrl+C键即可停止</p>\n<h2 id=\"管理博客\"><a href=\"#管理博客\" class=\"headerlink\" title=\"管理博客\"></a>管理博客</h2><p>  打开根目录下的_config.yml，注意：主题目录下也有 _config.yml<br>  <img src=\"http://img.blog.csdn.net/20170127014901283?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Hexo Configuration</div><div class=\"line\">## Docs: https://hexo.io/docs/configuration.html</div><div class=\"line\">## Source: https://github.com/hexojs/hexo/</div><div class=\"line\"></div><div class=\"line\"># Site</div><div class=\"line\">title: zengmianhui&apos;s personal blog</div><div class=\"line\">subtitle:</div><div class=\"line\">description: 来这里，查看更多技术的分享</div><div class=\"line\">author: zengmianhui</div><div class=\"line\">language: zh-Hans</div><div class=\"line\">#时区</div><div class=\"line\">timezone:</div><div class=\"line\"># URL</div><div class=\"line\">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class=\"line\">url: https://zengmianhui.github.io</div><div class=\"line\">root: /</div><div class=\"line\">permalink: :year/:month/:day/:title/</div><div class=\"line\">permalink_defaults:</div><div class=\"line\"></div><div class=\"line\"># Directory</div><div class=\"line\">source_dir: source</div><div class=\"line\">public_dir: public</div><div class=\"line\">tag_dir: tags</div><div class=\"line\">archive_dir: archives</div><div class=\"line\">category_dir: categories</div><div class=\"line\">code_dir: downloads/code</div><div class=\"line\">i18n_dir: :lang</div><div class=\"line\">skip_render:</div><div class=\"line\"></div><div class=\"line\"># Writing</div><div class=\"line\">new_post_name: :title.md # File name of new posts</div><div class=\"line\">default_layout: post</div><div class=\"line\">titlecase: false # Transform title into titlecase</div><div class=\"line\">external_link: true # Open external links in new tab</div><div class=\"line\">filename_case: 0</div><div class=\"line\">render_drafts: false</div><div class=\"line\">post_asset_folder: false</div><div class=\"line\">relative_link: false</div><div class=\"line\">future: true</div><div class=\"line\">highlight:</div><div class=\"line\">  enable: true</div><div class=\"line\">  line_number: true</div><div class=\"line\">  auto_detect: false</div><div class=\"line\">  tab_replace:</div><div class=\"line\"></div><div class=\"line\"># Category &amp; Tag</div><div class=\"line\">default_category: categorized</div><div class=\"line\">category_map:</div><div class=\"line\">tag_map:</div><div class=\"line\"></div><div class=\"line\"># Date / Time format</div><div class=\"line\">## Hexo uses Moment.js to parse and display date</div><div class=\"line\">## You can customize the date format as defined in</div><div class=\"line\">## http://momentjs.com/docs/#/displaying/format/</div><div class=\"line\">date_format: YYYY-MM-DD</div><div class=\"line\">time_format: HH:mm:ss</div><div class=\"line\"></div><div class=\"line\"># Pagination</div><div class=\"line\">## Set per_page to 0 to disable pagination</div><div class=\"line\">per_page: 10</div><div class=\"line\">pagination_dir: page</div><div class=\"line\"></div><div class=\"line\">#博客主题</div><div class=\"line\"># Extensions</div><div class=\"line\">## Plugins: https://hexo.io/plugins/</div><div class=\"line\">## Themes: https://hexo.io/themes/</div><div class=\"line\">theme: next</div><div class=\"line\"></div><div class=\"line\">#发布设置</div><div class=\"line\"># Deployment</div><div class=\"line\">## Docs: https://hexo.io/docs/deployment.html</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: https://github.com/zengmianhui/zengmianhui.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\">  message: 我的博客</div><div class=\"line\">#头像</div><div class=\"line\">avatar: zengmianhui.github.io/images/avatar.jpg</div></pre></td></tr></table></figure></p>\n<h2 id=\"发一篇新的博客\"><a href=\"#发一篇新的博客\" class=\"headerlink\" title=\"发一篇新的博客\"></a>发一篇新的博客</h2><p>  输入命令</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new &quot;博客名&quot;</div></pre></td></tr></table></figure>\n<p>  <img src=\"http://img.blog.csdn.net/20170127015326231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  打开生成的博客，并编辑</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">---</div><div class=\"line\">title: 如何在github上创建个人博客？</div><div class=\"line\">date: 2017-01-27 01:13:43</div><div class=\"line\">categories:</div><div class=\"line\">  - 其他</div><div class=\"line\">  - github</div><div class=\"line\">tags:</div><div class=\"line\">  - 其他</div><div class=\"line\">---</div><div class=\"line\"></div><div class=\"line\">摘要:</div><div class=\"line\">&lt;!--more--&gt;</div><div class=\"line\">正文:</div></pre></td></tr></table></figure>\n<h2 id=\"发布博客\"><a href=\"#发布博客\" class=\"headerlink\" title=\"发布博客\"></a>发布博客</h2><p>  当然发布之前，首先要确保你本地的SSH和github上保存的SSH是一致的<br>  <img src=\"http://img.blog.csdn.net/20170127020333242?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  如果电脑中没有SSH，就输入以下命令生成<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;</div><div class=\"line\">Generating public/private rsa key pair.</div><div class=\"line\">Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;直接回车&gt;</div></pre></td></tr></table></figure></p>\n<p>  注意1: 此处的邮箱地址，你可以输入自己的邮箱地址；<br>  注意2: 此处的「-C」的是大写的「C」<br>  然后系统会要你输入密码：</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Enter passphrase (empty for no passphrase):&lt;输入加密串&gt;</div><div class=\"line\">Enter same passphrase again:&lt;再次输入加密串&gt;</div></pre></td></tr></table></figure>\n<p>  在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。<br>  <img src=\"http://img.blog.csdn.net/20170127020532649?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  添加SSH Key到GitHub<br>  在本机设置SSH Key之后，需要添加到GitHub上，以完成SSH链接的设置。<br>  1、打开本地C:\\Documents and Settings\\Administrator.ssh\\id_rsa.pub文件。此文件里面内容为刚才生成人密钥。如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。<br>  2、登陆github系统。点击右上角的 Account Settings—&gt;SSH Public keys —&gt; add another public keys<br>  3、把你本地生成的密钥复制到里面（key文本框中）， 点击 add key 就ok了<br>  <img src=\"http://img.blog.csdn.net/20170127020622059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<p>  设置git信息</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">2</div><div class=\"line\">$ git config --global user.name &quot;你的用户名&quot;</div><div class=\"line\">$ git config --global user.email &quot;你的邮箱&quot;</div></pre></td></tr></table></figure>\n<p>  安装hexo git插件，这个插件会自动push到github</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>\n<p>  使用命令，hexo会自动将博客push到github上</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo d -g</div></pre></td></tr></table></figure>\n<p>  发布时需要输入github的帐号和密码，输入密码时是看不到自己输入的内容的</p>\n<p>  发布成功后，访问yourname.github.io看下成果<br>  <a href=\"https://zengmianhui.github.io\" target=\"_blank\" rel=\"external\">我的个人博客</a></p>\n","excerpt":"<p>摘要:<br>    个人如何创建免费博客呢？github就有为用户提供创建个人博客的机会，如果你是一个开发者完全可以为自己定义一个个人博客。<br></p>","more":"<br>正文:<p></p>\n<p>  <a href=\"http://hifor.net/2015/07/01/零基础免费搭建个人博客-hexo-github/\">文章来自于hifor的博客</a></p>\n<h1 id=\"如何在github创建个人博客？\"><a href=\"#如何在github创建个人博客？\" class=\"headerlink\" title=\"如何在github创建个人博客？\"></a>如何在github创建个人博客？</h1><p>  [TOC]</p>\n<h2 id=\"git和node-js的安装就不解释了\"><a href=\"#git和node-js的安装就不解释了\" class=\"headerlink\" title=\"git和node.js的安装就不解释了\"></a>git和node.js的安装就不解释了</h2>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"># 查看安装是否成功</div><div class=\"line\">git --version</div><div class=\"line\">node -v</div><div class=\"line\">npm -v</div></pre></td></tr></table></figure>\n<p>  <img src=\"http://img.blog.csdn.net/20170127011000970?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"申请github账号（是程序员应该都有一个吧，不解释）\"><a href=\"#申请github账号（是程序员应该都有一个吧，不解释）\" class=\"headerlink\" title=\"申请github账号（是程序员应该都有一个吧，不解释）\"></a>申请github账号（是程序员应该都有一个吧，不解释）</h2><h2 id=\"创建github仓库\"><a href=\"#创建github仓库\" class=\"headerlink\" title=\"创建github仓库\"></a>创建github仓库</h2><p>  <img src=\"http://img.blog.csdn.net/20170127011049344?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <img src=\"http://img.blog.csdn.net/20170127013138526?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  因为我已经创建过了，所以会报错，仓库命名一定要严格按“zengmianhui.github.io”来命名，”zengmianhui”是你的用户名<br>  这样创建成功后就可以直接访问了</p>\n<h2 id=\"安装hexo-hexo是基于node-js的\"><a href=\"#安装hexo-hexo是基于node-js的\" class=\"headerlink\" title=\"安装hexo(hexo是基于node.js的)\"></a>安装hexo(hexo是基于node.js的)</h2><p>  <img src=\"http://img.blog.csdn.net/20170127013343317?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <img src=\"http://img.blog.csdn.net/20170127013402558?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  在hifor的博客中，在安装hexo之前，有先设置淘宝的镜像来安装hexo的，但是我实际安装是不需要的，网速还可以。<br>  使用以下代码安装hexo<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ npm install -g hexo-cli</div></pre></td></tr></table></figure></p>\n<p>  <img src=\"http://img.blog.csdn.net/20170127013758197?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  出现的WARN可以不用理会<br>  继续使用命令</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo --save</div></pre></td></tr></table></figure>\n<p>  查看hexo是否安装正确<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo -v</div></pre></td></tr></table></figure></p>\n<h2 id=\"本地支行hexo\"><a href=\"#本地支行hexo\" class=\"headerlink\" title=\"本地支行hexo\"></a>本地支行hexo</h2><p>  初始化hexo<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo init</div></pre></td></tr></table></figure></p>\n<p>  安装生成器</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install</div></pre></td></tr></table></figure>\n<p>  在本地运行hexo</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo s -g</div></pre></td></tr></table></figure>\n<p>  打开浏览器，输入localhost:4000,就可以在本地看到你的个人博客了，按住Ctrl+C键即可停止</p>\n<h2 id=\"管理博客\"><a href=\"#管理博客\" class=\"headerlink\" title=\"管理博客\"></a>管理博客</h2><p>  打开根目录下的_config.yml，注意：主题目录下也有 _config.yml<br>  <img src=\"http://img.blog.csdn.net/20170127014901283?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Hexo Configuration</div><div class=\"line\">## Docs: https://hexo.io/docs/configuration.html</div><div class=\"line\">## Source: https://github.com/hexojs/hexo/</div><div class=\"line\"></div><div class=\"line\"># Site</div><div class=\"line\">title: zengmianhui&apos;s personal blog</div><div class=\"line\">subtitle:</div><div class=\"line\">description: 来这里，查看更多技术的分享</div><div class=\"line\">author: zengmianhui</div><div class=\"line\">language: zh-Hans</div><div class=\"line\">#时区</div><div class=\"line\">timezone:</div><div class=\"line\"># URL</div><div class=\"line\">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class=\"line\">url: https://zengmianhui.github.io</div><div class=\"line\">root: /</div><div class=\"line\">permalink: :year/:month/:day/:title/</div><div class=\"line\">permalink_defaults:</div><div class=\"line\"></div><div class=\"line\"># Directory</div><div class=\"line\">source_dir: source</div><div class=\"line\">public_dir: public</div><div class=\"line\">tag_dir: tags</div><div class=\"line\">archive_dir: archives</div><div class=\"line\">category_dir: categories</div><div class=\"line\">code_dir: downloads/code</div><div class=\"line\">i18n_dir: :lang</div><div class=\"line\">skip_render:</div><div class=\"line\"></div><div class=\"line\"># Writing</div><div class=\"line\">new_post_name: :title.md # File name of new posts</div><div class=\"line\">default_layout: post</div><div class=\"line\">titlecase: false # Transform title into titlecase</div><div class=\"line\">external_link: true # Open external links in new tab</div><div class=\"line\">filename_case: 0</div><div class=\"line\">render_drafts: false</div><div class=\"line\">post_asset_folder: false</div><div class=\"line\">relative_link: false</div><div class=\"line\">future: true</div><div class=\"line\">highlight:</div><div class=\"line\">  enable: true</div><div class=\"line\">  line_number: true</div><div class=\"line\">  auto_detect: false</div><div class=\"line\">  tab_replace:</div><div class=\"line\"></div><div class=\"line\"># Category &amp; Tag</div><div class=\"line\">default_category: categorized</div><div class=\"line\">category_map:</div><div class=\"line\">tag_map:</div><div class=\"line\"></div><div class=\"line\"># Date / Time format</div><div class=\"line\">## Hexo uses Moment.js to parse and display date</div><div class=\"line\">## You can customize the date format as defined in</div><div class=\"line\">## http://momentjs.com/docs/#/displaying/format/</div><div class=\"line\">date_format: YYYY-MM-DD</div><div class=\"line\">time_format: HH:mm:ss</div><div class=\"line\"></div><div class=\"line\"># Pagination</div><div class=\"line\">## Set per_page to 0 to disable pagination</div><div class=\"line\">per_page: 10</div><div class=\"line\">pagination_dir: page</div><div class=\"line\"></div><div class=\"line\">#博客主题</div><div class=\"line\"># Extensions</div><div class=\"line\">## Plugins: https://hexo.io/plugins/</div><div class=\"line\">## Themes: https://hexo.io/themes/</div><div class=\"line\">theme: next</div><div class=\"line\"></div><div class=\"line\">#发布设置</div><div class=\"line\"># Deployment</div><div class=\"line\">## Docs: https://hexo.io/docs/deployment.html</div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repo: https://github.com/zengmianhui/zengmianhui.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\">  message: 我的博客</div><div class=\"line\">#头像</div><div class=\"line\">avatar: zengmianhui.github.io/images/avatar.jpg</div></pre></td></tr></table></figure></p>\n<h2 id=\"发一篇新的博客\"><a href=\"#发一篇新的博客\" class=\"headerlink\" title=\"发一篇新的博客\"></a>发一篇新的博客</h2><p>  输入命令</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new &quot;博客名&quot;</div></pre></td></tr></table></figure>\n<p>  <img src=\"http://img.blog.csdn.net/20170127015326231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  打开生成的博客，并编辑</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">---</div><div class=\"line\">title: 如何在github上创建个人博客？</div><div class=\"line\">date: 2017-01-27 01:13:43</div><div class=\"line\">categories:</div><div class=\"line\">  - 其他</div><div class=\"line\">  - github</div><div class=\"line\">tags:</div><div class=\"line\">  - 其他</div><div class=\"line\">---</div><div class=\"line\"></div><div class=\"line\">摘要:</div><div class=\"line\">&lt;!--more--&gt;</div><div class=\"line\">正文:</div></pre></td></tr></table></figure>\n<h2 id=\"发布博客\"><a href=\"#发布博客\" class=\"headerlink\" title=\"发布博客\"></a>发布博客</h2><p>  当然发布之前，首先要确保你本地的SSH和github上保存的SSH是一致的<br>  <img src=\"http://img.blog.csdn.net/20170127020333242?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  如果电脑中没有SSH，就输入以下命令生成<br>  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ssh-keygen -t rsa -C &quot;邮件地址@youremail.com&quot;</div><div class=\"line\">Generating public/private rsa key pair.</div><div class=\"line\">Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):&lt;直接回车&gt;</div></pre></td></tr></table></figure></p>\n<p>  注意1: 此处的邮箱地址，你可以输入自己的邮箱地址；<br>  注意2: 此处的「-C」的是大写的「C」<br>  然后系统会要你输入密码：</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">Enter passphrase (empty for no passphrase):&lt;输入加密串&gt;</div><div class=\"line\">Enter same passphrase again:&lt;再次输入加密串&gt;</div></pre></td></tr></table></figure>\n<p>  在回车中会提示你输入一个密码，这个密码会在你提交项目时使用，如果为空的话提交项目时则不用输入。这个设置是防止别人往你的项目里提交内容。<br>  <img src=\"http://img.blog.csdn.net/20170127020532649?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>  添加SSH Key到GitHub<br>  在本机设置SSH Key之后，需要添加到GitHub上，以完成SSH链接的设置。<br>  1、打开本地C:\\Documents and Settings\\Administrator.ssh\\id_rsa.pub文件。此文件里面内容为刚才生成人密钥。如果看不到这个文件，你需要设置显示隐藏文件。准确的复制这个文件的内容，才能保证设置的成功。<br>  2、登陆github系统。点击右上角的 Account Settings—&gt;SSH Public keys —&gt; add another public keys<br>  3、把你本地生成的密钥复制到里面（key文本框中）， 点击 add key 就ok了<br>  <img src=\"http://img.blog.csdn.net/20170127020622059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<p>  设置git信息</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">2</div><div class=\"line\">$ git config --global user.name &quot;你的用户名&quot;</div><div class=\"line\">$ git config --global user.email &quot;你的邮箱&quot;</div></pre></td></tr></table></figure>\n<p>  安装hexo git插件，这个插件会自动push到github</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>\n<p>  使用命令，hexo会自动将博客push到github上</p>\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo d -g</div></pre></td></tr></table></figure>\n<p>  发布时需要输入github的帐号和密码，输入密码时是看不到自己输入的内容的</p>\n<p>  发布成功后，访问yourname.github.io看下成果<br>  <a href=\"https://zengmianhui.github.io\">我的个人博客</a></p>"},{"title":"算法：二分查找法","date":"2018-05-21T23:14:15.000Z","_content":"# 参考链接(如有侵权立即删除)\n[二分查找有几种写法？它们的区别是什么？——知乎](https://www.zhihu.com/question/36132386)  \n[二分查找算法（左闭右开区间）](https://blog.csdn.net/wingWC/article/details/78229684)  \n[二分查找法——百度百科](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/10628618?fr=aladdin&fromid=8283141&fromtitle=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%B3%95)\n# 正文\n## 概述\n\n> 二分查找法，也叫折半查找法，提供一个升序的需要查找数组，再一分为二分别使用左右指针循环匹配，不断测算需要查找的区间，不断进行将数组折半。二分查找法的效率非常高，但是很少人能写出稳定的二分查找法（本来想写很少人能写出没有bug的二分查找法，但是想想欠妥，哪有没有bug的程序）\n\n<!-- more -->\n\n## 实现原理\n> 注：现在是需要查找的数组中只有非负整数\n\n### 先有一个升序了的数组\n\n首先需要一个已经升序排序过的数组，假设现在有数组，`int[] score={67,69,75,88,99,103}`,假设我们需要查找`int key=67`吧，\n\n0 | 1|2| 3|4| 5|\n---|---|---|---|---|---|\n67 | 69|75 | 88|99| 103\n\n### 测算中间位置，开始一分为二\n\n 测算中间值，我们通过开始下标和结束下标来算中间位置，`int mid=(start+end)/2;`，由于申明的是`int`,`5/2`取得`double`值只会取整数部分，由此可知，中间值为`75`，`int left=0,right=score.length-1`，`left`和`right`，是用来控制范围，每次我们都会缩小范围查找。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n67 | 69|==75== | 88|99| 103\n↑L | | | || ↑R\n\n### 缩小左右区间\n\n我们将需要查找的值`67` 与`mid`，对比，发现`67`比`mid`大，那么由于数组已经是升序的，我们大概推算出，`67`应该是在0到2的下标之间，将范围缩小，`right=mid-1`，将范围缩小到0-1。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n67 | 69|==75==| 88|99| 103\n↑L | ↑R| | || \n\n### 循环折半查找\n\n现在我们要重新测试中间值，以继续进行折半查找,`int mid=(start+end)/2;`，由此可知中间值67，判断`if(mid==key)`，查找结束，找到下标为0。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n==67== | 69|75| 88|99| 103\n↑L | ↑R| | || \n\n## 源码\n```\npublic static int binarySearch(int key,int[] array) {\n        int start,end,mid = 0;\n        start=0;\n        end=array.length-1;\n        while (start<=end) {\n            mid=(start+end)/2;//测算中间位置\n            if(array[mid]==key){\n                return mid;\n            }else if(array[mid]>key){//测算该值在数组的左边还是右边\n                end=mid-1;\n            }else{\n                start=mid+1;\n            }\n        }\n        return -1;\n}\n```","source":"_posts/算法：二分查找法.md","raw":"---\ntitle: 算法：二分查找法\ndate: 2018-05-22 07:14:15\ncategories:\n  - 算法\n  - 二分查找法\ntags:\n  - 二分查找法\n---\n# 参考链接(如有侵权立即删除)\n[二分查找有几种写法？它们的区别是什么？——知乎](https://www.zhihu.com/question/36132386)  \n[二分查找算法（左闭右开区间）](https://blog.csdn.net/wingWC/article/details/78229684)  \n[二分查找法——百度百科](https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/10628618?fr=aladdin&fromid=8283141&fromtitle=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%B3%95)\n# 正文\n## 概述\n\n> 二分查找法，也叫折半查找法，提供一个升序的需要查找数组，再一分为二分别使用左右指针循环匹配，不断测算需要查找的区间，不断进行将数组折半。二分查找法的效率非常高，但是很少人能写出稳定的二分查找法（本来想写很少人能写出没有bug的二分查找法，但是想想欠妥，哪有没有bug的程序）\n\n<!-- more -->\n\n## 实现原理\n> 注：现在是需要查找的数组中只有非负整数\n\n### 先有一个升序了的数组\n\n首先需要一个已经升序排序过的数组，假设现在有数组，`int[] score={67,69,75,88,99,103}`,假设我们需要查找`int key=67`吧，\n\n0 | 1|2| 3|4| 5|\n---|---|---|---|---|---|\n67 | 69|75 | 88|99| 103\n\n### 测算中间位置，开始一分为二\n\n 测算中间值，我们通过开始下标和结束下标来算中间位置，`int mid=(start+end)/2;`，由于申明的是`int`,`5/2`取得`double`值只会取整数部分，由此可知，中间值为`75`，`int left=0,right=score.length-1`，`left`和`right`，是用来控制范围，每次我们都会缩小范围查找。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n67 | 69|==75== | 88|99| 103\n↑L | | | || ↑R\n\n### 缩小左右区间\n\n我们将需要查找的值`67` 与`mid`，对比，发现`67`比`mid`大，那么由于数组已经是升序的，我们大概推算出，`67`应该是在0到2的下标之间，将范围缩小，`right=mid-1`，将范围缩小到0-1。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n67 | 69|==75==| 88|99| 103\n↑L | ↑R| | || \n\n### 循环折半查找\n\n现在我们要重新测试中间值，以继续进行折半查找,`int mid=(start+end)/2;`，由此可知中间值67，判断`if(mid==key)`，查找结束，找到下标为0。\n\n0 | 1|2| 3|4| 5|\n:---:|---|---|---|---|:---:|\n==67== | 69|75| 88|99| 103\n↑L | ↑R| | || \n\n## 源码\n```\npublic static int binarySearch(int key,int[] array) {\n        int start,end,mid = 0;\n        start=0;\n        end=array.length-1;\n        while (start<=end) {\n            mid=(start+end)/2;//测算中间位置\n            if(array[mid]==key){\n                return mid;\n            }else if(array[mid]>key){//测算该值在数组的左边还是右边\n                end=mid-1;\n            }else{\n                start=mid+1;\n            }\n        }\n        return -1;\n}\n```","slug":"算法：二分查找法","published":1,"updated":"2018-05-21T23:23:03.939Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3anu002la0usykvjtrkm","content":"<h1 id=\"参考链接-如有侵权立即删除\"><a href=\"#参考链接-如有侵权立即删除\" class=\"headerlink\" title=\"参考链接(如有侵权立即删除)\"></a>参考链接(如有侵权立即删除)</h1><p><a href=\"https://www.zhihu.com/question/36132386\" target=\"_blank\" rel=\"external\">二分查找有几种写法？它们的区别是什么？——知乎</a><br><a href=\"https://blog.csdn.net/wingWC/article/details/78229684\" target=\"_blank\" rel=\"external\">二分查找算法（左闭右开区间）</a><br><a href=\"https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/10628618?fr=aladdin&amp;fromid=8283141&amp;fromtitle=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%B3%95\" target=\"_blank\" rel=\"external\">二分查找法——百度百科</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>二分查找法，也叫折半查找法，提供一个升序的需要查找数组，再一分为二分别使用左右指针循环匹配，不断测算需要查找的区间，不断进行将数组折半。二分查找法的效率非常高，但是很少人能写出稳定的二分查找法（本来想写很少人能写出没有bug的二分查找法，但是想想欠妥，哪有没有bug的程序）</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"实现原理\"><a href=\"#实现原理\" class=\"headerlink\" title=\"实现原理\"></a>实现原理</h2><blockquote>\n<p>注：现在是需要查找的数组中只有非负整数</p>\n</blockquote>\n<h3 id=\"先有一个升序了的数组\"><a href=\"#先有一个升序了的数组\" class=\"headerlink\" title=\"先有一个升序了的数组\"></a>先有一个升序了的数组</h3><p>首先需要一个已经升序排序过的数组，假设现在有数组，<code>int[] score={67,69,75,88,99,103}</code>,假设我们需要查找<code>int key=67</code>吧，</p>\n<table>\n<thead>\n<tr>\n<th>0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>67</td>\n<td>69</td>\n<td>75</td>\n<td>88</td>\n<td>99</td>\n<td>103</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"测算中间位置，开始一分为二\"><a href=\"#测算中间位置，开始一分为二\" class=\"headerlink\" title=\"测算中间位置，开始一分为二\"></a>测算中间位置，开始一分为二</h3><p> 测算中间值，我们通过开始下标和结束下标来算中间位置，<code>int mid=(start+end)/2;</code>，由于申明的是<code>int</code>,<code>5/2</code>取得<code>double</code>值只会取整数部分，由此可知，中间值为<code>75</code>，<code>int left=0,right=score.length-1</code>，<code>left</code>和<code>right</code>，是用来控制范围，每次我们都会缩小范围查找。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">67</td>\n<td>69</td>\n<td>==75==</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\">↑R</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"缩小左右区间\"><a href=\"#缩小左右区间\" class=\"headerlink\" title=\"缩小左右区间\"></a>缩小左右区间</h3><p>我们将需要查找的值<code>67</code> 与<code>mid</code>，对比，发现<code>67</code>比<code>mid</code>大，那么由于数组已经是升序的，我们大概推算出，<code>67</code>应该是在0到2的下标之间，将范围缩小，<code>right=mid-1</code>，将范围缩小到0-1。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">67</td>\n<td>69</td>\n<td>==75==</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td>↑R</td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"循环折半查找\"><a href=\"#循环折半查找\" class=\"headerlink\" title=\"循环折半查找\"></a>循环折半查找</h3><p>现在我们要重新测试中间值，以继续进行折半查找,<code>int mid=(start+end)/2;</code>，由此可知中间值67，判断<code>if(mid==key)</code>，查找结束，找到下标为0。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">==67==</td>\n<td>69</td>\n<td>75</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td>↑R</td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"源码\"><a href=\"#源码\" class=\"headerlink\" title=\"源码\"></a>源码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static int binarySearch(int key,int[] array) &#123;</div><div class=\"line\">        int start,end,mid = 0;</div><div class=\"line\">        start=0;</div><div class=\"line\">        end=array.length-1;</div><div class=\"line\">        while (start&lt;=end) &#123;</div><div class=\"line\">            mid=(start+end)/2;//测算中间位置</div><div class=\"line\">            if(array[mid]==key)&#123;</div><div class=\"line\">                return mid;</div><div class=\"line\">            &#125;else if(array[mid]&gt;key)&#123;//测算该值在数组的左边还是右边</div><div class=\"line\">                end=mid-1;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                start=mid+1;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return -1;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","excerpt":"<h1 id=\"参考链接-如有侵权立即删除\"><a href=\"#参考链接-如有侵权立即删除\" class=\"headerlink\" title=\"参考链接(如有侵权立即删除)\"></a>参考链接(如有侵权立即删除)</h1><p><a href=\"https://www.zhihu.com/question/36132386\">二分查找有几种写法？它们的区别是什么？——知乎</a><br><a href=\"https://blog.csdn.net/wingWC/article/details/78229684\">二分查找算法（左闭右开区间）</a><br><a href=\"https://baike.baidu.com/item/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/10628618?fr=aladdin&amp;fromid=8283141&amp;fromtitle=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%B3%95\">二分查找法——百度百科</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>二分查找法，也叫折半查找法，提供一个升序的需要查找数组，再一分为二分别使用左右指针循环匹配，不断测算需要查找的区间，不断进行将数组折半。二分查找法的效率非常高，但是很少人能写出稳定的二分查找法（本来想写很少人能写出没有bug的二分查找法，但是想想欠妥，哪有没有bug的程序）</p>\n</blockquote>","more":"<h2 id=\"实现原理\"><a href=\"#实现原理\" class=\"headerlink\" title=\"实现原理\"></a>实现原理</h2><blockquote>\n<p>注：现在是需要查找的数组中只有非负整数</p>\n</blockquote>\n<h3 id=\"先有一个升序了的数组\"><a href=\"#先有一个升序了的数组\" class=\"headerlink\" title=\"先有一个升序了的数组\"></a>先有一个升序了的数组</h3><p>首先需要一个已经升序排序过的数组，假设现在有数组，<code>int[] score={67,69,75,88,99,103}</code>,假设我们需要查找<code>int key=67</code>吧，</p>\n<table>\n<thead>\n<tr>\n<th>0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th>5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>67</td>\n<td>69</td>\n<td>75</td>\n<td>88</td>\n<td>99</td>\n<td>103</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"测算中间位置，开始一分为二\"><a href=\"#测算中间位置，开始一分为二\" class=\"headerlink\" title=\"测算中间位置，开始一分为二\"></a>测算中间位置，开始一分为二</h3><p> 测算中间值，我们通过开始下标和结束下标来算中间位置，<code>int mid=(start+end)/2;</code>，由于申明的是<code>int</code>,<code>5/2</code>取得<code>double</code>值只会取整数部分，由此可知，中间值为<code>75</code>，<code>int left=0,right=score.length-1</code>，<code>left</code>和<code>right</code>，是用来控制范围，每次我们都会缩小范围查找。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">67</td>\n<td>69</td>\n<td>==75==</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\">↑R</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"缩小左右区间\"><a href=\"#缩小左右区间\" class=\"headerlink\" title=\"缩小左右区间\"></a>缩小左右区间</h3><p>我们将需要查找的值<code>67</code> 与<code>mid</code>，对比，发现<code>67</code>比<code>mid</code>大，那么由于数组已经是升序的，我们大概推算出，<code>67</code>应该是在0到2的下标之间，将范围缩小，<code>right=mid-1</code>，将范围缩小到0-1。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">67</td>\n<td>69</td>\n<td>==75==</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td>↑R</td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"循环折半查找\"><a href=\"#循环折半查找\" class=\"headerlink\" title=\"循环折半查找\"></a>循环折半查找</h3><p>现在我们要重新测试中间值，以继续进行折半查找,<code>int mid=(start+end)/2;</code>，由此可知中间值67，判断<code>if(mid==key)</code>，查找结束，找到下标为0。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">0</th>\n<th>1</th>\n<th>2</th>\n<th>3</th>\n<th>4</th>\n<th style=\"text-align:center\">5</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">==67==</td>\n<td>69</td>\n<td>75</td>\n<td>88</td>\n<td>99</td>\n<td style=\"text-align:center\">103</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">↑L</td>\n<td>↑R</td>\n<td></td>\n<td></td>\n<td></td>\n<td style=\"text-align:center\"></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"源码\"><a href=\"#源码\" class=\"headerlink\" title=\"源码\"></a>源码</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static int binarySearch(int key,int[] array) &#123;</div><div class=\"line\">        int start,end,mid = 0;</div><div class=\"line\">        start=0;</div><div class=\"line\">        end=array.length-1;</div><div class=\"line\">        while (start&lt;=end) &#123;</div><div class=\"line\">            mid=(start+end)/2;//测算中间位置</div><div class=\"line\">            if(array[mid]==key)&#123;</div><div class=\"line\">                return mid;</div><div class=\"line\">            &#125;else if(array[mid]&gt;key)&#123;//测算该值在数组的左边还是右边</div><div class=\"line\">                end=mid-1;</div><div class=\"line\">            &#125;else&#123;</div><div class=\"line\">                start=mid+1;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">        return -1;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"运行我的第一个php程序","date":"2017-02-04T18:11:21.000Z","_content":"## php的简介\n### 什么是php？\nphp是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。\n<!--more-->\n## php的简介\n### 什么是php？\nphp是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。\n### 什么是php文件\n1.\tPHP 文件能够包含文本、HTML、CSS 以及 PHP 代码\n2.\tPHP 代码在服务器上执行，而结果以纯文本返回浏览器\n3.\tPHP 文件的后缀是 \".php\"\n### php能够做什么？\n1.\tPHP 能够生成动态页面内容\n2.\tPHP 能够创建、打开、读取、写入、删除以及关闭服务器上的文件\n3.\tPHP 能够接收表单数据\n4.\tPHP 能够发送并取回 cookies\n5.\tPHP 能够添加、删除、修改数据库中的数据\n6.\tPHP 能够限制用户访问网站中的某些页面\n7.\tPHP 能够对数据进行加密\n### 为什么使用php？\n1.\tPHP 运行于各种平台（Windows, Linux, Unix, Mac OS X 等等）\n2.\tPHP 兼容几乎所有服务器（Apache, IIS 等等）\n3.\tPHP 支持多种数据库\n4.\tPHP 是免费的。请从官方 PHP 资源下载：www.php.net\n5.\tPHP 易于学习，并可高效地运行在服务器端\n## 搭建开发环境（第一个程序）\n\n使用PHPstudy作为php的服务器作调试运行\n此安装程序集成了php所需的所有开发工具，\nApache+Nginx+LightTPD+PHP+MySQL+phpMyAdmin+Zend Optimizer+Zend Loader\n直接下载phpstudy的压缩包进行解压安装即可，运行phpstudy\n![这里写图片描述](http://img.blog.csdn.net/20170205015043138?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 运行一个php程序\n<?php\n\techo \"Hello World!This is  my first php program!\"\n?>\n使用.php后缀的文件保存在“phpstudy—WWW”目录下，“WWW”目录是phpstudy服务运行的目标目录\n![这里写图片描述](http://img.blog.csdn.net/20170205015056653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/运行我的第一个php程序.md","raw":"---\ntitle: 运行我的第一个php程序\ndate: 2017-02-05 02:11:21\ncategories:\n  - php\ntags:\n  - php\n---\n## php的简介\n### 什么是php？\nphp是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。\n<!--more-->\n## php的简介\n### 什么是php？\nphp是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。\n### 什么是php文件\n1.\tPHP 文件能够包含文本、HTML、CSS 以及 PHP 代码\n2.\tPHP 代码在服务器上执行，而结果以纯文本返回浏览器\n3.\tPHP 文件的后缀是 \".php\"\n### php能够做什么？\n1.\tPHP 能够生成动态页面内容\n2.\tPHP 能够创建、打开、读取、写入、删除以及关闭服务器上的文件\n3.\tPHP 能够接收表单数据\n4.\tPHP 能够发送并取回 cookies\n5.\tPHP 能够添加、删除、修改数据库中的数据\n6.\tPHP 能够限制用户访问网站中的某些页面\n7.\tPHP 能够对数据进行加密\n### 为什么使用php？\n1.\tPHP 运行于各种平台（Windows, Linux, Unix, Mac OS X 等等）\n2.\tPHP 兼容几乎所有服务器（Apache, IIS 等等）\n3.\tPHP 支持多种数据库\n4.\tPHP 是免费的。请从官方 PHP 资源下载：www.php.net\n5.\tPHP 易于学习，并可高效地运行在服务器端\n## 搭建开发环境（第一个程序）\n\n使用PHPstudy作为php的服务器作调试运行\n此安装程序集成了php所需的所有开发工具，\nApache+Nginx+LightTPD+PHP+MySQL+phpMyAdmin+Zend Optimizer+Zend Loader\n直接下载phpstudy的压缩包进行解压安装即可，运行phpstudy\n![这里写图片描述](http://img.blog.csdn.net/20170205015043138?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n## 运行一个php程序\n<?php\n\techo \"Hello World!This is  my first php program!\"\n?>\n使用.php后缀的文件保存在“phpstudy—WWW”目录下，“WWW”目录是phpstudy服务运行的目标目录\n![这里写图片描述](http://img.blog.csdn.net/20170205015056653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"运行我的第一个php程序","published":1,"updated":"2017-02-04T18:17:11.036Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3any002oa0uskcfugwuk","content":"<h2 id=\"php的简介\"><a href=\"#php的简介\" class=\"headerlink\" title=\"php的简介\"></a>php的简介</h2><h3 id=\"什么是php？\"><a href=\"#什么是php？\" class=\"headerlink\" title=\"什么是php？\"></a>什么是php？</h3><p>php是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。<br><a id=\"more\"></a></p>\n<h2 id=\"php的简介-1\"><a href=\"#php的简介-1\" class=\"headerlink\" title=\"php的简介\"></a>php的简介</h2><h3 id=\"什么是php？-1\"><a href=\"#什么是php？-1\" class=\"headerlink\" title=\"什么是php？\"></a>什么是php？</h3><p>php是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。</p>\n<h3 id=\"什么是php文件\"><a href=\"#什么是php文件\" class=\"headerlink\" title=\"什么是php文件\"></a>什么是php文件</h3><ol>\n<li>PHP 文件能够包含文本、HTML、CSS 以及 PHP 代码</li>\n<li>PHP 代码在服务器上执行，而结果以纯文本返回浏览器</li>\n<li>PHP 文件的后缀是 “.php”<h3 id=\"php能够做什么？\"><a href=\"#php能够做什么？\" class=\"headerlink\" title=\"php能够做什么？\"></a>php能够做什么？</h3></li>\n<li>PHP 能够生成动态页面内容</li>\n<li>PHP 能够创建、打开、读取、写入、删除以及关闭服务器上的文件</li>\n<li>PHP 能够接收表单数据</li>\n<li>PHP 能够发送并取回 cookies</li>\n<li>PHP 能够添加、删除、修改数据库中的数据</li>\n<li>PHP 能够限制用户访问网站中的某些页面</li>\n<li>PHP 能够对数据进行加密<h3 id=\"为什么使用php？\"><a href=\"#为什么使用php？\" class=\"headerlink\" title=\"为什么使用php？\"></a>为什么使用php？</h3></li>\n<li>PHP 运行于各种平台（Windows, Linux, Unix, Mac OS X 等等）</li>\n<li>PHP 兼容几乎所有服务器（Apache, IIS 等等）</li>\n<li>PHP 支持多种数据库</li>\n<li>PHP 是免费的。请从官方 PHP 资源下载：www.php.net</li>\n<li>PHP 易于学习，并可高效地运行在服务器端<h2 id=\"搭建开发环境（第一个程序）\"><a href=\"#搭建开发环境（第一个程序）\" class=\"headerlink\" title=\"搭建开发环境（第一个程序）\"></a>搭建开发环境（第一个程序）</h2></li>\n</ol>\n<p>使用PHPstudy作为php的服务器作调试运行<br>此安装程序集成了php所需的所有开发工具，<br>Apache+Nginx+LightTPD+PHP+MySQL+phpMyAdmin+Zend Optimizer+Zend Loader<br>直接下载phpstudy的压缩包进行解压安装即可，运行phpstudy<br><img src=\"http://img.blog.csdn.net/20170205015043138?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"运行一个php程序\"><a href=\"#运行一个php程序\" class=\"headerlink\" title=\"运行一个php程序\"></a>运行一个php程序</h2><p>&lt;?php<br>    echo “Hello World!This is  my first php program!”<br>?&gt;<br>使用.php后缀的文件保存在“phpstudy—WWW”目录下，“WWW”目录是phpstudy服务运行的目标目录<br><img src=\"http://img.blog.csdn.net/20170205015056653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n","excerpt":"<h2 id=\"php的简介\"><a href=\"#php的简介\" class=\"headerlink\" title=\"php的简介\"></a>php的简介</h2><h3 id=\"什么是php？\"><a href=\"#什么是php？\" class=\"headerlink\" title=\"什么是php？\"></a>什么是php？</h3><p>php是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。<br></p>","more":"<p></p>\n<h2 id=\"php的简介-1\"><a href=\"#php的简介-1\" class=\"headerlink\" title=\"php的简介\"></a>php的简介</h2><h3 id=\"什么是php？-1\"><a href=\"#什么是php？-1\" class=\"headerlink\" title=\"什么是php？\"></a>什么是php？</h3><p>php是一种超文本的标记语言，或者叫做开源脚本言。它是一种运行在服务器上的程序语言，语法简单，开发速度快，像WordPress博客、facebook社交平台都采用了php的技术。</p>\n<h3 id=\"什么是php文件\"><a href=\"#什么是php文件\" class=\"headerlink\" title=\"什么是php文件\"></a>什么是php文件</h3><ol>\n<li>PHP 文件能够包含文本、HTML、CSS 以及 PHP 代码</li>\n<li>PHP 代码在服务器上执行，而结果以纯文本返回浏览器</li>\n<li>PHP 文件的后缀是 “.php”<h3 id=\"php能够做什么？\"><a href=\"#php能够做什么？\" class=\"headerlink\" title=\"php能够做什么？\"></a>php能够做什么？</h3></li>\n<li>PHP 能够生成动态页面内容</li>\n<li>PHP 能够创建、打开、读取、写入、删除以及关闭服务器上的文件</li>\n<li>PHP 能够接收表单数据</li>\n<li>PHP 能够发送并取回 cookies</li>\n<li>PHP 能够添加、删除、修改数据库中的数据</li>\n<li>PHP 能够限制用户访问网站中的某些页面</li>\n<li>PHP 能够对数据进行加密<h3 id=\"为什么使用php？\"><a href=\"#为什么使用php？\" class=\"headerlink\" title=\"为什么使用php？\"></a>为什么使用php？</h3></li>\n<li>PHP 运行于各种平台（Windows, Linux, Unix, Mac OS X 等等）</li>\n<li>PHP 兼容几乎所有服务器（Apache, IIS 等等）</li>\n<li>PHP 支持多种数据库</li>\n<li>PHP 是免费的。请从官方 PHP 资源下载：www.php.net</li>\n<li>PHP 易于学习，并可高效地运行在服务器端<h2 id=\"搭建开发环境（第一个程序）\"><a href=\"#搭建开发环境（第一个程序）\" class=\"headerlink\" title=\"搭建开发环境（第一个程序）\"></a>搭建开发环境（第一个程序）</h2></li>\n</ol>\n<p>使用PHPstudy作为php的服务器作调试运行<br>此安装程序集成了php所需的所有开发工具，<br>Apache+Nginx+LightTPD+PHP+MySQL+phpMyAdmin+Zend Optimizer+Zend Loader<br>直接下载phpstudy的压缩包进行解压安装即可，运行phpstudy<br><img src=\"http://img.blog.csdn.net/20170205015043138?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"运行一个php程序\"><a href=\"#运行一个php程序\" class=\"headerlink\" title=\"运行一个php程序\"></a>运行一个php程序</h2><p>&lt;?php<br>    echo “Hello World!This is  my first php program!”<br>?&gt;<br>使用.php后缀的文件保存在“phpstudy—WWW”目录下，“WWW”目录是phpstudy服务运行的目标目录<br><img src=\"http://img.blog.csdn.net/20170205015056653?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>"},{"title":"设计模式之mvp设计模式","date":"2017-04-21T07:36:48.000Z","_content":"# 参考链接\n[《android-architecture》-googlesample](https://github.com/googlesamples/android-architecture/tree/todo-mvp/)\n\n# mvp设计模式\n## 说明\n&ensp;&emsp;和传统的mvc不同的的是，原先controller的概念变为presenter，原意为“代理”的意思，mvp设计模式中，model和view的交互完全由Presenter进行代理，简单理解就是，View请求Model时，是先发送给Presenter，Presenter收到请求，再发送请求给Model，Model响应数据回Presenter，Presenter再响应回View，此时完成交互。Model请求View也是差不多的过程。  \n&ensp;&emsp;mvp设计模式在Android最为常用。\n<!--more-->\n## 传统MVC和MVP之间的图示比较\n![mvp设计模式图示](设计模式之mvp设计模式/1.jpg)\n![mvc设计模式图示](设计模式之mvp设计模式/2.jpg)\n\n## google mvp\n![google todo-mvp](设计模式之mvp设计模式/3.jpg)  \n### BasePresenter  \n```\npublic interface BasePresenter {\n    //可以用来初始化相关的数据\n    void start();\n\n}\n```\n### BaseView  \n```\npublic interface BaseView<T> {\n    //view层可以引用Presenter\n    void setPresenter(T presenter);\n}\n```\n### module\n#### contract  \n    这个是根据具体模块，抽象更多功能的类\n```\npublic interface TasksContract {\n\n    interface View extends BaseView<Presenter> {\n//可以再设计更多抽象方法···············\n        void showTasks(List<Task> tasks);\n    }\n\n    interface Presenter extends BasePresenter {\n//可以再设计更多抽象方法···············\n        void loadTasks(boolean forceUpdate);\n    }\n}\n```\n#### View\n    \n```\npublic class TasksFragment extends Fragment implements TasksContract.View {\n    private TasksContract.Presenter mPresenter;\n//其他方法略····················\n    @Override\n    public void showTasks(List<Task> tasks) {\n        //Presenter向model获取数据后，将回调此方法，返回有数据的tasks给View层\n    }\n    @Override\n    public void setPresenter(@NonNull TasksContract.Presenter presenter) {\n    //Presenter实例化后回调TasksContract.View 中setPresenter()方法，从而View层也获取到Presenter的引用\n        mPresenter = checkNotNull(presenter);\n    }\n}\n```\n#### Presenter\n```\npublic class TasksPresenter implements TasksContract.Presenter {\n//数据层data包中的封装类\n    private final TasksRepository mTasksRepository;\n//view层\n    private final TasksContract.View mTasksView;\n\n    public TasksPresenter(@NonNull TasksRepository tasksRepository, @NonNull TasksContract.View tasksView) {\n        mTasksRepository = checkNotNull(tasksRepository, \"tasksRepository cannot be null\");\n        mTasksView = checkNotNull(tasksView, \"tasksView cannot be null!\");\n//使View层得到Presenter的引用\n        mTasksView.setPresenter(this);\n    }\n}\n```\n\n### Activity\n在Activity中初始化Presenter的实现类，即可完成MVP模式的分层,view层只做视图展示，model层负责查询数据，Presenter负责View和model的代理。\n```\n// Create the presenter\nmTasksPresenter = new TasksPresenter(\n        Injection.provideTasksRepository(getApplicationContext()), tasksFragment);\n\n```\n","source":"_posts/设计模式之mvp设计模式.md","raw":"---\ntitle: 设计模式之mvp设计模式\ndate: 2017-04-21 15:36:48\ncategories:\n  - android\n  - 设计模式\ntags:\n  - android\n  - 设计模式\n---\n# 参考链接\n[《android-architecture》-googlesample](https://github.com/googlesamples/android-architecture/tree/todo-mvp/)\n\n# mvp设计模式\n## 说明\n&ensp;&emsp;和传统的mvc不同的的是，原先controller的概念变为presenter，原意为“代理”的意思，mvp设计模式中，model和view的交互完全由Presenter进行代理，简单理解就是，View请求Model时，是先发送给Presenter，Presenter收到请求，再发送请求给Model，Model响应数据回Presenter，Presenter再响应回View，此时完成交互。Model请求View也是差不多的过程。  \n&ensp;&emsp;mvp设计模式在Android最为常用。\n<!--more-->\n## 传统MVC和MVP之间的图示比较\n![mvp设计模式图示](设计模式之mvp设计模式/1.jpg)\n![mvc设计模式图示](设计模式之mvp设计模式/2.jpg)\n\n## google mvp\n![google todo-mvp](设计模式之mvp设计模式/3.jpg)  \n### BasePresenter  \n```\npublic interface BasePresenter {\n    //可以用来初始化相关的数据\n    void start();\n\n}\n```\n### BaseView  \n```\npublic interface BaseView<T> {\n    //view层可以引用Presenter\n    void setPresenter(T presenter);\n}\n```\n### module\n#### contract  \n    这个是根据具体模块，抽象更多功能的类\n```\npublic interface TasksContract {\n\n    interface View extends BaseView<Presenter> {\n//可以再设计更多抽象方法···············\n        void showTasks(List<Task> tasks);\n    }\n\n    interface Presenter extends BasePresenter {\n//可以再设计更多抽象方法···············\n        void loadTasks(boolean forceUpdate);\n    }\n}\n```\n#### View\n    \n```\npublic class TasksFragment extends Fragment implements TasksContract.View {\n    private TasksContract.Presenter mPresenter;\n//其他方法略····················\n    @Override\n    public void showTasks(List<Task> tasks) {\n        //Presenter向model获取数据后，将回调此方法，返回有数据的tasks给View层\n    }\n    @Override\n    public void setPresenter(@NonNull TasksContract.Presenter presenter) {\n    //Presenter实例化后回调TasksContract.View 中setPresenter()方法，从而View层也获取到Presenter的引用\n        mPresenter = checkNotNull(presenter);\n    }\n}\n```\n#### Presenter\n```\npublic class TasksPresenter implements TasksContract.Presenter {\n//数据层data包中的封装类\n    private final TasksRepository mTasksRepository;\n//view层\n    private final TasksContract.View mTasksView;\n\n    public TasksPresenter(@NonNull TasksRepository tasksRepository, @NonNull TasksContract.View tasksView) {\n        mTasksRepository = checkNotNull(tasksRepository, \"tasksRepository cannot be null\");\n        mTasksView = checkNotNull(tasksView, \"tasksView cannot be null!\");\n//使View层得到Presenter的引用\n        mTasksView.setPresenter(this);\n    }\n}\n```\n\n### Activity\n在Activity中初始化Presenter的实现类，即可完成MVP模式的分层,view层只做视图展示，model层负责查询数据，Presenter负责View和model的代理。\n```\n// Create the presenter\nmTasksPresenter = new TasksPresenter(\n        Injection.provideTasksRepository(getApplicationContext()), tasksFragment);\n\n```\n","slug":"设计模式之mvp设计模式","published":1,"updated":"2017-04-30T15:56:50.374Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ao2002sa0usy32ahmxq","content":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp/\" target=\"_blank\" rel=\"external\">《android-architecture》-googlesample</a></p>\n<h1 id=\"mvp设计模式\"><a href=\"#mvp设计模式\" class=\"headerlink\" title=\"mvp设计模式\"></a>mvp设计模式</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&ensp;&emsp;和传统的mvc不同的的是，原先controller的概念变为presenter，原意为“代理”的意思，mvp设计模式中，model和view的交互完全由Presenter进行代理，简单理解就是，View请求Model时，是先发送给Presenter，Presenter收到请求，再发送请求给Model，Model响应数据回Presenter，Presenter再响应回View，此时完成交互。Model请求View也是差不多的过程。<br>&ensp;&emsp;mvp设计模式在Android最为常用。<br><a id=\"more\"></a></p>\n<h2 id=\"传统MVC和MVP之间的图示比较\"><a href=\"#传统MVC和MVP之间的图示比较\" class=\"headerlink\" title=\"传统MVC和MVP之间的图示比较\"></a>传统MVC和MVP之间的图示比较</h2><p><img src=\"/2017/04/21/设计模式之mvp设计模式/1.jpg\" alt=\"mvp设计模式图示\"><br><img src=\"/2017/04/21/设计模式之mvp设计模式/2.jpg\" alt=\"mvc设计模式图示\"></p>\n<h2 id=\"google-mvp\"><a href=\"#google-mvp\" class=\"headerlink\" title=\"google mvp\"></a>google mvp</h2><p><img src=\"/2017/04/21/设计模式之mvp设计模式/3.jpg\" alt=\"google todo-mvp\">  </p>\n<h3 id=\"BasePresenter\"><a href=\"#BasePresenter\" class=\"headerlink\" title=\"BasePresenter\"></a>BasePresenter</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface BasePresenter &#123;</div><div class=\"line\">    //可以用来初始化相关的数据</div><div class=\"line\">    void start();</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"BaseView\"><a href=\"#BaseView\" class=\"headerlink\" title=\"BaseView\"></a>BaseView</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface BaseView&lt;T&gt; &#123;</div><div class=\"line\">    //view层可以引用Presenter</div><div class=\"line\">    void setPresenter(T presenter);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"module\"><a href=\"#module\" class=\"headerlink\" title=\"module\"></a>module</h3><h4 id=\"contract\"><a href=\"#contract\" class=\"headerlink\" title=\"contract\"></a>contract</h4><pre><code>这个是根据具体模块，抽象更多功能的类\n</code></pre><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface TasksContract &#123;</div><div class=\"line\"></div><div class=\"line\">    interface View extends BaseView&lt;Presenter&gt; &#123;</div><div class=\"line\">//可以再设计更多抽象方法···············</div><div class=\"line\">        void showTasks(List&lt;Task&gt; tasks);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    interface Presenter extends BasePresenter &#123;</div><div class=\"line\">//可以再设计更多抽象方法···············</div><div class=\"line\">        void loadTasks(boolean forceUpdate);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"View\"><a href=\"#View\" class=\"headerlink\" title=\"View\"></a>View</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class TasksFragment extends Fragment implements TasksContract.View &#123;</div><div class=\"line\">    private TasksContract.Presenter mPresenter;</div><div class=\"line\">//其他方法略····················</div><div class=\"line\">    @Override</div><div class=\"line\">    public void showTasks(List&lt;Task&gt; tasks) &#123;</div><div class=\"line\">        //Presenter向model获取数据后，将回调此方法，返回有数据的tasks给View层</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void setPresenter(@NonNull TasksContract.Presenter presenter) &#123;</div><div class=\"line\">    //Presenter实例化后回调TasksContract.View 中setPresenter()方法，从而View层也获取到Presenter的引用</div><div class=\"line\">        mPresenter = checkNotNull(presenter);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"Presenter\"><a href=\"#Presenter\" class=\"headerlink\" title=\"Presenter\"></a>Presenter</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class TasksPresenter implements TasksContract.Presenter &#123;</div><div class=\"line\">//数据层data包中的封装类</div><div class=\"line\">    private final TasksRepository mTasksRepository;</div><div class=\"line\">//view层</div><div class=\"line\">    private final TasksContract.View mTasksView;</div><div class=\"line\"></div><div class=\"line\">    public TasksPresenter(@NonNull TasksRepository tasksRepository, @NonNull TasksContract.View tasksView) &#123;</div><div class=\"line\">        mTasksRepository = checkNotNull(tasksRepository, &quot;tasksRepository cannot be null&quot;);</div><div class=\"line\">        mTasksView = checkNotNull(tasksView, &quot;tasksView cannot be null!&quot;);</div><div class=\"line\">//使View层得到Presenter的引用</div><div class=\"line\">        mTasksView.setPresenter(this);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Activity\"><a href=\"#Activity\" class=\"headerlink\" title=\"Activity\"></a>Activity</h3><p>在Activity中初始化Presenter的实现类，即可完成MVP模式的分层,view层只做视图展示，model层负责查询数据，Presenter负责View和model的代理。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">// Create the presenter</div><div class=\"line\">mTasksPresenter = new TasksPresenter(</div><div class=\"line\">        Injection.provideTasksRepository(getApplicationContext()), tasksFragment);</div></pre></td></tr></table></figure></p>\n","excerpt":"<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><p><a href=\"https://github.com/googlesamples/android-architecture/tree/todo-mvp/\">《android-architecture》-googlesample</a></p>\n<h1 id=\"mvp设计模式\"><a href=\"#mvp设计模式\" class=\"headerlink\" title=\"mvp设计模式\"></a>mvp设计模式</h1><h2 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h2><p>&ensp;&emsp;和传统的mvc不同的的是，原先controller的概念变为presenter，原意为“代理”的意思，mvp设计模式中，model和view的交互完全由Presenter进行代理，简单理解就是，View请求Model时，是先发送给Presenter，Presenter收到请求，再发送请求给Model，Model响应数据回Presenter，Presenter再响应回View，此时完成交互。Model请求View也是差不多的过程。<br>&ensp;&emsp;mvp设计模式在Android最为常用。<br></p>","more":"<p></p>\n<h2 id=\"传统MVC和MVP之间的图示比较\"><a href=\"#传统MVC和MVP之间的图示比较\" class=\"headerlink\" title=\"传统MVC和MVP之间的图示比较\"></a>传统MVC和MVP之间的图示比较</h2><p><img src=\"/2017/04/21/设计模式之mvp设计模式/1.jpg\" alt=\"mvp设计模式图示\"><br><img src=\"/2017/04/21/设计模式之mvp设计模式/2.jpg\" alt=\"mvc设计模式图示\"></p>\n<h2 id=\"google-mvp\"><a href=\"#google-mvp\" class=\"headerlink\" title=\"google mvp\"></a>google mvp</h2><p><img src=\"/2017/04/21/设计模式之mvp设计模式/3.jpg\" alt=\"google todo-mvp\">  </p>\n<h3 id=\"BasePresenter\"><a href=\"#BasePresenter\" class=\"headerlink\" title=\"BasePresenter\"></a>BasePresenter</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface BasePresenter &#123;</div><div class=\"line\">    //可以用来初始化相关的数据</div><div class=\"line\">    void start();</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"BaseView\"><a href=\"#BaseView\" class=\"headerlink\" title=\"BaseView\"></a>BaseView</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface BaseView&lt;T&gt; &#123;</div><div class=\"line\">    //view层可以引用Presenter</div><div class=\"line\">    void setPresenter(T presenter);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"module\"><a href=\"#module\" class=\"headerlink\" title=\"module\"></a>module</h3><h4 id=\"contract\"><a href=\"#contract\" class=\"headerlink\" title=\"contract\"></a>contract</h4><pre><code>这个是根据具体模块，抽象更多功能的类\n</code></pre><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">public interface TasksContract &#123;</div><div class=\"line\"></div><div class=\"line\">    interface View extends BaseView&lt;Presenter&gt; &#123;</div><div class=\"line\">//可以再设计更多抽象方法···············</div><div class=\"line\">        void showTasks(List&lt;Task&gt; tasks);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    interface Presenter extends BasePresenter &#123;</div><div class=\"line\">//可以再设计更多抽象方法···············</div><div class=\"line\">        void loadTasks(boolean forceUpdate);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"View\"><a href=\"#View\" class=\"headerlink\" title=\"View\"></a>View</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class TasksFragment extends Fragment implements TasksContract.View &#123;</div><div class=\"line\">    private TasksContract.Presenter mPresenter;</div><div class=\"line\">//其他方法略····················</div><div class=\"line\">    @Override</div><div class=\"line\">    public void showTasks(List&lt;Task&gt; tasks) &#123;</div><div class=\"line\">        //Presenter向model获取数据后，将回调此方法，返回有数据的tasks给View层</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void setPresenter(@NonNull TasksContract.Presenter presenter) &#123;</div><div class=\"line\">    //Presenter实例化后回调TasksContract.View 中setPresenter()方法，从而View层也获取到Presenter的引用</div><div class=\"line\">        mPresenter = checkNotNull(presenter);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"Presenter\"><a href=\"#Presenter\" class=\"headerlink\" title=\"Presenter\"></a>Presenter</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">public class TasksPresenter implements TasksContract.Presenter &#123;</div><div class=\"line\">//数据层data包中的封装类</div><div class=\"line\">    private final TasksRepository mTasksRepository;</div><div class=\"line\">//view层</div><div class=\"line\">    private final TasksContract.View mTasksView;</div><div class=\"line\"></div><div class=\"line\">    public TasksPresenter(@NonNull TasksRepository tasksRepository, @NonNull TasksContract.View tasksView) &#123;</div><div class=\"line\">        mTasksRepository = checkNotNull(tasksRepository, &quot;tasksRepository cannot be null&quot;);</div><div class=\"line\">        mTasksView = checkNotNull(tasksView, &quot;tasksView cannot be null!&quot;);</div><div class=\"line\">//使View层得到Presenter的引用</div><div class=\"line\">        mTasksView.setPresenter(this);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"Activity\"><a href=\"#Activity\" class=\"headerlink\" title=\"Activity\"></a>Activity</h3><p>在Activity中初始化Presenter的实现类，即可完成MVP模式的分层,view层只做视图展示，model层负责查询数据，Presenter负责View和model的代理。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">// Create the presenter</div><div class=\"line\">mTasksPresenter = new TasksPresenter(</div><div class=\"line\">        Injection.provideTasksRepository(getApplicationContext()), tasksFragment);</div></pre></td></tr></table></figure></p>"},{"title":"设计模式：适配器模式","date":"2018-05-16T14:41:03.000Z","_content":"# 参考文章\n[java-design-patterns](http://java-design-patterns.com/patterns/adapter/)  \n[三大软件设计原则](https://blog.csdn.net/zj_show/article/details/8078447)  \n[你必须理解的三大软件原则3_YAGNI](https://blog.csdn.net/zj_show/article/details/8078447)  \n[设计模式之适配器模式——掘金](blueskykong.com)\n# 正文\n> 开始学习之前，最好知道“三大软件设计原则”\n<!-- more -->\n## 三大软件设计原则\n\n* KISS（Keep it Simple Stupid保持简单而不复杂）\n> 用最少的代码实现最好的功能  \n简单就是最终的复杂  \n不实现过度的封装\n* YAGNI（You Ain’t Gonna Need It你不需要它）\n> 如果概念上没有提到，那代码中也不能出现。举个例子来讲，将数据库访问抽象在一层是惯例，他们处理不同驱动间的差异，像MySQL, PostgreSQL and Oracle。如果你正工作于一个发布在共享主机的企业网站上，那他们改变数据库的几率有多大呢？请记住概念是用预算记下来的。\n* Don't Repeat Yourself(不做重复的事)\n> &emsp;&emsp;在系统中，每一项知识都必须具有单一的，明确的，权威的表述。    \n&emsp;&emsp;程序中的每个重要功能都应该在源代码中的一个地方实现。在通过不同的代码段执行类似的功能的情况下，通过提取不同的部分将它们合并成一个通常是有益的。   \n为什么需要减少重复的工作：  \n&emsp;&emsp;复制（无意或有目的的重复）可能导致维护噩梦，糟糕的保理和逻辑矛盾。  \n&emsp;&emsp;对系统的任何单个元素的修改不需要改变其他逻辑上不相关的元素。  \n&emsp;&emsp;此外，逻辑上相关的元素全部可预测并一致地变化，并因此保持同步。\n\n## 概述\n> 适配器模式，1.它可以使用两个不同的类协同工作，或者使两个不同的接口实现协同工作2.它可以使用两个类的协同工作，并且可以实现多种协同工作方式,比如，我们的笔记本要必须要跟插座协同工作，那就需要电源适配器，如果电源适配器坏了，可以再买一个新。\n\n## 结构\n* 目标角色（Target）：— 定义Client使用的与特定领域相关的接口。\n* 客户角色（Client）：与符合Target接口的对象协同。\n* 被适配角色（Adaptee)：定义一个已经存在并已经使用的接口，这个接口需要适配。\n* 适配器角色（Adapte) ：适配器模式的核心。它将对被适配Adaptee角色已有的接口转换为目标角色Target匹配的接口。对Adaptee的接口与Target接口进行适配.\n## 图例\n![图片来自http://blueskykong.com/2017/01/29/design-adapter/](https://user-gold-cdn.xitu.io/2018/5/14/1635a3e33fa3c524?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)\n\n## 示例\n\n> 现在以船长滑船为例，船长和船本是不相干的，我们现在需要适配器\n\n### 船长的滑动技能\n\n```\n/**\n * 扬帆的技能\n * @author zmh\n *\n */\npublic interface RowingBoat {\n    /**\n     * 扬\n     */\n    void row();\n}\n```\n\n### 船长\n\n> 现在我们使用船长实现扬帆技能，这也有可能是你系统的原本设计，只提供船长，不提供船\n\n```\n/**\n * 船长，\n * @author zmh\n *\n */\npublic class Captain implements RowingBoat {\n    private RowingBoat rowingBoat;\n    \n    public Captain(RowingBoat rowingBoat) {\n        this.rowingBoat =rowingBoat;\n    }\n\n    @Override\n    public void row() {\n        System.out.print(\"船长扬-\");\n        rowingBoat.row();\n    }\n    \n}\n\n```\n### 船\n\n> 现在有一只船，这可能是你后来使用或者设计， \n\n```\n/**\n * 船\n * @author zmh\n *\n */\npublic class FishingBoat {\n    public void sail(){\n        System.out.println(\"帆\");\n    }\n}\n```\n### 适配器\n\n> 现在应该想怎么使用船长和船协同工作呢，我们需要创建适配器来协同\n\n```\n/**\n * 创建适配器，使船长能够扬帆\n * @author zmh\n *\n */\npublic class RowingBoatAdpater implements RowingBoat{\n    private FishingBoat boat;\n    public RowingBoatAdpater() {\n        boat=new FishingBoat();\n    }\n    @Override\n    public void row() {\n        boat.sail();\n    }\n}\n```\n### 船长使用适配器\n```\npublic static void main(String[] args) {\n        Captain c=new Captain(new RowingBoatAdpater());\n        c.row();\n    }\n```\n### 以下都是使用适配器模式的实例\n*   `Arrays.asList(arg0)`\n\n*   `java.util.Collections.list()`\n\n* 　`java.util.Collections.enumeration()`\n\n* 　`javax.xml.bind.annotation.adapters.XMLAdapter`\n","source":"_posts/设计模式：适配器模式.md","raw":"---\ntitle: 设计模式：适配器模式\ndate: 2018-05-16 22:41:03\ncategories:\n  - 设计模式\n  - 适配器模式\ntags:\n  - 适配器模式\n---\n# 参考文章\n[java-design-patterns](http://java-design-patterns.com/patterns/adapter/)  \n[三大软件设计原则](https://blog.csdn.net/zj_show/article/details/8078447)  \n[你必须理解的三大软件原则3_YAGNI](https://blog.csdn.net/zj_show/article/details/8078447)  \n[设计模式之适配器模式——掘金](blueskykong.com)\n# 正文\n> 开始学习之前，最好知道“三大软件设计原则”\n<!-- more -->\n## 三大软件设计原则\n\n* KISS（Keep it Simple Stupid保持简单而不复杂）\n> 用最少的代码实现最好的功能  \n简单就是最终的复杂  \n不实现过度的封装\n* YAGNI（You Ain’t Gonna Need It你不需要它）\n> 如果概念上没有提到，那代码中也不能出现。举个例子来讲，将数据库访问抽象在一层是惯例，他们处理不同驱动间的差异，像MySQL, PostgreSQL and Oracle。如果你正工作于一个发布在共享主机的企业网站上，那他们改变数据库的几率有多大呢？请记住概念是用预算记下来的。\n* Don't Repeat Yourself(不做重复的事)\n> &emsp;&emsp;在系统中，每一项知识都必须具有单一的，明确的，权威的表述。    \n&emsp;&emsp;程序中的每个重要功能都应该在源代码中的一个地方实现。在通过不同的代码段执行类似的功能的情况下，通过提取不同的部分将它们合并成一个通常是有益的。   \n为什么需要减少重复的工作：  \n&emsp;&emsp;复制（无意或有目的的重复）可能导致维护噩梦，糟糕的保理和逻辑矛盾。  \n&emsp;&emsp;对系统的任何单个元素的修改不需要改变其他逻辑上不相关的元素。  \n&emsp;&emsp;此外，逻辑上相关的元素全部可预测并一致地变化，并因此保持同步。\n\n## 概述\n> 适配器模式，1.它可以使用两个不同的类协同工作，或者使两个不同的接口实现协同工作2.它可以使用两个类的协同工作，并且可以实现多种协同工作方式,比如，我们的笔记本要必须要跟插座协同工作，那就需要电源适配器，如果电源适配器坏了，可以再买一个新。\n\n## 结构\n* 目标角色（Target）：— 定义Client使用的与特定领域相关的接口。\n* 客户角色（Client）：与符合Target接口的对象协同。\n* 被适配角色（Adaptee)：定义一个已经存在并已经使用的接口，这个接口需要适配。\n* 适配器角色（Adapte) ：适配器模式的核心。它将对被适配Adaptee角色已有的接口转换为目标角色Target匹配的接口。对Adaptee的接口与Target接口进行适配.\n## 图例\n![图片来自http://blueskykong.com/2017/01/29/design-adapter/](https://user-gold-cdn.xitu.io/2018/5/14/1635a3e33fa3c524?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)\n\n## 示例\n\n> 现在以船长滑船为例，船长和船本是不相干的，我们现在需要适配器\n\n### 船长的滑动技能\n\n```\n/**\n * 扬帆的技能\n * @author zmh\n *\n */\npublic interface RowingBoat {\n    /**\n     * 扬\n     */\n    void row();\n}\n```\n\n### 船长\n\n> 现在我们使用船长实现扬帆技能，这也有可能是你系统的原本设计，只提供船长，不提供船\n\n```\n/**\n * 船长，\n * @author zmh\n *\n */\npublic class Captain implements RowingBoat {\n    private RowingBoat rowingBoat;\n    \n    public Captain(RowingBoat rowingBoat) {\n        this.rowingBoat =rowingBoat;\n    }\n\n    @Override\n    public void row() {\n        System.out.print(\"船长扬-\");\n        rowingBoat.row();\n    }\n    \n}\n\n```\n### 船\n\n> 现在有一只船，这可能是你后来使用或者设计， \n\n```\n/**\n * 船\n * @author zmh\n *\n */\npublic class FishingBoat {\n    public void sail(){\n        System.out.println(\"帆\");\n    }\n}\n```\n### 适配器\n\n> 现在应该想怎么使用船长和船协同工作呢，我们需要创建适配器来协同\n\n```\n/**\n * 创建适配器，使船长能够扬帆\n * @author zmh\n *\n */\npublic class RowingBoatAdpater implements RowingBoat{\n    private FishingBoat boat;\n    public RowingBoatAdpater() {\n        boat=new FishingBoat();\n    }\n    @Override\n    public void row() {\n        boat.sail();\n    }\n}\n```\n### 船长使用适配器\n```\npublic static void main(String[] args) {\n        Captain c=new Captain(new RowingBoatAdpater());\n        c.row();\n    }\n```\n### 以下都是使用适配器模式的实例\n*   `Arrays.asList(arg0)`\n\n*   `java.util.Collections.list()`\n\n* 　`java.util.Collections.enumeration()`\n\n* 　`javax.xml.bind.annotation.adapters.XMLAdapter`\n","slug":"设计模式：适配器模式","published":1,"updated":"2018-05-16T14:43:01.205Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3ao6002wa0usl73dhbks","content":"<h1 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h1><p><a href=\"http://java-design-patterns.com/patterns/adapter/\" target=\"_blank\" rel=\"external\">java-design-patterns</a><br><a href=\"https://blog.csdn.net/zj_show/article/details/8078447\" target=\"_blank\" rel=\"external\">三大软件设计原则</a><br><a href=\"https://blog.csdn.net/zj_show/article/details/8078447\" target=\"_blank\" rel=\"external\">你必须理解的三大软件原则3_YAGNI</a><br><a href=\"blueskykong.com\">设计模式之适配器模式——掘金</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><blockquote>\n<p>开始学习之前，最好知道“三大软件设计原则”<br><a id=\"more\"></a></p>\n<h2 id=\"三大软件设计原则\"><a href=\"#三大软件设计原则\" class=\"headerlink\" title=\"三大软件设计原则\"></a>三大软件设计原则</h2></blockquote>\n<ul>\n<li>KISS（Keep it Simple Stupid保持简单而不复杂）<blockquote>\n<p>用最少的代码实现最好的功能<br>简单就是最终的复杂<br>不实现过度的封装</p>\n</blockquote>\n</li>\n<li>YAGNI（You Ain’t Gonna Need It你不需要它）<blockquote>\n<p>如果概念上没有提到，那代码中也不能出现。举个例子来讲，将数据库访问抽象在一层是惯例，他们处理不同驱动间的差异，像MySQL, PostgreSQL and Oracle。如果你正工作于一个发布在共享主机的企业网站上，那他们改变数据库的几率有多大呢？请记住概念是用预算记下来的。</p>\n</blockquote>\n</li>\n<li>Don’t Repeat Yourself(不做重复的事)<blockquote>\n<p>&emsp;&emsp;在系统中，每一项知识都必须具有单一的，明确的，权威的表述。<br>&emsp;&emsp;程序中的每个重要功能都应该在源代码中的一个地方实现。在通过不同的代码段执行类似的功能的情况下，通过提取不同的部分将它们合并成一个通常是有益的。<br>为什么需要减少重复的工作：<br>&emsp;&emsp;复制（无意或有目的的重复）可能导致维护噩梦，糟糕的保理和逻辑矛盾。<br>&emsp;&emsp;对系统的任何单个元素的修改不需要改变其他逻辑上不相关的元素。<br>&emsp;&emsp;此外，逻辑上相关的元素全部可预测并一致地变化，并因此保持同步。</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>适配器模式，1.它可以使用两个不同的类协同工作，或者使两个不同的接口实现协同工作2.它可以使用两个类的协同工作，并且可以实现多种协同工作方式,比如，我们的笔记本要必须要跟插座协同工作，那就需要电源适配器，如果电源适配器坏了，可以再买一个新。</p>\n</blockquote>\n<h2 id=\"结构\"><a href=\"#结构\" class=\"headerlink\" title=\"结构\"></a>结构</h2><ul>\n<li>目标角色（Target）：— 定义Client使用的与特定领域相关的接口。</li>\n<li>客户角色（Client）：与符合Target接口的对象协同。</li>\n<li>被适配角色（Adaptee)：定义一个已经存在并已经使用的接口，这个接口需要适配。</li>\n<li>适配器角色（Adapte) ：适配器模式的核心。它将对被适配Adaptee角色已有的接口转换为目标角色Target匹配的接口。对Adaptee的接口与Target接口进行适配.<h2 id=\"图例\"><a href=\"#图例\" class=\"headerlink\" title=\"图例\"></a>图例</h2><img src=\"https://user-gold-cdn.xitu.io/2018/5/14/1635a3e33fa3c524?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" alt=\"图片来自http://blueskykong.com/2017/01/29/design-adapter/\"></li>\n</ul>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><blockquote>\n<p>现在以船长滑船为例，船长和船本是不相干的，我们现在需要适配器</p>\n</blockquote>\n<h3 id=\"船长的滑动技能\"><a href=\"#船长的滑动技能\" class=\"headerlink\" title=\"船长的滑动技能\"></a>船长的滑动技能</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 扬帆的技能</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface RowingBoat &#123;</div><div class=\"line\">    /**</div><div class=\"line\">     * 扬</div><div class=\"line\">     */</div><div class=\"line\">    void row();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船长\"><a href=\"#船长\" class=\"headerlink\" title=\"船长\"></a>船长</h3><blockquote>\n<p>现在我们使用船长实现扬帆技能，这也有可能是你系统的原本设计，只提供船长，不提供船</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 船长，</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Captain implements RowingBoat &#123;</div><div class=\"line\">    private RowingBoat rowingBoat;</div><div class=\"line\">    </div><div class=\"line\">    public Captain(RowingBoat rowingBoat) &#123;</div><div class=\"line\">        this.rowingBoat =rowingBoat;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void row() &#123;</div><div class=\"line\">        System.out.print(&quot;船长扬-&quot;);</div><div class=\"line\">        rowingBoat.row();</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船\"><a href=\"#船\" class=\"headerlink\" title=\"船\"></a>船</h3><blockquote>\n<p>现在有一只船，这可能是你后来使用或者设计， </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 船</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class FishingBoat &#123;</div><div class=\"line\">    public void sail()&#123;</div><div class=\"line\">        System.out.println(&quot;帆&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"适配器\"><a href=\"#适配器\" class=\"headerlink\" title=\"适配器\"></a>适配器</h3><blockquote>\n<p>现在应该想怎么使用船长和船协同工作呢，我们需要创建适配器来协同</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 创建适配器，使船长能够扬帆</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class RowingBoatAdpater implements RowingBoat&#123;</div><div class=\"line\">    private FishingBoat boat;</div><div class=\"line\">    public RowingBoatAdpater() &#123;</div><div class=\"line\">        boat=new FishingBoat();</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void row() &#123;</div><div class=\"line\">        boat.sail();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船长使用适配器\"><a href=\"#船长使用适配器\" class=\"headerlink\" title=\"船长使用适配器\"></a>船长使用适配器</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">        Captain c=new Captain(new RowingBoatAdpater());</div><div class=\"line\">        c.row();</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"以下都是使用适配器模式的实例\"><a href=\"#以下都是使用适配器模式的实例\" class=\"headerlink\" title=\"以下都是使用适配器模式的实例\"></a>以下都是使用适配器模式的实例</h3><ul>\n<li><p><code>Arrays.asList(arg0)</code></p>\n</li>\n<li><p><code>java.util.Collections.list()</code></p>\n</li>\n<li><p>　<code>java.util.Collections.enumeration()</code></p>\n</li>\n<li><p>　<code>javax.xml.bind.annotation.adapters.XMLAdapter</code></p>\n</li>\n</ul>\n","excerpt":"<h1 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h1><p><a href=\"http://java-design-patterns.com/patterns/adapter/\">java-design-patterns</a><br><a href=\"https://blog.csdn.net/zj_show/article/details/8078447\">三大软件设计原则</a><br><a href=\"https://blog.csdn.net/zj_show/article/details/8078447\">你必须理解的三大软件原则3_YAGNI</a><br><a href=\"blueskykong.com\">设计模式之适配器模式——掘金</a></p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><blockquote>\n<p>开始学习之前，最好知道“三大软件设计原则”<br></p></blockquote>","more":"<p></p>\n<h2 id=\"三大软件设计原则\"><a href=\"#三大软件设计原则\" class=\"headerlink\" title=\"三大软件设计原则\"></a>三大软件设计原则</h2>\n<ul>\n<li>KISS（Keep it Simple Stupid保持简单而不复杂）<blockquote>\n<p>用最少的代码实现最好的功能<br>简单就是最终的复杂<br>不实现过度的封装</p>\n</blockquote>\n</li>\n<li>YAGNI（You Ain’t Gonna Need It你不需要它）<blockquote>\n<p>如果概念上没有提到，那代码中也不能出现。举个例子来讲，将数据库访问抽象在一层是惯例，他们处理不同驱动间的差异，像MySQL, PostgreSQL and Oracle。如果你正工作于一个发布在共享主机的企业网站上，那他们改变数据库的几率有多大呢？请记住概念是用预算记下来的。</p>\n</blockquote>\n</li>\n<li>Don’t Repeat Yourself(不做重复的事)<blockquote>\n<p>&emsp;&emsp;在系统中，每一项知识都必须具有单一的，明确的，权威的表述。<br>&emsp;&emsp;程序中的每个重要功能都应该在源代码中的一个地方实现。在通过不同的代码段执行类似的功能的情况下，通过提取不同的部分将它们合并成一个通常是有益的。<br>为什么需要减少重复的工作：<br>&emsp;&emsp;复制（无意或有目的的重复）可能导致维护噩梦，糟糕的保理和逻辑矛盾。<br>&emsp;&emsp;对系统的任何单个元素的修改不需要改变其他逻辑上不相关的元素。<br>&emsp;&emsp;此外，逻辑上相关的元素全部可预测并一致地变化，并因此保持同步。</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>适配器模式，1.它可以使用两个不同的类协同工作，或者使两个不同的接口实现协同工作2.它可以使用两个类的协同工作，并且可以实现多种协同工作方式,比如，我们的笔记本要必须要跟插座协同工作，那就需要电源适配器，如果电源适配器坏了，可以再买一个新。</p>\n</blockquote>\n<h2 id=\"结构\"><a href=\"#结构\" class=\"headerlink\" title=\"结构\"></a>结构</h2><ul>\n<li>目标角色（Target）：— 定义Client使用的与特定领域相关的接口。</li>\n<li>客户角色（Client）：与符合Target接口的对象协同。</li>\n<li>被适配角色（Adaptee)：定义一个已经存在并已经使用的接口，这个接口需要适配。</li>\n<li>适配器角色（Adapte) ：适配器模式的核心。它将对被适配Adaptee角色已有的接口转换为目标角色Target匹配的接口。对Adaptee的接口与Target接口进行适配.<h2 id=\"图例\"><a href=\"#图例\" class=\"headerlink\" title=\"图例\"></a>图例</h2><img src=\"https://user-gold-cdn.xitu.io/2018/5/14/1635a3e33fa3c524?imageView2/0/w/1280/h/960/format/webp/ignore-error/1\" alt=\"图片来自http://blueskykong.com/2017/01/29/design-adapter/\"></li>\n</ul>\n<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><blockquote>\n<p>现在以船长滑船为例，船长和船本是不相干的，我们现在需要适配器</p>\n</blockquote>\n<h3 id=\"船长的滑动技能\"><a href=\"#船长的滑动技能\" class=\"headerlink\" title=\"船长的滑动技能\"></a>船长的滑动技能</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 扬帆的技能</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface RowingBoat &#123;</div><div class=\"line\">    /**</div><div class=\"line\">     * 扬</div><div class=\"line\">     */</div><div class=\"line\">    void row();</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船长\"><a href=\"#船长\" class=\"headerlink\" title=\"船长\"></a>船长</h3><blockquote>\n<p>现在我们使用船长实现扬帆技能，这也有可能是你系统的原本设计，只提供船长，不提供船</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 船长，</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Captain implements RowingBoat &#123;</div><div class=\"line\">    private RowingBoat rowingBoat;</div><div class=\"line\">    </div><div class=\"line\">    public Captain(RowingBoat rowingBoat) &#123;</div><div class=\"line\">        this.rowingBoat =rowingBoat;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void row() &#123;</div><div class=\"line\">        System.out.print(&quot;船长扬-&quot;);</div><div class=\"line\">        rowingBoat.row();</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船\"><a href=\"#船\" class=\"headerlink\" title=\"船\"></a>船</h3><blockquote>\n<p>现在有一只船，这可能是你后来使用或者设计， </p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 船</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class FishingBoat &#123;</div><div class=\"line\">    public void sail()&#123;</div><div class=\"line\">        System.out.println(&quot;帆&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"适配器\"><a href=\"#适配器\" class=\"headerlink\" title=\"适配器\"></a>适配器</h3><blockquote>\n<p>现在应该想怎么使用船长和船协同工作呢，我们需要创建适配器来协同</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 创建适配器，使船长能够扬帆</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class RowingBoatAdpater implements RowingBoat&#123;</div><div class=\"line\">    private FishingBoat boat;</div><div class=\"line\">    public RowingBoatAdpater() &#123;</div><div class=\"line\">        boat=new FishingBoat();</div><div class=\"line\">    &#125;</div><div class=\"line\">    @Override</div><div class=\"line\">    public void row() &#123;</div><div class=\"line\">        boat.sail();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"船长使用适配器\"><a href=\"#船长使用适配器\" class=\"headerlink\" title=\"船长使用适配器\"></a>船长使用适配器</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">        Captain c=new Captain(new RowingBoatAdpater());</div><div class=\"line\">        c.row();</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"以下都是使用适配器模式的实例\"><a href=\"#以下都是使用适配器模式的实例\" class=\"headerlink\" title=\"以下都是使用适配器模式的实例\"></a>以下都是使用适配器模式的实例</h3><ul>\n<li><p><code>Arrays.asList(arg0)</code></p>\n</li>\n<li><p><code>java.util.Collections.list()</code></p>\n</li>\n<li><p>　<code>java.util.Collections.enumeration()</code></p>\n</li>\n<li><p>　<code>javax.xml.bind.annotation.adapters.XMLAdapter</code></p>\n</li>\n</ul>"},{"title":"算法：冒泡排序","date":"2018-05-16T14:40:52.000Z","_content":"# 参考文章\n[坐在马桶上看算法（2）：邻居好说话，冒泡排序](https://mp.weixin.qq.com/s?__biz=MzI1MTIzMzI2MA==&mid=2650559785&idx=1&sn=911b5c0c64338eeee7ff700ad6384ce4&mpshare=1&scene=1&srcid=0516Jp0bF32fatbH2JXkGGL4#rd)\n## 公众号推荐\n* 算法爱好者\n![算法爱好者](https://mp.weixin.qq.com/mp/qrcode?scene=10000004&size=102&__biz=MzI1MTIzMzI2MA==&mid=2650559785&idx=1&sn=911b5c0c64338eeee7ff700ad6384ce4&send_time=)\n<!-- more -->\n# 正文\n> 算法看似好像平常的工作用不到一样，实际就像我们平常吃饭，每天吃得好像没有什么时候感觉，实际上却很重要，我们就从最基础的算法上复习，从回顾基础算法上慢慢过渡到学习新算法\n\n## 概述\n> 冒泡算法，故名思义，就比如像水里的气泡一样，数字小的越来越往上飘。\n\n* 引用“算法爱好者”公众号的图片，这个图片只示例了一个数排序，可能需要按元素的多少，来循环多次（实际可能不需要，可以优化循环次数）\n![图片来自“算法爱好者”](算法：冒泡排序/来自算法爱好者.png)\n## 算法解析\n\n\n## 源码示例\n> 建议初学，手敲代码，细细品味\n\n```\npublic static void main(String[] args) {\n        int score[] = {12,35,99,18,76};\n        bubble(score);\n        for (int i = 0; i < score.length; i++) {\n            System.out.print(score[i]+\" \");\n        }\n    }\n\n    public static void bubble(int[] score) {\n//循环上减去1，是为了防止索引越界，因为我们每次都会跟“后一个数字”比大小，索引每次都会+1\n        for (int i = 0; i < score.length-1; i++) {\n//每i次可能就有i个数字排序完成，所以我们长度减去i可以使算法得到优化    \n            for (int j = 0; j < score.length-1-i; j++) {            \n                if(score[j]>score[j+1]){\n                    int temp=score[j];\n                    score[j]=score[j+1];\n                    score[j+1]=temp;\n                }\n            }\n        }\n    }\n//控制台输出\n//33 67 69 75 88 107 \n```\n","source":"_posts/算法：冒泡排序.md","raw":"---\ntitle: 算法：冒泡排序\ndate: 2018-05-16 22:40:52\ncategories:\n  - 算法\n  - 冒泡排序\ntags:\n  - 冒泡排序\n---\n# 参考文章\n[坐在马桶上看算法（2）：邻居好说话，冒泡排序](https://mp.weixin.qq.com/s?__biz=MzI1MTIzMzI2MA==&mid=2650559785&idx=1&sn=911b5c0c64338eeee7ff700ad6384ce4&mpshare=1&scene=1&srcid=0516Jp0bF32fatbH2JXkGGL4#rd)\n## 公众号推荐\n* 算法爱好者\n![算法爱好者](https://mp.weixin.qq.com/mp/qrcode?scene=10000004&size=102&__biz=MzI1MTIzMzI2MA==&mid=2650559785&idx=1&sn=911b5c0c64338eeee7ff700ad6384ce4&send_time=)\n<!-- more -->\n# 正文\n> 算法看似好像平常的工作用不到一样，实际就像我们平常吃饭，每天吃得好像没有什么时候感觉，实际上却很重要，我们就从最基础的算法上复习，从回顾基础算法上慢慢过渡到学习新算法\n\n## 概述\n> 冒泡算法，故名思义，就比如像水里的气泡一样，数字小的越来越往上飘。\n\n* 引用“算法爱好者”公众号的图片，这个图片只示例了一个数排序，可能需要按元素的多少，来循环多次（实际可能不需要，可以优化循环次数）\n![图片来自“算法爱好者”](算法：冒泡排序/来自算法爱好者.png)\n## 算法解析\n\n\n## 源码示例\n> 建议初学，手敲代码，细细品味\n\n```\npublic static void main(String[] args) {\n        int score[] = {12,35,99,18,76};\n        bubble(score);\n        for (int i = 0; i < score.length; i++) {\n            System.out.print(score[i]+\" \");\n        }\n    }\n\n    public static void bubble(int[] score) {\n//循环上减去1，是为了防止索引越界，因为我们每次都会跟“后一个数字”比大小，索引每次都会+1\n        for (int i = 0; i < score.length-1; i++) {\n//每i次可能就有i个数字排序完成，所以我们长度减去i可以使算法得到优化    \n            for (int j = 0; j < score.length-1-i; j++) {            \n                if(score[j]>score[j+1]){\n                    int temp=score[j];\n                    score[j]=score[j+1];\n                    score[j+1]=temp;\n                }\n            }\n        }\n    }\n//控制台输出\n//33 67 69 75 88 107 \n```\n","slug":"算法：冒泡排序","published":1,"updated":"2018-05-16T14:54:17.122Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aob0030a0us43x9wqu0","content":"<h1 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h1><p><a href=\"https://mp.weixin.qq.com/s?__biz=MzI1MTIzMzI2MA==&amp;mid=2650559785&amp;idx=1&amp;sn=911b5c0c64338eeee7ff700ad6384ce4&amp;mpshare=1&amp;scene=1&amp;srcid=0516Jp0bF32fatbH2JXkGGL4#rd\" target=\"_blank\" rel=\"external\">坐在马桶上看算法（2）：邻居好说话，冒泡排序</a></p>\n<h2 id=\"公众号推荐\"><a href=\"#公众号推荐\" class=\"headerlink\" title=\"公众号推荐\"></a>公众号推荐</h2><ul>\n<li>算法爱好者<br><img src=\"https://mp.weixin.qq.com/mp/qrcode?scene=10000004&amp;size=102&amp;__biz=MzI1MTIzMzI2MA==&amp;mid=2650559785&amp;idx=1&amp;sn=911b5c0c64338eeee7ff700ad6384ce4&amp;send_time=\" alt=\"算法爱好者\"><a id=\"more\"></a>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><blockquote>\n<p>算法看似好像平常的工作用不到一样，实际就像我们平常吃饭，每天吃得好像没有什么时候感觉，实际上却很重要，我们就从最基础的算法上复习，从回顾基础算法上慢慢过渡到学习新算法</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>冒泡算法，故名思义，就比如像水里的气泡一样，数字小的越来越往上飘。</p>\n</blockquote>\n<ul>\n<li>引用“算法爱好者”公众号的图片，这个图片只示例了一个数排序，可能需要按元素的多少，来循环多次（实际可能不需要，可以优化循环次数）<br><img src=\"/2018/05/16/算法：冒泡排序/来自算法爱好者.png\" alt=\"图片来自“算法爱好者”\"><h2 id=\"算法解析\"><a href=\"#算法解析\" class=\"headerlink\" title=\"算法解析\"></a>算法解析</h2></li>\n</ul>\n<h2 id=\"源码示例\"><a href=\"#源码示例\" class=\"headerlink\" title=\"源码示例\"></a>源码示例</h2><blockquote>\n<p>建议初学，手敲代码，细细品味</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">        int score[] = &#123;12,35,99,18,76&#125;;</div><div class=\"line\">        bubble(score);</div><div class=\"line\">        for (int i = 0; i &lt; score.length; i++) &#123;</div><div class=\"line\">            System.out.print(score[i]+&quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public static void bubble(int[] score) &#123;</div><div class=\"line\">//循环上减去1，是为了防止索引越界，因为我们每次都会跟“后一个数字”比大小，索引每次都会+1</div><div class=\"line\">        for (int i = 0; i &lt; score.length-1; i++) &#123;</div><div class=\"line\">//每i次可能就有i个数字排序完成，所以我们长度减去i可以使算法得到优化    </div><div class=\"line\">            for (int j = 0; j &lt; score.length-1-i; j++) &#123;            </div><div class=\"line\">                if(score[j]&gt;score[j+1])&#123;</div><div class=\"line\">                    int temp=score[j];</div><div class=\"line\">                    score[j]=score[j+1];</div><div class=\"line\">                    score[j+1]=temp;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">//控制台输出</div><div class=\"line\">//33 67 69 75 88 107</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h1><p><a href=\"https://mp.weixin.qq.com/s?__biz=MzI1MTIzMzI2MA==&amp;mid=2650559785&amp;idx=1&amp;sn=911b5c0c64338eeee7ff700ad6384ce4&amp;mpshare=1&amp;scene=1&amp;srcid=0516Jp0bF32fatbH2JXkGGL4#rd\">坐在马桶上看算法（2）：邻居好说话，冒泡排序</a></p>\n<h2 id=\"公众号推荐\"><a href=\"#公众号推荐\" class=\"headerlink\" title=\"公众号推荐\"></a>公众号推荐</h2><ul>\n<li>算法爱好者<br><img src=\"https://mp.weixin.qq.com/mp/qrcode?scene=10000004&amp;size=102&amp;__biz=MzI1MTIzMzI2MA==&amp;mid=2650559785&amp;idx=1&amp;sn=911b5c0c64338eeee7ff700ad6384ce4&amp;send_time=\" alt=\"算法爱好者\"></li></ul>","more":"<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><blockquote>\n<p>算法看似好像平常的工作用不到一样，实际就像我们平常吃饭，每天吃得好像没有什么时候感觉，实际上却很重要，我们就从最基础的算法上复习，从回顾基础算法上慢慢过渡到学习新算法</p>\n</blockquote>\n\n\n<h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><blockquote>\n<p>冒泡算法，故名思义，就比如像水里的气泡一样，数字小的越来越往上飘。</p>\n</blockquote>\n<ul>\n<li>引用“算法爱好者”公众号的图片，这个图片只示例了一个数排序，可能需要按元素的多少，来循环多次（实际可能不需要，可以优化循环次数）<br><img src=\"/2018/05/16/算法：冒泡排序/来自算法爱好者.png\" alt=\"图片来自“算法爱好者”\"><h2 id=\"算法解析\"><a href=\"#算法解析\" class=\"headerlink\" title=\"算法解析\"></a>算法解析</h2></li>\n</ul>\n<h2 id=\"源码示例\"><a href=\"#源码示例\" class=\"headerlink\" title=\"源码示例\"></a>源码示例</h2><blockquote>\n<p>建议初学，手敲代码，细细品味</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">        int score[] = &#123;12,35,99,18,76&#125;;</div><div class=\"line\">        bubble(score);</div><div class=\"line\">        for (int i = 0; i &lt; score.length; i++) &#123;</div><div class=\"line\">            System.out.print(score[i]+&quot; &quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    public static void bubble(int[] score) &#123;</div><div class=\"line\">//循环上减去1，是为了防止索引越界，因为我们每次都会跟“后一个数字”比大小，索引每次都会+1</div><div class=\"line\">        for (int i = 0; i &lt; score.length-1; i++) &#123;</div><div class=\"line\">//每i次可能就有i个数字排序完成，所以我们长度减去i可以使算法得到优化    </div><div class=\"line\">            for (int j = 0; j &lt; score.length-1-i; j++) &#123;            </div><div class=\"line\">                if(score[j]&gt;score[j+1])&#123;</div><div class=\"line\">                    int temp=score[j];</div><div class=\"line\">                    score[j]=score[j+1];</div><div class=\"line\">                    score[j+1]=temp;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">//控制台输出</div><div class=\"line\">//33 67 69 75 88 107</div></pre></td></tr></table></figure>"},{"title":"设计模式：工厂方法模式、简单工厂模式与抽象工厂模式","date":"2018-05-22T13:53:07.000Z","_content":"\n# 参考链接（如有侵权立即删除） \n[Abstract Factory——java-design-patterns](http://java-design-patterns.com/patterns/abstract-factory/)  \n[简单工厂、工厂方法和抽象工厂模式示例——CSDN@逐兔郎](https://blog.csdn.net/zhutulang/article/details/43495825)  \n[简单工厂模式,工厂方法模式和抽象工厂模式的异同——百度词库@hui332986207](https://wenku.baidu.com/view/60c6ca21192e45361066f5e0.html)  \n[抽象工厂模式和工厂模式的区别？——知乎](https://www.zhihu.com/question/20367734/answer/115807228)  \n[开闭原则——百度百科](https://baike.baidu.com/item/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/2828775)\n## 推荐学习地址\n[java-design-patterns](http://java-design-patterns.com)  \n# 正文\n## 概述\n&emsp;&emsp;首先我们需要了解一下“开闭原则”，“开闭原则”就是不修改原有的代码，通过增加模块的方式来扩展原有的功能。接下来简述三种设计模式\n\n<!-- more -->\n\n1. 简单工厂模式\n\n> &emsp;&emsp;专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有+共同的父类。它又称为静态工厂方法模式。它的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。简单工厂模式的创建目标，所有创建的对象都是充当这个角色的某个具体类的实例。\n\n2. 工厂方法模式（工厂模式）\n\n> &emsp;&emsp;工厂方法是粒度很小的设计模式，因为模式的表现只是一个抽象的方法。+提前定义用于创建对象的接口，让子类决定实例化具体的某一个类，即在工厂和产品中间增加接口，工厂不再负责产品的创建，由接口针对不同条件返回具体的类实例，由具体类实例去实现。\n\n3. 抽象工厂模式\n\n> &emsp;&emsp;抽象工厂模式是提供一个接口来创建相关或依赖对象的类，而不指定它们的具体类。抽象工厂与工厂模式很像，只是抽象工厂更像是工厂中工厂，既然叫抽象工厂，当然是工厂具体用途是什么时候我们不确定了，但是我们设计工厂的原型，规范了未来工厂的扩展。\n \n### 简单工厂模式\n![简单工厂模式](https://pic2.zhimg.com/80/09067f878916c0e4377bfadc82afc248_hd.jpg)\n\n假设需要生产两种鼠标，戴尔鼠标和惠普鼠标。\n```\n/**\n * 创建一个鼠标工厂，用来生产鼠标\n * @author zmh\n *\n */\npublic class MouseFactory {\n    private MouseFactory() {\n    }\n    /**\n     * 生产鼠标,0为戴尔，1为惠普\n     */\n    public static Mouse createMouse(int i){\n        return i==0?(new DellMouse()):(new HpMouse());\n    }\n}\n/**\n * 设计鼠标接口\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n}\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\");\n    }\n    \n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n/**\n * 简单工厂模式\n * 简单工厂模式不是23种设计模式中的，专门定义一个用来创建其他类，这些类通常都拥有同一个父类。\n * @author zmh\n *\n */\npublic class Main {\n    public static void main(String[] args) {\n        Mouse mouse = MouseFactory.createMouse(0);//创建鼠标工厂\n        mouse.sayHi();\n    }\n}\n```\n## 工厂方法模式\n假设现在不仅有戴尔鼠标和惠普鼠标了，而且还要生产联想鼠标，但是我们原告的简单工厂设计模式，已经定义好`MouseFacotry`仅生产两种鼠标，如果要去修改源代码的话，违背了“开闭原则”，所以简单工厂设计模式不适用产品扩展。现在我们来使用工厂方法模式扩展鼠标产品的生产。  \n![工厂方法模式类图](设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg)\n```\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\"+test());\n    }\n}\n\npublic class DellMouseFactory extends MouseFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new DellMouse();\n    }\n\n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n\npublic class HpMouseFactory extends MouseFactory{\n\n    @Override\n    Mouse createMouse() {\n        return new HpMouse();\n    }\n\n\n}\n/**\n * 联想鼠标\n * @author zmh\n *\n */\npublic class LenovoMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"联想鼠标\");\n    }\n\n}\n\npublic class LenovoMouseFactory extends MouseFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new LenovoMouse();\n    }\n\n}\n/**\n * 鼠标\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n\n    default double test(){\n        return 1L;\n    }\n}\n/**\n * 设计鼠标工厂\n * @author zmh\n *\n */\npublic abstract class MouseFactory {\n    abstract Mouse createMouse();\n}\n\n\n/**\n * 工厂方法模式\n * @author zmh\n *\n */\npublic class Main {\n    public static void main(String[] args) {\n        //如果未来有更多类型的鼠标，那么我们就实现更多工厂\n        Mouse dellMouse = new DellMouseFactory().createMouse();\n        dellMouse.sayHi();\n        Mouse hpMouse = new HpMouseFactory().createMouse();\n        hpMouse.sayHi();\n        Mouse lenovoMouse = new LenovoMouseFactory().createMouse();\n        lenovoMouse.sayHi();\n\n    }\n}\n```\n\n## 抽象工厂\n如果现在我们不仅有鼠标产品，还有键盘或者耳机等等，其他产品，这样也不能在工厂方法模式上去修改源代码了，因为工厂方法模式只下定义了子类只能生产鼠标，而不能生产其他产品。\n![抽象工厂](https://pic1.zhimg.com/80/e8184a3c6b3463338d85c329004d7c64_hd.jpg)\n```\n/**\n * 抽象设计鼠标，规范未来产品\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n}\n/**\n * 抽象设计键盘，规范未来产品\n * @author zmh\n *\n */\npublic interface KeyBo {\n    void sayHi();\n}\n/**\n * 华硕鼠标\n * @author zmh\n *\n */\npublic class AsusMouse implements Mouse {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"华硕鼠标\");\n    }\n\n}\n/**\n * 华硕键盘\n * @author zmh\n *\n */\npublic class AsusKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"华硕键盘\");\n    }\n\n}\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\");\n    }\n}\n/**\n * 戴尔键盘\n * @author zmh\n *\n */\npublic class DellKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔键盘\");\n    }\n\n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n/**\n * 惠普键盘\n * @author zmh\n *\n */\npublic class HpKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普键盘\");\n    }\n\n}\n/**\n * 如果需要增加新产品时，简单工厂和工厂方法都违背了开闭原则，我们现在使用抽象工厂模式\n * 抽象化工厂，使用工厂可以被扩展，可以有键盘工厂，耳机工厂，甚至戴尔键盘工厂，戴尔耳机工厂\n * @author zmh\n *\n */\npublic abstract class PcFatory {\n    abstract Mouse createMouse();\n    abstract KeyBo createKeyBo();\n}\n/**\n * 华硕工厂，可以生产鼠标和键盘\n * @author zmh\n *\n */\npublic class AsusFactory extends PcFatory {\n\n    @Override\n    Mouse createMouse() {\n        return new AsusMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        // TODO Auto-generated method stub\n        return new AsusKeyBo();\n    }\n\n}\n/**\n * 戴尔工厂\n * @author zmh\n *\n */\npublic class DellFactory extends HpFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new DellMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        return new DellKeyBo();\n    }\n\n}\n/**\n * 惠普工厂，现在工厂不仅可以生产鼠标了，还可以生产键盘\n * @author zmh\n *\n */\npublic  class HpFactory extends PcFatory{\n     Mouse createMouse() {\n        return new HpMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        return new HpKeyBo();\n    }\n}\n\npublic static void main(String[] args) {\n//每个工厂可以生产两种产品\n        PcFatory hpf=new HpFactory();\n        Mouse hpm = hpf.createMouse();\n        hpm.sayHi();\n        KeyBo hpk = hpf.createKeyBo();\n        hpk.sayHi();\n        \n        PcFatory asf=new AsusFactory(); \n        Mouse asm = asf.createMouse();\n        asm.sayHi();\n        KeyBo ask = asf.createKeyBo();\n        ask.sayHi();\n        \n        PcFatory def=new DellFactory(); \n        Mouse dem = def.createMouse();\n        dem.sayHi();\n        KeyBo dek = def.createKeyBo();\n        dek.sayHi();\n\n    }\n\n```\n\n### 我们也可以使用枚举的方法创建工厂，减少大部分的代码\n```\n/**\n * 使用枚举方式，创建工厂\n * @author zmh\n *\n */\npublic class FactoryMarker {\n    public enum FactoryType{\n        ASUS,DELL,HP\n    }\n    public static PcFatory getFactory(FactoryType type){\n        switch (type) {\n        case ASUS:\n            return new AsusFactory();\n        case DELL:\n            return new DellFactory();\n        case HP:\n            return new HpFactory();\n\n        default:\n            throw new IllegalArgumentException(\"KingdomType not supported.\");\n        }\n    }\n    public static void main(String[] args) {\n        /**\n         * 我们还可以为工厂类实现枚举，省去大部分的代码\n         */\n        PcFatory asusFatory = FactoryMarker.getFactory(FactoryType.ASUS);\n        Mouse asusMouse = asusFatory.createMouse();\n        System.out.println(\"--------------------\");\n        asusMouse.sayHi();\n    }\n}\n\n```\n\n\n","source":"_posts/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式.md","raw":"---\ntitle: 设计模式：工厂方法模式、简单工厂模式与抽象工厂模式\ndate: 2018-05-22 21:53:07\ncategories:\n  - 设计模式\n  - 工厂模式\ntags:\n  - 工厂模式\n---\n\n# 参考链接（如有侵权立即删除） \n[Abstract Factory——java-design-patterns](http://java-design-patterns.com/patterns/abstract-factory/)  \n[简单工厂、工厂方法和抽象工厂模式示例——CSDN@逐兔郎](https://blog.csdn.net/zhutulang/article/details/43495825)  \n[简单工厂模式,工厂方法模式和抽象工厂模式的异同——百度词库@hui332986207](https://wenku.baidu.com/view/60c6ca21192e45361066f5e0.html)  \n[抽象工厂模式和工厂模式的区别？——知乎](https://www.zhihu.com/question/20367734/answer/115807228)  \n[开闭原则——百度百科](https://baike.baidu.com/item/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/2828775)\n## 推荐学习地址\n[java-design-patterns](http://java-design-patterns.com)  \n# 正文\n## 概述\n&emsp;&emsp;首先我们需要了解一下“开闭原则”，“开闭原则”就是不修改原有的代码，通过增加模块的方式来扩展原有的功能。接下来简述三种设计模式\n\n<!-- more -->\n\n1. 简单工厂模式\n\n> &emsp;&emsp;专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有+共同的父类。它又称为静态工厂方法模式。它的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。简单工厂模式的创建目标，所有创建的对象都是充当这个角色的某个具体类的实例。\n\n2. 工厂方法模式（工厂模式）\n\n> &emsp;&emsp;工厂方法是粒度很小的设计模式，因为模式的表现只是一个抽象的方法。+提前定义用于创建对象的接口，让子类决定实例化具体的某一个类，即在工厂和产品中间增加接口，工厂不再负责产品的创建，由接口针对不同条件返回具体的类实例，由具体类实例去实现。\n\n3. 抽象工厂模式\n\n> &emsp;&emsp;抽象工厂模式是提供一个接口来创建相关或依赖对象的类，而不指定它们的具体类。抽象工厂与工厂模式很像，只是抽象工厂更像是工厂中工厂，既然叫抽象工厂，当然是工厂具体用途是什么时候我们不确定了，但是我们设计工厂的原型，规范了未来工厂的扩展。\n \n### 简单工厂模式\n![简单工厂模式](https://pic2.zhimg.com/80/09067f878916c0e4377bfadc82afc248_hd.jpg)\n\n假设需要生产两种鼠标，戴尔鼠标和惠普鼠标。\n```\n/**\n * 创建一个鼠标工厂，用来生产鼠标\n * @author zmh\n *\n */\npublic class MouseFactory {\n    private MouseFactory() {\n    }\n    /**\n     * 生产鼠标,0为戴尔，1为惠普\n     */\n    public static Mouse createMouse(int i){\n        return i==0?(new DellMouse()):(new HpMouse());\n    }\n}\n/**\n * 设计鼠标接口\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n}\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\");\n    }\n    \n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n/**\n * 简单工厂模式\n * 简单工厂模式不是23种设计模式中的，专门定义一个用来创建其他类，这些类通常都拥有同一个父类。\n * @author zmh\n *\n */\npublic class Main {\n    public static void main(String[] args) {\n        Mouse mouse = MouseFactory.createMouse(0);//创建鼠标工厂\n        mouse.sayHi();\n    }\n}\n```\n## 工厂方法模式\n假设现在不仅有戴尔鼠标和惠普鼠标了，而且还要生产联想鼠标，但是我们原告的简单工厂设计模式，已经定义好`MouseFacotry`仅生产两种鼠标，如果要去修改源代码的话，违背了“开闭原则”，所以简单工厂设计模式不适用产品扩展。现在我们来使用工厂方法模式扩展鼠标产品的生产。  \n![工厂方法模式类图](设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg)\n```\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\"+test());\n    }\n}\n\npublic class DellMouseFactory extends MouseFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new DellMouse();\n    }\n\n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n\npublic class HpMouseFactory extends MouseFactory{\n\n    @Override\n    Mouse createMouse() {\n        return new HpMouse();\n    }\n\n\n}\n/**\n * 联想鼠标\n * @author zmh\n *\n */\npublic class LenovoMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"联想鼠标\");\n    }\n\n}\n\npublic class LenovoMouseFactory extends MouseFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new LenovoMouse();\n    }\n\n}\n/**\n * 鼠标\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n\n    default double test(){\n        return 1L;\n    }\n}\n/**\n * 设计鼠标工厂\n * @author zmh\n *\n */\npublic abstract class MouseFactory {\n    abstract Mouse createMouse();\n}\n\n\n/**\n * 工厂方法模式\n * @author zmh\n *\n */\npublic class Main {\n    public static void main(String[] args) {\n        //如果未来有更多类型的鼠标，那么我们就实现更多工厂\n        Mouse dellMouse = new DellMouseFactory().createMouse();\n        dellMouse.sayHi();\n        Mouse hpMouse = new HpMouseFactory().createMouse();\n        hpMouse.sayHi();\n        Mouse lenovoMouse = new LenovoMouseFactory().createMouse();\n        lenovoMouse.sayHi();\n\n    }\n}\n```\n\n## 抽象工厂\n如果现在我们不仅有鼠标产品，还有键盘或者耳机等等，其他产品，这样也不能在工厂方法模式上去修改源代码了，因为工厂方法模式只下定义了子类只能生产鼠标，而不能生产其他产品。\n![抽象工厂](https://pic1.zhimg.com/80/e8184a3c6b3463338d85c329004d7c64_hd.jpg)\n```\n/**\n * 抽象设计鼠标，规范未来产品\n * @author zmh\n *\n */\npublic interface Mouse {\n    void sayHi();\n}\n/**\n * 抽象设计键盘，规范未来产品\n * @author zmh\n *\n */\npublic interface KeyBo {\n    void sayHi();\n}\n/**\n * 华硕鼠标\n * @author zmh\n *\n */\npublic class AsusMouse implements Mouse {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"华硕鼠标\");\n    }\n\n}\n/**\n * 华硕键盘\n * @author zmh\n *\n */\npublic class AsusKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"华硕键盘\");\n    }\n\n}\n/**\n * 戴尔鼠标\n * @author zmh\n *\n */\npublic class DellMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔鼠标\");\n    }\n}\n/**\n * 戴尔键盘\n * @author zmh\n *\n */\npublic class DellKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"戴尔键盘\");\n    }\n\n}\n/**\n * 惠普鼠标\n * @author zmh\n *\n */\npublic class HpMouse implements Mouse{\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普鼠标\");     \n    }\n\n}\n/**\n * 惠普键盘\n * @author zmh\n *\n */\npublic class HpKeyBo implements KeyBo {\n\n    @Override\n    public void sayHi() {\n        System.out.println(\"惠普键盘\");\n    }\n\n}\n/**\n * 如果需要增加新产品时，简单工厂和工厂方法都违背了开闭原则，我们现在使用抽象工厂模式\n * 抽象化工厂，使用工厂可以被扩展，可以有键盘工厂，耳机工厂，甚至戴尔键盘工厂，戴尔耳机工厂\n * @author zmh\n *\n */\npublic abstract class PcFatory {\n    abstract Mouse createMouse();\n    abstract KeyBo createKeyBo();\n}\n/**\n * 华硕工厂，可以生产鼠标和键盘\n * @author zmh\n *\n */\npublic class AsusFactory extends PcFatory {\n\n    @Override\n    Mouse createMouse() {\n        return new AsusMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        // TODO Auto-generated method stub\n        return new AsusKeyBo();\n    }\n\n}\n/**\n * 戴尔工厂\n * @author zmh\n *\n */\npublic class DellFactory extends HpFactory {\n\n    @Override\n    Mouse createMouse() {\n        return new DellMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        return new DellKeyBo();\n    }\n\n}\n/**\n * 惠普工厂，现在工厂不仅可以生产鼠标了，还可以生产键盘\n * @author zmh\n *\n */\npublic  class HpFactory extends PcFatory{\n     Mouse createMouse() {\n        return new HpMouse();\n    }\n\n    @Override\n    KeyBo createKeyBo() {\n        return new HpKeyBo();\n    }\n}\n\npublic static void main(String[] args) {\n//每个工厂可以生产两种产品\n        PcFatory hpf=new HpFactory();\n        Mouse hpm = hpf.createMouse();\n        hpm.sayHi();\n        KeyBo hpk = hpf.createKeyBo();\n        hpk.sayHi();\n        \n        PcFatory asf=new AsusFactory(); \n        Mouse asm = asf.createMouse();\n        asm.sayHi();\n        KeyBo ask = asf.createKeyBo();\n        ask.sayHi();\n        \n        PcFatory def=new DellFactory(); \n        Mouse dem = def.createMouse();\n        dem.sayHi();\n        KeyBo dek = def.createKeyBo();\n        dek.sayHi();\n\n    }\n\n```\n\n### 我们也可以使用枚举的方法创建工厂，减少大部分的代码\n```\n/**\n * 使用枚举方式，创建工厂\n * @author zmh\n *\n */\npublic class FactoryMarker {\n    public enum FactoryType{\n        ASUS,DELL,HP\n    }\n    public static PcFatory getFactory(FactoryType type){\n        switch (type) {\n        case ASUS:\n            return new AsusFactory();\n        case DELL:\n            return new DellFactory();\n        case HP:\n            return new HpFactory();\n\n        default:\n            throw new IllegalArgumentException(\"KingdomType not supported.\");\n        }\n    }\n    public static void main(String[] args) {\n        /**\n         * 我们还可以为工厂类实现枚举，省去大部分的代码\n         */\n        PcFatory asusFatory = FactoryMarker.getFactory(FactoryType.ASUS);\n        Mouse asusMouse = asusFatory.createMouse();\n        System.out.println(\"--------------------\");\n        asusMouse.sayHi();\n    }\n}\n\n```\n\n\n","slug":"设计模式：工厂方法模式、简单工厂模式与抽象工厂模式","published":1,"updated":"2018-05-22T13:55:43.912Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aoj0034a0usep2jl9fo","content":"<h1 id=\"参考链接（如有侵权立即删除）\"><a href=\"#参考链接（如有侵权立即删除）\" class=\"headerlink\" title=\"参考链接（如有侵权立即删除）\"></a>参考链接（如有侵权立即删除）</h1><p><a href=\"http://java-design-patterns.com/patterns/abstract-factory/\" target=\"_blank\" rel=\"external\">Abstract Factory——java-design-patterns</a><br><a href=\"https://blog.csdn.net/zhutulang/article/details/43495825\" target=\"_blank\" rel=\"external\">简单工厂、工厂方法和抽象工厂模式示例——CSDN@逐兔郎</a><br><a href=\"https://wenku.baidu.com/view/60c6ca21192e45361066f5e0.html\" target=\"_blank\" rel=\"external\">简单工厂模式,工厂方法模式和抽象工厂模式的异同——百度词库@hui332986207</a><br><a href=\"https://www.zhihu.com/question/20367734/answer/115807228\" target=\"_blank\" rel=\"external\">抽象工厂模式和工厂模式的区别？——知乎</a><br><a href=\"https://baike.baidu.com/item/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/2828775\" target=\"_blank\" rel=\"external\">开闭原则——百度百科</a></p>\n<h2 id=\"推荐学习地址\"><a href=\"#推荐学习地址\" class=\"headerlink\" title=\"推荐学习地址\"></a>推荐学习地址</h2><p><a href=\"http://java-design-patterns.com\" target=\"_blank\" rel=\"external\">java-design-patterns</a>  </p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>&emsp;&emsp;首先我们需要了解一下“开闭原则”，“开闭原则”就是不修改原有的代码，通过增加模块的方式来扩展原有的功能。接下来简述三种设计模式</p>\n<a id=\"more\"></a>\n<ol>\n<li>简单工厂模式</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有+共同的父类。它又称为静态工厂方法模式。它的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。简单工厂模式的创建目标，所有创建的对象都是充当这个角色的某个具体类的实例。</p>\n</blockquote>\n<ol>\n<li>工厂方法模式（工厂模式）</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;工厂方法是粒度很小的设计模式，因为模式的表现只是一个抽象的方法。+提前定义用于创建对象的接口，让子类决定实例化具体的某一个类，即在工厂和产品中间增加接口，工厂不再负责产品的创建，由接口针对不同条件返回具体的类实例，由具体类实例去实现。</p>\n</blockquote>\n<ol>\n<li>抽象工厂模式</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;抽象工厂模式是提供一个接口来创建相关或依赖对象的类，而不指定它们的具体类。抽象工厂与工厂模式很像，只是抽象工厂更像是工厂中工厂，既然叫抽象工厂，当然是工厂具体用途是什么时候我们不确定了，但是我们设计工厂的原型，规范了未来工厂的扩展。</p>\n</blockquote>\n<h3 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h3><p><img src=\"https://pic2.zhimg.com/80/09067f878916c0e4377bfadc82afc248_hd.jpg\" alt=\"简单工厂模式\"></p>\n<p>假设需要生产两种鼠标，戴尔鼠标和惠普鼠标。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 创建一个鼠标工厂，用来生产鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class MouseFactory &#123;</div><div class=\"line\">    private MouseFactory() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    /**</div><div class=\"line\">     * 生产鼠标,0为戴尔，1为惠普</div><div class=\"line\">     */</div><div class=\"line\">    public static Mouse createMouse(int i)&#123;</div><div class=\"line\">        return i==0?(new DellMouse()):(new HpMouse());</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 设计鼠标接口</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 简单工厂模式</div><div class=\"line\"> * 简单工厂模式不是23种设计模式中的，专门定义一个用来创建其他类，这些类通常都拥有同一个父类。</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Main &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        Mouse mouse = MouseFactory.createMouse(0);//创建鼠标工厂</div><div class=\"line\">        mouse.sayHi();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h2><p>假设现在不仅有戴尔鼠标和惠普鼠标了，而且还要生产联想鼠标，但是我们原告的简单工厂设计模式，已经定义好<code>MouseFacotry</code>仅生产两种鼠标，如果要去修改源代码的话，违背了“开闭原则”，所以简单工厂设计模式不适用产品扩展。现在我们来使用工厂方法模式扩展鼠标产品的生产。<br><img src=\"/2018/05/22/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg\" alt=\"工厂方法模式类图\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;+test());</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class DellMouseFactory extends MouseFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new DellMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class HpMouseFactory extends MouseFactory&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new HpMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 联想鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class LenovoMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;联想鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class LenovoMouseFactory extends MouseFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new LenovoMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\"></div><div class=\"line\">    default double test()&#123;</div><div class=\"line\">        return 1L;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 设计鼠标工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public abstract class MouseFactory &#123;</div><div class=\"line\">    abstract Mouse createMouse();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * 工厂方法模式</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Main &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        //如果未来有更多类型的鼠标，那么我们就实现更多工厂</div><div class=\"line\">        Mouse dellMouse = new DellMouseFactory().createMouse();</div><div class=\"line\">        dellMouse.sayHi();</div><div class=\"line\">        Mouse hpMouse = new HpMouseFactory().createMouse();</div><div class=\"line\">        hpMouse.sayHi();</div><div class=\"line\">        Mouse lenovoMouse = new LenovoMouseFactory().createMouse();</div><div class=\"line\">        lenovoMouse.sayHi();</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"抽象工厂\"><a href=\"#抽象工厂\" class=\"headerlink\" title=\"抽象工厂\"></a>抽象工厂</h2><p>如果现在我们不仅有鼠标产品，还有键盘或者耳机等等，其他产品，这样也不能在工厂方法模式上去修改源代码了，因为工厂方法模式只下定义了子类只能生产鼠标，而不能生产其他产品。<br><img src=\"https://pic1.zhimg.com/80/e8184a3c6b3463338d85c329004d7c64_hd.jpg\" alt=\"抽象工厂\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 抽象设计鼠标，规范未来产品</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 抽象设计键盘，规范未来产品</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface KeyBo &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusMouse implements Mouse &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;华硕鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;华硕键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 如果需要增加新产品时，简单工厂和工厂方法都违背了开闭原则，我们现在使用抽象工厂模式</div><div class=\"line\"> * 抽象化工厂，使用工厂可以被扩展，可以有键盘工厂，耳机工厂，甚至戴尔键盘工厂，戴尔耳机工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public abstract class PcFatory &#123;</div><div class=\"line\">    abstract Mouse createMouse();</div><div class=\"line\">    abstract KeyBo createKeyBo();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕工厂，可以生产鼠标和键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusFactory extends PcFatory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new AsusMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        // TODO Auto-generated method stub</div><div class=\"line\">        return new AsusKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellFactory extends HpFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new DellMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        return new DellKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普工厂，现在工厂不仅可以生产鼠标了，还可以生产键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public  class HpFactory extends PcFatory&#123;</div><div class=\"line\">     Mouse createMouse() &#123;</div><div class=\"line\">        return new HpMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        return new HpKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">//每个工厂可以生产两种产品</div><div class=\"line\">        PcFatory hpf=new HpFactory();</div><div class=\"line\">        Mouse hpm = hpf.createMouse();</div><div class=\"line\">        hpm.sayHi();</div><div class=\"line\">        KeyBo hpk = hpf.createKeyBo();</div><div class=\"line\">        hpk.sayHi();</div><div class=\"line\">        </div><div class=\"line\">        PcFatory asf=new AsusFactory(); </div><div class=\"line\">        Mouse asm = asf.createMouse();</div><div class=\"line\">        asm.sayHi();</div><div class=\"line\">        KeyBo ask = asf.createKeyBo();</div><div class=\"line\">        ask.sayHi();</div><div class=\"line\">        </div><div class=\"line\">        PcFatory def=new DellFactory(); </div><div class=\"line\">        Mouse dem = def.createMouse();</div><div class=\"line\">        dem.sayHi();</div><div class=\"line\">        KeyBo dek = def.createKeyBo();</div><div class=\"line\">        dek.sayHi();</div><div class=\"line\"></div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"我们也可以使用枚举的方法创建工厂，减少大部分的代码\"><a href=\"#我们也可以使用枚举的方法创建工厂，减少大部分的代码\" class=\"headerlink\" title=\"我们也可以使用枚举的方法创建工厂，减少大部分的代码\"></a>我们也可以使用枚举的方法创建工厂，减少大部分的代码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 使用枚举方式，创建工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class FactoryMarker &#123;</div><div class=\"line\">    public enum FactoryType&#123;</div><div class=\"line\">        ASUS,DELL,HP</div><div class=\"line\">    &#125;</div><div class=\"line\">    public static PcFatory getFactory(FactoryType type)&#123;</div><div class=\"line\">        switch (type) &#123;</div><div class=\"line\">        case ASUS:</div><div class=\"line\">            return new AsusFactory();</div><div class=\"line\">        case DELL:</div><div class=\"line\">            return new DellFactory();</div><div class=\"line\">        case HP:</div><div class=\"line\">            return new HpFactory();</div><div class=\"line\"></div><div class=\"line\">        default:</div><div class=\"line\">            throw new IllegalArgumentException(&quot;KingdomType not supported.&quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        /**</div><div class=\"line\">         * 我们还可以为工厂类实现枚举，省去大部分的代码</div><div class=\"line\">         */</div><div class=\"line\">        PcFatory asusFatory = FactoryMarker.getFactory(FactoryType.ASUS);</div><div class=\"line\">        Mouse asusMouse = asusFatory.createMouse();</div><div class=\"line\">        System.out.println(&quot;--------------------&quot;);</div><div class=\"line\">        asusMouse.sayHi();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"参考链接（如有侵权立即删除）\"><a href=\"#参考链接（如有侵权立即删除）\" class=\"headerlink\" title=\"参考链接（如有侵权立即删除）\"></a>参考链接（如有侵权立即删除）</h1><p><a href=\"http://java-design-patterns.com/patterns/abstract-factory/\">Abstract Factory——java-design-patterns</a><br><a href=\"https://blog.csdn.net/zhutulang/article/details/43495825\">简单工厂、工厂方法和抽象工厂模式示例——CSDN@逐兔郎</a><br><a href=\"https://wenku.baidu.com/view/60c6ca21192e45361066f5e0.html\">简单工厂模式,工厂方法模式和抽象工厂模式的异同——百度词库@hui332986207</a><br><a href=\"https://www.zhihu.com/question/20367734/answer/115807228\">抽象工厂模式和工厂模式的区别？——知乎</a><br><a href=\"https://baike.baidu.com/item/%E5%BC%80%E9%97%AD%E5%8E%9F%E5%88%99/2828775\">开闭原则——百度百科</a></p>\n<h2 id=\"推荐学习地址\"><a href=\"#推荐学习地址\" class=\"headerlink\" title=\"推荐学习地址\"></a>推荐学习地址</h2><p><a href=\"http://java-design-patterns.com\">java-design-patterns</a>  </p>\n<h1 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h1><h2 id=\"概述\"><a href=\"#概述\" class=\"headerlink\" title=\"概述\"></a>概述</h2><p>&emsp;&emsp;首先我们需要了解一下“开闭原则”，“开闭原则”就是不修改原有的代码，通过增加模块的方式来扩展原有的功能。接下来简述三种设计模式</p>","more":"<ol>\n<li>简单工厂模式</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有+共同的父类。它又称为静态工厂方法模式。它的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。简单工厂模式的创建目标，所有创建的对象都是充当这个角色的某个具体类的实例。</p>\n</blockquote>\n<ol>\n<li>工厂方法模式（工厂模式）</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;工厂方法是粒度很小的设计模式，因为模式的表现只是一个抽象的方法。+提前定义用于创建对象的接口，让子类决定实例化具体的某一个类，即在工厂和产品中间增加接口，工厂不再负责产品的创建，由接口针对不同条件返回具体的类实例，由具体类实例去实现。</p>\n</blockquote>\n<ol>\n<li>抽象工厂模式</li>\n</ol>\n<blockquote>\n<p>&emsp;&emsp;抽象工厂模式是提供一个接口来创建相关或依赖对象的类，而不指定它们的具体类。抽象工厂与工厂模式很像，只是抽象工厂更像是工厂中工厂，既然叫抽象工厂，当然是工厂具体用途是什么时候我们不确定了，但是我们设计工厂的原型，规范了未来工厂的扩展。</p>\n</blockquote>\n<h3 id=\"简单工厂模式\"><a href=\"#简单工厂模式\" class=\"headerlink\" title=\"简单工厂模式\"></a>简单工厂模式</h3><p><img src=\"https://pic2.zhimg.com/80/09067f878916c0e4377bfadc82afc248_hd.jpg\" alt=\"简单工厂模式\"></p>\n<p>假设需要生产两种鼠标，戴尔鼠标和惠普鼠标。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 创建一个鼠标工厂，用来生产鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class MouseFactory &#123;</div><div class=\"line\">    private MouseFactory() &#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">    /**</div><div class=\"line\">     * 生产鼠标,0为戴尔，1为惠普</div><div class=\"line\">     */</div><div class=\"line\">    public static Mouse createMouse(int i)&#123;</div><div class=\"line\">        return i==0?(new DellMouse()):(new HpMouse());</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 设计鼠标接口</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">    </div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 简单工厂模式</div><div class=\"line\"> * 简单工厂模式不是23种设计模式中的，专门定义一个用来创建其他类，这些类通常都拥有同一个父类。</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Main &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        Mouse mouse = MouseFactory.createMouse(0);//创建鼠标工厂</div><div class=\"line\">        mouse.sayHi();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"工厂方法模式\"><a href=\"#工厂方法模式\" class=\"headerlink\" title=\"工厂方法模式\"></a>工厂方法模式</h2><p>假设现在不仅有戴尔鼠标和惠普鼠标了，而且还要生产联想鼠标，但是我们原告的简单工厂设计模式，已经定义好<code>MouseFacotry</code>仅生产两种鼠标，如果要去修改源代码的话，违背了“开闭原则”，所以简单工厂设计模式不适用产品扩展。现在我们来使用工厂方法模式扩展鼠标产品的生产。<br><img src=\"/2018/05/22/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg\" alt=\"工厂方法模式类图\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;+test());</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class DellMouseFactory extends MouseFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new DellMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class HpMouseFactory extends MouseFactory&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new HpMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 联想鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class LenovoMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;联想鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public class LenovoMouseFactory extends MouseFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new LenovoMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\"></div><div class=\"line\">    default double test()&#123;</div><div class=\"line\">        return 1L;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 设计鼠标工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public abstract class MouseFactory &#123;</div><div class=\"line\">    abstract Mouse createMouse();</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">/**</div><div class=\"line\"> * 工厂方法模式</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class Main &#123;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        //如果未来有更多类型的鼠标，那么我们就实现更多工厂</div><div class=\"line\">        Mouse dellMouse = new DellMouseFactory().createMouse();</div><div class=\"line\">        dellMouse.sayHi();</div><div class=\"line\">        Mouse hpMouse = new HpMouseFactory().createMouse();</div><div class=\"line\">        hpMouse.sayHi();</div><div class=\"line\">        Mouse lenovoMouse = new LenovoMouseFactory().createMouse();</div><div class=\"line\">        lenovoMouse.sayHi();</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h2 id=\"抽象工厂\"><a href=\"#抽象工厂\" class=\"headerlink\" title=\"抽象工厂\"></a>抽象工厂</h2><p>如果现在我们不仅有鼠标产品，还有键盘或者耳机等等，其他产品，这样也不能在工厂方法模式上去修改源代码了，因为工厂方法模式只下定义了子类只能生产鼠标，而不能生产其他产品。<br><img src=\"https://pic1.zhimg.com/80/e8184a3c6b3463338d85c329004d7c64_hd.jpg\" alt=\"抽象工厂\"><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div><div class=\"line\">150</div><div class=\"line\">151</div><div class=\"line\">152</div><div class=\"line\">153</div><div class=\"line\">154</div><div class=\"line\">155</div><div class=\"line\">156</div><div class=\"line\">157</div><div class=\"line\">158</div><div class=\"line\">159</div><div class=\"line\">160</div><div class=\"line\">161</div><div class=\"line\">162</div><div class=\"line\">163</div><div class=\"line\">164</div><div class=\"line\">165</div><div class=\"line\">166</div><div class=\"line\">167</div><div class=\"line\">168</div><div class=\"line\">169</div><div class=\"line\">170</div><div class=\"line\">171</div><div class=\"line\">172</div><div class=\"line\">173</div><div class=\"line\">174</div><div class=\"line\">175</div><div class=\"line\">176</div><div class=\"line\">177</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 抽象设计鼠标，规范未来产品</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface Mouse &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 抽象设计键盘，规范未来产品</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public interface KeyBo &#123;</div><div class=\"line\">    void sayHi();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusMouse implements Mouse &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;华硕鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;华硕键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔鼠标&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;戴尔键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普鼠标</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpMouse implements Mouse&#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普鼠标&quot;);     </div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class HpKeyBo implements KeyBo &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    public void sayHi() &#123;</div><div class=\"line\">        System.out.println(&quot;惠普键盘&quot;);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 如果需要增加新产品时，简单工厂和工厂方法都违背了开闭原则，我们现在使用抽象工厂模式</div><div class=\"line\"> * 抽象化工厂，使用工厂可以被扩展，可以有键盘工厂，耳机工厂，甚至戴尔键盘工厂，戴尔耳机工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public abstract class PcFatory &#123;</div><div class=\"line\">    abstract Mouse createMouse();</div><div class=\"line\">    abstract KeyBo createKeyBo();</div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 华硕工厂，可以生产鼠标和键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class AsusFactory extends PcFatory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new AsusMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        // TODO Auto-generated method stub</div><div class=\"line\">        return new AsusKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 戴尔工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class DellFactory extends HpFactory &#123;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    Mouse createMouse() &#123;</div><div class=\"line\">        return new DellMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        return new DellKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\">/**</div><div class=\"line\"> * 惠普工厂，现在工厂不仅可以生产鼠标了，还可以生产键盘</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public  class HpFactory extends PcFatory&#123;</div><div class=\"line\">     Mouse createMouse() &#123;</div><div class=\"line\">        return new HpMouse();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    @Override</div><div class=\"line\">    KeyBo createKeyBo() &#123;</div><div class=\"line\">        return new HpKeyBo();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">public static void main(String[] args) &#123;</div><div class=\"line\">//每个工厂可以生产两种产品</div><div class=\"line\">        PcFatory hpf=new HpFactory();</div><div class=\"line\">        Mouse hpm = hpf.createMouse();</div><div class=\"line\">        hpm.sayHi();</div><div class=\"line\">        KeyBo hpk = hpf.createKeyBo();</div><div class=\"line\">        hpk.sayHi();</div><div class=\"line\">        </div><div class=\"line\">        PcFatory asf=new AsusFactory(); </div><div class=\"line\">        Mouse asm = asf.createMouse();</div><div class=\"line\">        asm.sayHi();</div><div class=\"line\">        KeyBo ask = asf.createKeyBo();</div><div class=\"line\">        ask.sayHi();</div><div class=\"line\">        </div><div class=\"line\">        PcFatory def=new DellFactory(); </div><div class=\"line\">        Mouse dem = def.createMouse();</div><div class=\"line\">        dem.sayHi();</div><div class=\"line\">        KeyBo dek = def.createKeyBo();</div><div class=\"line\">        dek.sayHi();</div><div class=\"line\"></div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<h3 id=\"我们也可以使用枚举的方法创建工厂，减少大部分的代码\"><a href=\"#我们也可以使用枚举的方法创建工厂，减少大部分的代码\" class=\"headerlink\" title=\"我们也可以使用枚举的方法创建工厂，减少大部分的代码\"></a>我们也可以使用枚举的方法创建工厂，减少大部分的代码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\">/**</div><div class=\"line\"> * 使用枚举方式，创建工厂</div><div class=\"line\"> * @author zmh</div><div class=\"line\"> *</div><div class=\"line\"> */</div><div class=\"line\">public class FactoryMarker &#123;</div><div class=\"line\">    public enum FactoryType&#123;</div><div class=\"line\">        ASUS,DELL,HP</div><div class=\"line\">    &#125;</div><div class=\"line\">    public static PcFatory getFactory(FactoryType type)&#123;</div><div class=\"line\">        switch (type) &#123;</div><div class=\"line\">        case ASUS:</div><div class=\"line\">            return new AsusFactory();</div><div class=\"line\">        case DELL:</div><div class=\"line\">            return new DellFactory();</div><div class=\"line\">        case HP:</div><div class=\"line\">            return new HpFactory();</div><div class=\"line\"></div><div class=\"line\">        default:</div><div class=\"line\">            throw new IllegalArgumentException(&quot;KingdomType not supported.&quot;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    public static void main(String[] args) &#123;</div><div class=\"line\">        /**</div><div class=\"line\">         * 我们还可以为工厂类实现枚举，省去大部分的代码</div><div class=\"line\">         */</div><div class=\"line\">        PcFatory asusFatory = FactoryMarker.getFactory(FactoryType.ASUS);</div><div class=\"line\">        Mouse asusMouse = asusFatory.createMouse();</div><div class=\"line\">        System.out.println(&quot;--------------------&quot;);</div><div class=\"line\">        asusMouse.sayHi();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"title":"运行我的第一个python程序","date":"2017-02-05T16:31:20.000Z","_content":"\n# 运行我的第一个python程序\n## python简介（python是一门跨平台的编程语言）\n创始人Guido van Rossum\n创始人是Guido van Rossum荷兰人，google工程师，1989年圣诞节，龟叔为了打发无聊的圣诞节所开发的python语言。\n<!--more-->\n### python适合的领域\n1、web网站和各种网络服务。\n2、系统工具和脚本。\n3、作为“胶水”语言把其他语言开发模块包装起来方便使用\n### python不适合的领域\n1、\t贴近硬件的代码（首选C）【由于python是一门高级语言，所以不适合贴近硬件开发】\n2、\t移动开发（IOS/Android有各自的开发语言（objC,Swift/java））\n3、\t游戏开发（C/C++）【由于游戏开发需要有高速度的渲染，python运行速度缓慢，所以不适合游戏开发】\n### python的实际应用\n国外：Youtube\n国内：豆瓣、搜狐邮箱\n开源云计算平台\n### python与其他语言的对比\n ![这里写图片描述](http://img.blog.csdn.net/20170206002619216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\npython的优点是代码量少，代码简单，但是缺点是运行速度缓慢，针对网络和硬盘都很缓慢。\npython的代码无法加密，虽然无法加密，但是由于现代是属于互联网时代，只要源代码不被查看到，就不会泄漏，就像豆瓣是不会被看到它实际的程序程序代码。\n\n## python的安装与运行\n### python的版本\npython有两个版本，为什么要介绍版本呢，因为，python两个版本的程序两者无法兼容。\npython2.7版本的程序无法在3.3版本上运行，同样3.3的程序也无法在2.7的平台上运行\n### python的安装\n1、从官网下载安装包\n ![这里写图片描述](http://img.blog.csdn.net/20170206002638669?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n2、安装非常简单，直接打开安装包安装就可以了，所以不附图\n3、增加环境变量\n增加一个环境变量，就可以直接使用CMD编写python程序了\n ![这里写图片描述](http://img.blog.csdn.net/20170206002649841?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n直接使用命令提示符\n![这里写图片描述](http://img.blog.csdn.net/20170206002707080?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n \n### 第一个python程序（Hello World!）\n直接使用cmd编写程序有一个缺点，就是下次还得再输入一次程序，才可以。\n所以我们将python程序用“.py”的后缀名文件保存下来\n ![这里写图片描述](http://img.blog.csdn.net/20170206002720826?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n使用cmd进入py文件的目录下，使用代码“python demo.py”运行python程序 \n![这里写图片描述](http://img.blog.csdn.net/20170206002727534?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","source":"_posts/运行我的第一个python程序.md","raw":"---\ntitle: 运行我的第一个python程序\ndate: 2017-02-06 00:31:20\ncategories:\n  - python\ntags:\n  - python\n---\n\n# 运行我的第一个python程序\n## python简介（python是一门跨平台的编程语言）\n创始人Guido van Rossum\n创始人是Guido van Rossum荷兰人，google工程师，1989年圣诞节，龟叔为了打发无聊的圣诞节所开发的python语言。\n<!--more-->\n### python适合的领域\n1、web网站和各种网络服务。\n2、系统工具和脚本。\n3、作为“胶水”语言把其他语言开发模块包装起来方便使用\n### python不适合的领域\n1、\t贴近硬件的代码（首选C）【由于python是一门高级语言，所以不适合贴近硬件开发】\n2、\t移动开发（IOS/Android有各自的开发语言（objC,Swift/java））\n3、\t游戏开发（C/C++）【由于游戏开发需要有高速度的渲染，python运行速度缓慢，所以不适合游戏开发】\n### python的实际应用\n国外：Youtube\n国内：豆瓣、搜狐邮箱\n开源云计算平台\n### python与其他语言的对比\n ![这里写图片描述](http://img.blog.csdn.net/20170206002619216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\npython的优点是代码量少，代码简单，但是缺点是运行速度缓慢，针对网络和硬盘都很缓慢。\npython的代码无法加密，虽然无法加密，但是由于现代是属于互联网时代，只要源代码不被查看到，就不会泄漏，就像豆瓣是不会被看到它实际的程序程序代码。\n\n## python的安装与运行\n### python的版本\npython有两个版本，为什么要介绍版本呢，因为，python两个版本的程序两者无法兼容。\npython2.7版本的程序无法在3.3版本上运行，同样3.3的程序也无法在2.7的平台上运行\n### python的安装\n1、从官网下载安装包\n ![这里写图片描述](http://img.blog.csdn.net/20170206002638669?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n2、安装非常简单，直接打开安装包安装就可以了，所以不附图\n3、增加环境变量\n增加一个环境变量，就可以直接使用CMD编写python程序了\n ![这里写图片描述](http://img.blog.csdn.net/20170206002649841?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n直接使用命令提示符\n![这里写图片描述](http://img.blog.csdn.net/20170206002707080?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n \n### 第一个python程序（Hello World!）\n直接使用cmd编写程序有一个缺点，就是下次还得再输入一次程序，才可以。\n所以我们将python程序用“.py”的后缀名文件保存下来\n ![这里写图片描述](http://img.blog.csdn.net/20170206002720826?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n使用cmd进入py文件的目录下，使用代码“python demo.py”运行python程序 \n![这里写图片描述](http://img.blog.csdn.net/20170206002727534?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)","slug":"运行我的第一个python程序","published":1,"updated":"2017-02-05T16:35:09.928Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjqur3aop0037a0uskyf8w1cs","content":"<h1 id=\"运行我的第一个python程序\"><a href=\"#运行我的第一个python程序\" class=\"headerlink\" title=\"运行我的第一个python程序\"></a>运行我的第一个python程序</h1><h2 id=\"python简介（python是一门跨平台的编程语言）\"><a href=\"#python简介（python是一门跨平台的编程语言）\" class=\"headerlink\" title=\"python简介（python是一门跨平台的编程语言）\"></a>python简介（python是一门跨平台的编程语言）</h2><p>创始人Guido van Rossum<br>创始人是Guido van Rossum荷兰人，google工程师，1989年圣诞节，龟叔为了打发无聊的圣诞节所开发的python语言。<br><a id=\"more\"></a></p>\n<h3 id=\"python适合的领域\"><a href=\"#python适合的领域\" class=\"headerlink\" title=\"python适合的领域\"></a>python适合的领域</h3><p>1、web网站和各种网络服务。<br>2、系统工具和脚本。<br>3、作为“胶水”语言把其他语言开发模块包装起来方便使用</p>\n<h3 id=\"python不适合的领域\"><a href=\"#python不适合的领域\" class=\"headerlink\" title=\"python不适合的领域\"></a>python不适合的领域</h3><p>1、    贴近硬件的代码（首选C）【由于python是一门高级语言，所以不适合贴近硬件开发】<br>2、    移动开发（IOS/Android有各自的开发语言（objC,Swift/java））<br>3、    游戏开发（C/C++）【由于游戏开发需要有高速度的渲染，python运行速度缓慢，所以不适合游戏开发】</p>\n<h3 id=\"python的实际应用\"><a href=\"#python的实际应用\" class=\"headerlink\" title=\"python的实际应用\"></a>python的实际应用</h3><p>国外：Youtube<br>国内：豆瓣、搜狐邮箱<br>开源云计算平台</p>\n<h3 id=\"python与其他语言的对比\"><a href=\"#python与其他语言的对比\" class=\"headerlink\" title=\"python与其他语言的对比\"></a>python与其他语言的对比</h3><p> <img src=\"http://img.blog.csdn.net/20170206002619216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>python的优点是代码量少，代码简单，但是缺点是运行速度缓慢，针对网络和硬盘都很缓慢。<br>python的代码无法加密，虽然无法加密，但是由于现代是属于互联网时代，只要源代码不被查看到，就不会泄漏，就像豆瓣是不会被看到它实际的程序程序代码。</p>\n<h2 id=\"python的安装与运行\"><a href=\"#python的安装与运行\" class=\"headerlink\" title=\"python的安装与运行\"></a>python的安装与运行</h2><h3 id=\"python的版本\"><a href=\"#python的版本\" class=\"headerlink\" title=\"python的版本\"></a>python的版本</h3><p>python有两个版本，为什么要介绍版本呢，因为，python两个版本的程序两者无法兼容。<br>python2.7版本的程序无法在3.3版本上运行，同样3.3的程序也无法在2.7的平台上运行</p>\n<h3 id=\"python的安装\"><a href=\"#python的安装\" class=\"headerlink\" title=\"python的安装\"></a>python的安装</h3><p>1、从官网下载安装包<br> <img src=\"http://img.blog.csdn.net/20170206002638669?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>2、安装非常简单，直接打开安装包安装就可以了，所以不附图<br>3、增加环境变量<br>增加一个环境变量，就可以直接使用CMD编写python程序了<br> <img src=\"http://img.blog.csdn.net/20170206002649841?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>直接使用命令提示符<br><img src=\"http://img.blog.csdn.net/20170206002707080?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"第一个python程序（Hello-World-）\"><a href=\"#第一个python程序（Hello-World-）\" class=\"headerlink\" title=\"第一个python程序（Hello World!）\"></a>第一个python程序（Hello World!）</h3><p>直接使用cmd编写程序有一个缺点，就是下次还得再输入一次程序，才可以。<br>所以我们将python程序用“.py”的后缀名文件保存下来<br> <img src=\"http://img.blog.csdn.net/20170206002720826?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>使用cmd进入py文件的目录下，使用代码“python demo.py”运行python程序<br><img src=\"http://img.blog.csdn.net/20170206002727534?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n","excerpt":"<h1 id=\"运行我的第一个python程序\"><a href=\"#运行我的第一个python程序\" class=\"headerlink\" title=\"运行我的第一个python程序\"></a>运行我的第一个python程序</h1><h2 id=\"python简介（python是一门跨平台的编程语言）\"><a href=\"#python简介（python是一门跨平台的编程语言）\" class=\"headerlink\" title=\"python简介（python是一门跨平台的编程语言）\"></a>python简介（python是一门跨平台的编程语言）</h2><p>创始人Guido van Rossum<br>创始人是Guido van Rossum荷兰人，google工程师，1989年圣诞节，龟叔为了打发无聊的圣诞节所开发的python语言。<br></p>","more":"<p></p>\n<h3 id=\"python适合的领域\"><a href=\"#python适合的领域\" class=\"headerlink\" title=\"python适合的领域\"></a>python适合的领域</h3><p>1、web网站和各种网络服务。<br>2、系统工具和脚本。<br>3、作为“胶水”语言把其他语言开发模块包装起来方便使用</p>\n<h3 id=\"python不适合的领域\"><a href=\"#python不适合的领域\" class=\"headerlink\" title=\"python不适合的领域\"></a>python不适合的领域</h3><p>1、    贴近硬件的代码（首选C）【由于python是一门高级语言，所以不适合贴近硬件开发】<br>2、    移动开发（IOS/Android有各自的开发语言（objC,Swift/java））<br>3、    游戏开发（C/C++）【由于游戏开发需要有高速度的渲染，python运行速度缓慢，所以不适合游戏开发】</p>\n<h3 id=\"python的实际应用\"><a href=\"#python的实际应用\" class=\"headerlink\" title=\"python的实际应用\"></a>python的实际应用</h3><p>国外：Youtube<br>国内：豆瓣、搜狐邮箱<br>开源云计算平台</p>\n<h3 id=\"python与其他语言的对比\"><a href=\"#python与其他语言的对比\" class=\"headerlink\" title=\"python与其他语言的对比\"></a>python与其他语言的对比</h3><p> <img src=\"http://img.blog.csdn.net/20170206002619216?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>python的优点是代码量少，代码简单，但是缺点是运行速度缓慢，针对网络和硬盘都很缓慢。<br>python的代码无法加密，虽然无法加密，但是由于现代是属于互联网时代，只要源代码不被查看到，就不会泄漏，就像豆瓣是不会被看到它实际的程序程序代码。</p>\n<h2 id=\"python的安装与运行\"><a href=\"#python的安装与运行\" class=\"headerlink\" title=\"python的安装与运行\"></a>python的安装与运行</h2><h3 id=\"python的版本\"><a href=\"#python的版本\" class=\"headerlink\" title=\"python的版本\"></a>python的版本</h3><p>python有两个版本，为什么要介绍版本呢，因为，python两个版本的程序两者无法兼容。<br>python2.7版本的程序无法在3.3版本上运行，同样3.3的程序也无法在2.7的平台上运行</p>\n<h3 id=\"python的安装\"><a href=\"#python的安装\" class=\"headerlink\" title=\"python的安装\"></a>python的安装</h3><p>1、从官网下载安装包<br> <img src=\"http://img.blog.csdn.net/20170206002638669?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>2、安装非常简单，直接打开安装包安装就可以了，所以不附图<br>3、增加环境变量<br>增加一个环境变量，就可以直接使用CMD编写python程序了<br> <img src=\"http://img.blog.csdn.net/20170206002649841?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>直接使用命令提示符<br><img src=\"http://img.blog.csdn.net/20170206002707080?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h3 id=\"第一个python程序（Hello-World-）\"><a href=\"#第一个python程序（Hello-World-）\" class=\"headerlink\" title=\"第一个python程序（Hello World!）\"></a>第一个python程序（Hello World!）</h3><p>直接使用cmd编写程序有一个缺点，就是下次还得再输入一次程序，才可以。<br>所以我们将python程序用“.py”的后缀名文件保存下来<br> <img src=\"http://img.blog.csdn.net/20170206002720826?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>使用cmd进入py文件的目录下，使用代码“python demo.py”运行python程序<br><img src=\"http://img.blog.csdn.net/20170206002727534?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYTEyNzQ2MjQ5OTQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>"}],"PostAsset":[{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/2.png","slug":"2.png","post":"cjqur3ajs000ca0usi6osk2oo","modified":0,"renderable":0},{"_id":"source/_posts/Android-Service总结/1.jpg","slug":"1.jpg","post":"cjqur3aia0002a0us099pvhwq","modified":0,"renderable":0},{"_id":"source/_posts/AlarmManager详解/01.gif","slug":"01.gif","post":"cjqur3ah70000a0uspcvxm280","modified":0,"renderable":0},{"_id":"source/_posts/Android中传递对象的三种方法/1.png","slug":"1.png","post":"cjqur3aiw0008a0ushwvy4g92","modified":0,"renderable":0},{"_id":"source/_posts/hexo个人博客-如何在markdown上引用本地图片的地址？/1.png","slug":"1.png","post":"cjqur3ald0010a0usfthbhji7","modified":0,"renderable":0},{"_id":"source/_posts/broadcast与broadcast-receiver/01.gif","slug":"01.gif","post":"cjqur3al7000xa0uswsh34ay0","modified":0,"renderable":0},{"_id":"source/_posts/viewpager在最后一页滑动之后，跳转到主页面/20160731130745293.gif","slug":"20160731130745293.gif","post":"cjqur3amz001ya0us44jy3090","modified":0,"renderable":0},{"_id":"source/_posts/算法：冒泡排序/来自算法爱好者.png","slug":"来自算法爱好者.png","post":"cjqur3aob0030a0us43x9wqu0","modified":0,"renderable":0},{"_id":"source/_posts/设计模式：工厂方法模式、简单工厂模式与抽象工厂模式/1.jpg","slug":"1.jpg","post":"cjqur3aoj0034a0usep2jl9fo","modified":0,"renderable":0},{"_id":"source/_posts/hexo之如何强制访问https/1.png","slug":"1.png","post":"cjqur3alo0014a0us8grtjz1u","modified":0,"renderable":0},{"_id":"source/_posts/hexo之如何强制访问https/2.png","slug":"2.png","post":"cjqur3alo0014a0us8grtjz1u","modified":0,"renderable":0},{"_id":"source/_posts/再总结一下activity的生命周期吧/1生命周期中文.png","slug":"1生命周期中文.png","post":"cjqur3anf0027a0uslbg0qjmg","modified":0,"renderable":0},{"_id":"source/_posts/再总结一下activity的生命周期吧/2生命周期英文.png","slug":"2生命周期英文.png","post":"cjqur3anf0027a0uslbg0qjmg","modified":0,"renderable":0},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/1.gif","slug":"1.gif","post":"cjqur3ajs000ca0usi6osk2oo","modified":0,"renderable":0},{"_id":"source/_posts/TCP协议中的三次握手和四次挥手/3.gif","slug":"3.gif","post":"cjqur3ajs000ca0usi6osk2oo","modified":0,"renderable":0},{"_id":"source/_posts/设计模式之mvp设计模式/1.jpg","slug":"1.jpg","post":"cjqur3ao2002sa0usy32ahmxq","modified":0,"renderable":0},{"_id":"source/_posts/设计模式之mvp设计模式/2.jpg","slug":"2.jpg","post":"cjqur3ao2002sa0usy32ahmxq","modified":0,"renderable":0},{"_id":"source/_posts/设计模式之mvp设计模式/3.jpg","slug":"3.jpg","post":"cjqur3ao2002sa0usy32ahmxq","modified":0,"renderable":0},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/2017-03-23_105452.png","slug":"2017-03-23_105452.png","post":"cjqur3anj002ba0usgzdlfacm","modified":0,"renderable":0},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/diagram_backstack.png","slug":"diagram_backstack.png","post":"cjqur3anj002ba0usgzdlfacm","modified":0,"renderable":0},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleInstance.png","slug":"singleInstance.png","post":"cjqur3anj002ba0usgzdlfacm","modified":0,"renderable":0},{"_id":"source/_posts/理解Android-Activity运行模式（understand-Android-Activity-s-launch-mode）/singleTask.gif","slug":"singleTask.gif","post":"cjqur3anj002ba0usgzdlfacm","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_154037.png","slug":"2017-06-12_154037.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_162203.png","slug":"2017-06-12_162203.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_181756.png","slug":"2017-06-12_181756.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_181946.png","slug":"2017-06-12_181946.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_182814.png","slug":"2017-06-12_182814.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/git之head-detached-from-xxx/2017-06-12_183817.png","slug":"2017-06-12_183817.png","post":"cjqur3aky000sa0usbsy0bh73","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234335.png","slug":"2017-07-29_234335.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_234739.png","slug":"2017-07-29_234739.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-29_235311.png","slug":"2017-07-29_235311.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_000208.png","slug":"2017-07-30_000208.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001401.png","slug":"2017-07-30_001401.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_001931.png","slug":"2017-07-30_001931.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002457.png","slug":"2017-07-30_002457.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/vmware之ubuntu如何在仅主机模式下联网/2017-07-30_002750.png","slug":"2017-07-30_002750.png","post":"cjqur3an40021a0usxrd08nyf","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130204.jpg","slug":"2017-05-02_130204.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130529.jpg","slug":"2017-05-02_130529.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130706.jpg","slug":"2017-05-02_130706.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_130841.jpg","slug":"2017-05-02_130841.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_131022.jpg","slug":"2017-05-02_131022.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_131313.jpg","slug":"2017-05-02_131313.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_132947.jpg","slug":"2017-05-02_132947.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_134259.jpg","slug":"2017-05-02_134259.jpg","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0},{"_id":"source/_posts/hexo从多说评论转为韩国来必力评论/2017-05-02_150715.png","slug":"2017-05-02_150715.png","post":"cjqur3alx0018a0usbplwg7j4","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cjqur3ah70000a0uspcvxm280","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3alb000ya0usr8zxq521"},{"post_id":"cjqur3ah70000a0uspcvxm280","category_id":"cjqur3akk000oa0us9cx3fv0w","_id":"cjqur3ali0012a0usydlq5uy8"},{"post_id":"cjqur3ama001da0uska53h5xs","category_id":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3aml001la0usykodf6t0"},{"post_id":"cjqur3ak4000ga0uslz91pynn","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3ams001sa0uss2y0gm0z"},{"post_id":"cjqur3ak4000ga0uslz91pynn","category_id":"cjqur3amd001fa0usa483upyc","_id":"cjqur3amy001xa0us8ypg78tg"},{"post_id":"cjqur3aip0006a0us40letk0j","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3an30020a0usutdutt5e"},{"post_id":"cjqur3aip0006a0us40letk0j","category_id":"cjqur3amm001ma0usm0zbjfqm","_id":"cjqur3ana0025a0usi13yr8oo"},{"post_id":"cjqur3ak9000ia0usq5r3ev4h","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3anh0028a0usdo9r9n0c"},{"post_id":"cjqur3ak9000ia0usq5r3ev4h","category_id":"cjqur3amw001ua0us7lz6aobx","_id":"cjqur3ank002ca0us6q4fvl7k"},{"post_id":"cjqur3akf000ma0uslswzxkng","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3ano002fa0usyrx4fhla"},{"post_id":"cjqur3akf000ma0uslswzxkng","category_id":"cjqur3amw001ua0us7lz6aobx","_id":"cjqur3ant002ka0usdea1ozkk"},{"post_id":"cjqur3aiw0008a0ushwvy4g92","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3anw002ma0usutgzjbii"},{"post_id":"cjqur3aiw0008a0ushwvy4g92","category_id":"cjqur3aka000ja0usvnoe0816","_id":"cjqur3ao0002qa0usq8irxdtf"},{"post_id":"cjqur3aiw0008a0ushwvy4g92","category_id":"cjqur3anh0029a0usiiwqog1c","_id":"cjqur3ao4002ta0us380y1jum"},{"post_id":"cjqur3akh000na0usft6yqpd8","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3ao8002xa0usfpm0afci"},{"post_id":"cjqur3akh000na0usft6yqpd8","category_id":"cjqur3amw001ua0us7lz6aobx","_id":"cjqur3aoe0031a0uspsiof2rg"},{"post_id":"cjqur3ajc0009a0usn1ip8v6f","category_id":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3ap9003ga0usjo8q88so"},{"post_id":"cjqur3ajc0009a0usn1ip8v6f","category_id":"cjqur3aor0038a0us5o5dn8hg","_id":"cjqur3apb003ka0ushzgxfw8j"},{"post_id":"cjqur3ajs000ca0usi6osk2oo","category_id":"cjqur3alc000za0usubsv3hf3","_id":"cjqur3apq003wa0us0v1xfjmf"},{"post_id":"cjqur3ajs000ca0usi6osk2oo","category_id":"cjqur3apj003pa0us7dfxb69o","_id":"cjqur3aps003za0usq8wgyytv"},{"post_id":"cjqur3aia0002a0us099pvhwq","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3aq50047a0uscy7t2sz7"},{"post_id":"cjqur3aia0002a0us099pvhwq","category_id":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3aq8004aa0us1iqosl3b"},{"post_id":"cjqur3aia0002a0us099pvhwq","category_id":"cjqur3apt0041a0us4uiiscx9","_id":"cjqur3aq8004ca0usndlpbzye"},{"post_id":"cjqur3ak0000da0usjoj0j1w7","category_id":"cjqur3am00019a0usn3yguvw1","_id":"cjqur3aqe004ja0us8anx5hyk"},{"post_id":"cjqur3ak0000da0usjoj0j1w7","category_id":"cjqur3aq9004da0usg3wsqgi6","_id":"cjqur3aqg004ma0us2l46y8jt"},{"post_id":"cjqur3ame001ha0usswbomljc","category_id":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3aqi004oa0usqmtdmfq6"},{"post_id":"cjqur3ame001ha0usswbomljc","category_id":"cjqur3aor0038a0us5o5dn8hg","_id":"cjqur3aqk004qa0usvhvt4krq"},{"post_id":"cjqur3amh001ja0usxmzslwkd","category_id":"cjqur3al2000ua0usn29iq6yw","_id":"cjqur3aqm004ta0uskkb88gdu"},{"post_id":"cjqur3amh001ja0usxmzslwkd","category_id":"cjqur3aqf004ka0uskq0h2hx3","_id":"cjqur3aqn004va0uscx0h4s5b"},{"post_id":"cjqur3amz001ya0us44jy3090","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3aqy0057a0usur9cpjen"},{"post_id":"cjqur3amz001ya0us44jy3090","category_id":"cjqur3aqq0050a0usbvqungrw","_id":"cjqur3ar0005aa0us33dpwfyx"},{"post_id":"cjqur3an40021a0usxrd08nyf","category_id":"cjqur3aqu0053a0us5qkaq0hx","_id":"cjqur3ar2005da0usfmvs7nrn"},{"post_id":"cjqur3anf0027a0uslbg0qjmg","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3ar9005ka0us0a6906m3"},{"post_id":"cjqur3anf0027a0uslbg0qjmg","category_id":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3arb005na0uszynt8otg"},{"post_id":"cjqur3anf0027a0uslbg0qjmg","category_id":"cjqur3ar2005ea0usk3kttddh","_id":"cjqur3ard005qa0usexv4kfqi"},{"post_id":"cjqur3anj002ba0usgzdlfacm","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3arf005ta0usafnf2t4k"},{"post_id":"cjqur3anj002ba0usgzdlfacm","category_id":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3arg005va0us2u308vlj"},{"post_id":"cjqur3anj002ba0usgzdlfacm","category_id":"cjqur3ar2005ea0usk3kttddh","_id":"cjqur3ari005ya0usrmes449j"},{"post_id":"cjqur3anm002ea0us1688k2bg","category_id":"cjqur3ara005la0ushpzzfusi","_id":"cjqur3arj0060a0usxkecb8ke"},{"post_id":"cjqur3any002oa0uskcfugwuk","category_id":"cjqur3ark0062a0usau34gdxy","_id":"cjqur3aro0068a0usvpaxuiqb"},{"post_id":"cjqur3akv000qa0us7ujlz0ot","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3ars006ca0us0mqkhcn3"},{"post_id":"cjqur3akv000qa0us7ujlz0ot","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3art006fa0usafw045fb"},{"post_id":"cjqur3ao2002sa0usy32ahmxq","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3arv006ia0us61fpmfgo"},{"post_id":"cjqur3ao2002sa0usy32ahmxq","category_id":"cjqur3aro0069a0usml1ar0cn","_id":"cjqur3arw006ka0us8rhqq2yj"},{"post_id":"cjqur3aky000sa0usbsy0bh73","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3as4006ra0uswsyx2ibf"},{"post_id":"cjqur3aky000sa0usbsy0bh73","category_id":"cjqur3ary006na0usy6glalj6","_id":"cjqur3as6006ua0uslpkdltj8"},{"post_id":"cjqur3aop0037a0uskyf8w1cs","category_id":"cjqur3as5006ta0usu12bt764","_id":"cjqur3as7006wa0usfzl5s5m6"},{"post_id":"cjqur3al4000wa0uskfrpfiph","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3asc006ya0us8lwl0ank"},{"post_id":"cjqur3al4000wa0uskfrpfiph","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3asf0070a0usqk8q14no"},{"post_id":"cjqur3al7000xa0uswsh34ay0","category_id":"cjqur3aig0004a0us490fskdq","_id":"cjqur3ash0071a0usghvigx86"},{"post_id":"cjqur3al7000xa0uswsh34ay0","category_id":"cjqur3alp0015a0uszwtusiw4","_id":"cjqur3asi0073a0us5rhcrfgt"},{"post_id":"cjqur3al7000xa0uswsh34ay0","category_id":"cjqur3as8006xa0usxw4nq48h","_id":"cjqur3ask0074a0usss9rbsqm"},{"post_id":"cjqur3ald0010a0usfthbhji7","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3asm0076a0usyst35cev"},{"post_id":"cjqur3ald0010a0usfthbhji7","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3asn0077a0usoga0ds7m"},{"post_id":"cjqur3alj0013a0us9s0in9ic","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3aso0079a0us9kg5evj3"},{"post_id":"cjqur3alj0013a0us9s0in9ic","category_id":"cjqur3ary006na0usy6glalj6","_id":"cjqur3asp007aa0us6v5p0sii"},{"post_id":"cjqur3alo0014a0us8grtjz1u","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3asq007ca0ustvfk0mnu"},{"post_id":"cjqur3alo0014a0us8grtjz1u","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3asr007da0uscv8bcn3d"},{"post_id":"cjqur3alt0017a0us9b55mswn","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3ass007fa0usbjx9kanc"},{"post_id":"cjqur3alt0017a0us9b55mswn","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3ast007ga0usllx4cbml"},{"post_id":"cjqur3alx0018a0usbplwg7j4","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3asu007ia0us5xm40gex"},{"post_id":"cjqur3alx0018a0usbplwg7j4","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3asv007ja0usjr9s89qf"},{"post_id":"cjqur3am7001ba0usmv6xghg1","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3asw007la0uswmadrkah"},{"post_id":"cjqur3am7001ba0usmv6xghg1","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3asw007ma0us3i59pa9k"},{"post_id":"cjqur3amn001oa0usbngs99n5","category_id":"cjqur3aqi004pa0us7l1vjqzn","_id":"cjqur3asz007oa0uszhz1q8de"},{"post_id":"cjqur3amn001oa0usbngs99n5","category_id":"cjqur3ast007ha0usi92kigvk","_id":"cjqur3at0007pa0us1r8d7bg3"},{"post_id":"cjqur3amq001qa0us2nto48la","category_id":"cjqur3aqn004ua0usn9urnga1","_id":"cjqur3at4007ra0us6leao8h5"},{"post_id":"cjqur3amq001qa0us2nto48la","category_id":"cjqur3asv007ka0us7l3xo7cp","_id":"cjqur3at5007sa0usijkixv4z"},{"post_id":"cjqur3amt001ta0us8r0pz07e","category_id":"cjqur3aqp004ya0usa1onr1ix","_id":"cjqur3at6007ua0usx73026xe"},{"post_id":"cjqur3amt001ta0us8r0pz07e","category_id":"cjqur3asx007na0usc5n63evj","_id":"cjqur3at7007va0us3p65qm9s"},{"post_id":"cjqur3anb0026a0usffbmyldd","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3at9007xa0uspynpjm8v"},{"post_id":"cjqur3anb0026a0usffbmyldd","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3at9007ya0usvpomgtmg"},{"post_id":"cjqur3anr002ja0uswio6qjma","category_id":"cjqur3anx002na0uswxlrryxw","_id":"cjqur3ata007za0usuf6y7qve"},{"post_id":"cjqur3anr002ja0uswio6qjma","category_id":"cjqur3arm0065a0usqrx2rwt3","_id":"cjqur3atb0081a0us91lcdfmj"},{"post_id":"cjqur3anu002la0usykvjtrkm","category_id":"cjqur3arh005xa0usfe2ow39w","_id":"cjqur3atc0082a0ush3d2hpvb"},{"post_id":"cjqur3anu002la0usykvjtrkm","category_id":"cjqur3at8007wa0us261bmoru","_id":"cjqur3ate0084a0uszglzgt29"},{"post_id":"cjqur3ao6002wa0usl73dhbks","category_id":"cjqur3ars006da0usx22vjde7","_id":"cjqur3ate0085a0usnmwppn68"},{"post_id":"cjqur3ao6002wa0usl73dhbks","category_id":"cjqur3ata0080a0us9hv8lwn9","_id":"cjqur3atg0087a0usyrim263l"},{"post_id":"cjqur3aob0030a0us43x9wqu0","category_id":"cjqur3arh005xa0usfe2ow39w","_id":"cjqur3ath0088a0usn17xxb3s"},{"post_id":"cjqur3aob0030a0us43x9wqu0","category_id":"cjqur3atd0083a0usbwe3xnyn","_id":"cjqur3ath0089a0uss1dbgiaz"},{"post_id":"cjqur3aoj0034a0usep2jl9fo","category_id":"cjqur3ars006da0usx22vjde7","_id":"cjqur3ati008aa0uscjip1c11"},{"post_id":"cjqur3aoj0034a0usep2jl9fo","category_id":"cjqur3atf0086a0us33zx8ib2","_id":"cjqur3atj008ba0usg6r1rvcz"}],"PostTag":[{"post_id":"cjqur3ah70000a0uspcvxm280","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3ak7000ha0us9w3pi3db"},{"post_id":"cjqur3ah70000a0uspcvxm280","tag_id":"cjqur3ajg000ba0usrp7j0exj","_id":"cjqur3akd000ka0us1vs2y3k6"},{"post_id":"cjqur3aia0002a0us099pvhwq","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3aky000ra0usl3rcl1c5"},{"post_id":"cjqur3aia0002a0us099pvhwq","tag_id":"cjqur3akd000la0us3t1pjimg","_id":"cjqur3al2000ta0us5tgfvrmc"},{"post_id":"cjqur3aip0006a0us40letk0j","tag_id":"cjqur3akm000pa0uspvy1fswd","_id":"cjqur3am9001ca0usmz4vpxjl"},{"post_id":"cjqur3aip0006a0us40letk0j","tag_id":"cjqur3al3000va0usegqx2263","_id":"cjqur3amc001ea0uswxjcve6w"},{"post_id":"cjqur3aip0006a0us40letk0j","tag_id":"cjqur3alh0011a0us6q6g75p1","_id":"cjqur3amg001ia0usfeko229e"},{"post_id":"cjqur3aip0006a0us40letk0j","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3amk001ka0use88zo6aa"},{"post_id":"cjqur3aiw0008a0ushwvy4g92","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3amp001pa0us4x0bbcia"},{"post_id":"cjqur3aiw0008a0ushwvy4g92","tag_id":"cjqur3am4001aa0usr72snurs","_id":"cjqur3amr001ra0ushx36tjkb"},{"post_id":"cjqur3ame001ha0usswbomljc","tag_id":"cjqur3ame001ga0usk9utn2pe","_id":"cjqur3amx001wa0usdvkg6g31"},{"post_id":"cjqur3ajc0009a0usn1ip8v6f","tag_id":"cjqur3ame001ga0usk9utn2pe","_id":"cjqur3an2001za0uso4588q1p"},{"post_id":"cjqur3ajs000ca0usi6osk2oo","tag_id":"cjqur3amm001na0us7rxqnzlj","_id":"cjqur3an80022a0usqc61z9eh"},{"post_id":"cjqur3ak0000da0usjoj0j1w7","tag_id":"cjqur3amw001va0us8fjm0aab","_id":"cjqur3anl002da0usqsdo7ptv"},{"post_id":"cjqur3ak0000da0usjoj0j1w7","tag_id":"cjqur3an90024a0usn1hnzwt2","_id":"cjqur3ano002ga0uslhi0e1dj"},{"post_id":"cjqur3ak4000ga0uslz91pynn","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3ao1002ra0usnimd3b7l"},{"post_id":"cjqur3ak4000ga0uslz91pynn","tag_id":"cjqur3ani002aa0us6ax4dm3u","_id":"cjqur3ao5002va0usm3ouirvl"},{"post_id":"cjqur3ak4000ga0uslz91pynn","tag_id":"cjqur3anq002ia0us3imzhha5","_id":"cjqur3aoa002za0usk8wo9t8d"},{"post_id":"cjqur3ak9000ia0usq5r3ev4h","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3aoi0033a0usovd8eaux"},{"post_id":"cjqur3ak9000ia0usq5r3ev4h","tag_id":"cjqur3anz002pa0usdrez8yi5","_id":"cjqur3aoo0036a0usd75w8kdd"},{"post_id":"cjqur3akf000ma0uslswzxkng","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3aos0039a0us22gln7qj"},{"post_id":"cjqur3akf000ma0uslswzxkng","tag_id":"cjqur3anz002pa0usdrez8yi5","_id":"cjqur3ap3003ba0usnra61op0"},{"post_id":"cjqur3akh000na0usft6yqpd8","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3ap4003ca0ust1yzczan"},{"post_id":"cjqur3akh000na0usft6yqpd8","tag_id":"cjqur3anz002pa0usdrez8yi5","_id":"cjqur3ap8003fa0us0zy2awt0"},{"post_id":"cjqur3akv000qa0us7ujlz0ot","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3ap9003ha0us4ezby6zu"},{"post_id":"cjqur3aky000sa0usbsy0bh73","tag_id":"cjqur3anq002ia0us3imzhha5","_id":"cjqur3apc003la0us06511x2f"},{"post_id":"cjqur3al4000wa0uskfrpfiph","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3aph003oa0us9ql2oaw1"},{"post_id":"cjqur3al7000xa0uswsh34ay0","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3apm003ra0usisl084yq"},{"post_id":"cjqur3al7000xa0uswsh34ay0","tag_id":"cjqur3apf003na0us8omrp9b4","_id":"cjqur3apn003ta0us1dbpr8uf"},{"post_id":"cjqur3ald0010a0usfthbhji7","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3app003va0usel9iu8lw"},{"post_id":"cjqur3alj0013a0us9s0in9ic","tag_id":"cjqur3anq002ia0us3imzhha5","_id":"cjqur3apt0040a0uscgadq1kp"},{"post_id":"cjqur3alo0014a0us8grtjz1u","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3apv0043a0usxt6j3cwa"},{"post_id":"cjqur3alt0017a0us9b55mswn","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3aq40046a0us5q9mpdvs"},{"post_id":"cjqur3alx0018a0usbplwg7j4","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3aq8004ba0us1ldhqe4k"},{"post_id":"cjqur3am7001ba0usmv6xghg1","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3aqa004fa0us28t0vhlh"},{"post_id":"cjqur3ama001da0uska53h5xs","tag_id":"cjqur3aq9004ea0usd8dojvfe","_id":"cjqur3aqe004ia0uslwfg58l5"},{"post_id":"cjqur3amh001ja0usxmzslwkd","tag_id":"cjqur3aqc004ha0uslaklfeps","_id":"cjqur3aqh004na0uss38tf54c"},{"post_id":"cjqur3amn001oa0usbngs99n5","tag_id":"cjqur3aqf004la0us0xv3v4nj","_id":"cjqur3aqm004sa0us9jxoiy0q"},{"post_id":"cjqur3amq001qa0us2nto48la","tag_id":"cjqur3aqk004ra0ussvsz2pve","_id":"cjqur3aqo004xa0usk37usrva"},{"post_id":"cjqur3amt001ta0us8r0pz07e","tag_id":"cjqur3aqo004wa0usi6q3mm7g","_id":"cjqur3aqt0052a0usrp9taag5"},{"post_id":"cjqur3amt001ta0us8r0pz07e","tag_id":"cjqur3aqp004za0uspnlvws55","_id":"cjqur3aqu0054a0usq8buktv5"},{"post_id":"cjqur3amz001ya0us44jy3090","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3aqx0056a0uslhase0ua"},{"post_id":"cjqur3amz001ya0us44jy3090","tag_id":"cjqur3aqs0051a0usbj5jjl7f","_id":"cjqur3aqz0059a0us3p05w1g5"},{"post_id":"cjqur3an40021a0usxrd08nyf","tag_id":"cjqur3aqv0055a0ust9c5fsq9","_id":"cjqur3ar2005ca0usdy38cxpp"},{"post_id":"cjqur3anb0026a0usffbmyldd","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3ar4005ga0usueypwnnq"},{"post_id":"cjqur3anf0027a0uslbg0qjmg","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3ar8005ja0us7hzvfynz"},{"post_id":"cjqur3anf0027a0uslbg0qjmg","tag_id":"cjqur3ar3005fa0usvfm47x57","_id":"cjqur3arb005ma0usupdzmke2"},{"post_id":"cjqur3anj002ba0usgzdlfacm","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3ard005pa0us64h6eovm"},{"post_id":"cjqur3anj002ba0usgzdlfacm","tag_id":"cjqur3ar7005ia0us6bbms025","_id":"cjqur3are005sa0usai9aa9x5"},{"post_id":"cjqur3anm002ea0us1688k2bg","tag_id":"cjqur3arc005oa0usvr31n76z","_id":"cjqur3arg005wa0usqsehc4ml"},{"post_id":"cjqur3anr002ja0uswio6qjma","tag_id":"cjqur3ap1003aa0us3wsbgm9v","_id":"cjqur3arj0061a0usw6rzh2ev"},{"post_id":"cjqur3anu002la0usykvjtrkm","tag_id":"cjqur3ari005za0usv0akzv4y","_id":"cjqur3arm0064a0us37rv8y2r"},{"post_id":"cjqur3any002oa0uskcfugwuk","tag_id":"cjqur3ark0063a0usolzis4mn","_id":"cjqur3aro0067a0usrwjglszz"},{"post_id":"cjqur3ao2002sa0usy32ahmxq","tag_id":"cjqur3aio0005a0uspj2vmwsm","_id":"cjqur3arr006ba0us9g5gav07"},{"post_id":"cjqur3ao2002sa0usy32ahmxq","tag_id":"cjqur3arn0066a0usv4mgmgwi","_id":"cjqur3art006ea0us7bu4keea"},{"post_id":"cjqur3ao6002wa0usl73dhbks","tag_id":"cjqur3arp006aa0us28ozjrt3","_id":"cjqur3aru006ha0ush4mn1sx2"},{"post_id":"cjqur3aob0030a0us43x9wqu0","tag_id":"cjqur3art006ga0usvdb5c6cq","_id":"cjqur3ary006ma0usdgwchu02"},{"post_id":"cjqur3aoj0034a0usep2jl9fo","tag_id":"cjqur3arx006la0usxdbbln72","_id":"cjqur3as1006pa0us21ffomzr"},{"post_id":"cjqur3aop0037a0uskyf8w1cs","tag_id":"cjqur3as0006oa0usxj8h3qp9","_id":"cjqur3as5006sa0us33um6yld"}],"Tag":[{"name":"android","_id":"cjqur3aio0005a0uspj2vmwsm"},{"name":"android各种manager","_id":"cjqur3ajg000ba0usrp7j0exj"},{"name":"android service","_id":"cjqur3akd000la0us3t1pjimg"},{"name":"GreenDao","_id":"cjqur3akm000pa0uspvy1fswd"},{"name":"sqlite","_id":"cjqur3al3000va0usegqx2263"},{"name":"框架","_id":"cjqur3alh0011a0us6q6g75p1"},{"name":"对象传递","_id":"cjqur3am4001aa0usr72snurs"},{"name":"javascript模块化","_id":"cjqur3ame001ga0usk9utn2pe"},{"name":"TCP","_id":"cjqur3amm001na0us7rxqnzlj"},{"name":"面试","_id":"cjqur3amw001va0us8fjm0aab"},{"name":"java","_id":"cjqur3an90024a0usn1hnzwt2"},{"name":"android studio","_id":"cjqur3ani002aa0us6ax4dm3u"},{"name":"git","_id":"cjqur3anq002ia0us3imzhha5"},{"name":"Material Design","_id":"cjqur3anz002pa0usdrez8yi5"},{"name":"个人主页","_id":"cjqur3ap1003aa0us3wsbgm9v"},{"name":"android broadcast","_id":"cjqur3apf003na0us8omrp9b4"},{"name":"javascript闭包","_id":"cjqur3aq9004ea0usd8dojvfe"},{"name":"javascript ajax","_id":"cjqur3aqc004ha0uslaklfeps"},{"name":"javatoexe","_id":"cjqur3aqf004la0us0xv3v4nj"},{"name":"tomcat","_id":"cjqur3aqk004ra0ussvsz2pve"},{"name":"oralce","_id":"cjqur3aqo004wa0usi6q3mm7g"},{"name":"sql","_id":"cjqur3aqp004za0uspnlvws55"},{"name":"widget","_id":"cjqur3aqs0051a0usbj5jjl7f"},{"name":"vmware","_id":"cjqur3aqv0055a0ust9c5fsq9"},{"name":"activity lifetime","_id":"cjqur3ar3005fa0usvfm47x57"},{"name":"activity launchMode","_id":"cjqur3ar7005ia0us6bbms025"},{"name":"regex","_id":"cjqur3arc005oa0usvr31n76z"},{"name":"二分查找法","_id":"cjqur3ari005za0usv0akzv4y"},{"name":"php","_id":"cjqur3ark0063a0usolzis4mn"},{"name":"设计模式","_id":"cjqur3arn0066a0usv4mgmgwi"},{"name":"适配器模式","_id":"cjqur3arp006aa0us28ozjrt3"},{"name":"冒泡排序","_id":"cjqur3art006ga0usvdb5c6cq"},{"name":"工厂模式","_id":"cjqur3arx006la0usxdbbln72"},{"name":"python","_id":"cjqur3as0006oa0usxj8h3qp9"}]}}